{"version":3,"file":"node.js","sources":["../src/hyphenate-style-name.js","../src/validate-no-mixed-hand.js","../src/sort-css-media-queries.js","../src/__tests__/test.node.js","../src/sequential-id-generator.js","../src/cache.js","../src/inject-style-prefixed.js","../src/validate-keyframes-object.js","../src/css.js","../src/server/server.js","../src/server/__tests__/tests.node.js"],"sourcesContent":["// @flow\n\nconst uppercasePattern = /[A-Z]/g;\nconst msPattern = /^ms-/;\nconst cache = {};\n\nexport default function hyphenateStyleName(prop: string): string {\n  return prop in cache\n    ? cache[prop]\n    : (cache[prop] = prop\n        .replace(uppercasePattern, \"-$&\")\n        .toLowerCase()\n        .replace(msPattern, \"-ms-\"));\n}\n","// @flow\n\n/**\n * Adapted from https://github.com/gilmoreorless/css-shorthand-properties\n */\n\nimport hyphenate from \"./hyphenate-style-name.js\";\n\nconst shorthandMap = {\n  // CSS 2.1: https://www.w3.org/TR/CSS2/propidx.html\n  \"list-style\": [\"list-style-type\", \"list-style-position\", \"list-style-image\"],\n  margin: [\"margin-top\", \"margin-right\", \"margin-bottom\", \"margin-left\"],\n  outline: [\"outline-width\", \"outline-style\", \"outline-color\"],\n  padding: [\"padding-top\", \"padding-right\", \"padding-bottom\", \"padding-left\"],\n\n  // CSS Backgrounds and Borders Module Level 3: https://www.w3.org/TR/css3-background/\n  background: [\n    \"background-image\",\n    \"background-position\",\n    \"background-size\",\n    \"background-repeat\",\n    \"background-origin\",\n    \"background-clip\",\n    \"background-attachment\",\n    \"background-color\",\n  ],\n  border: [\n    \"border-top-width\",\n    \"border-right-width\",\n    \"border-bottom-width\",\n    \"border-left-width\",\n    \"border-width\",\n    \"border-top-style\",\n    \"border-right-style\",\n    \"border-bottom-style\",\n    \"border-left-style\",\n    \"border-style\",\n    \"border-top-color\",\n    \"border-right-color\",\n    \"border-bottom-color\",\n    \"border-left-color\",\n    \"border-color\",\n  ],\n  \"border-color\": [\n    \"border-top-color\",\n    \"border-right-color\",\n    \"border-bottom-color\",\n    \"border-left-color\",\n  ],\n  \"border-style\": [\n    \"border-top-style\",\n    \"border-right-style\",\n    \"border-bottom-style\",\n    \"border-left-style\",\n  ],\n  \"border-width\": [\n    \"border-top-width\",\n    \"border-right-width\",\n    \"border-bottom-width\",\n    \"border-left-width\",\n  ],\n  \"border-top\": [\"border-top-width\", \"border-top-style\", \"border-top-color\"],\n  \"border-right\": [\n    \"border-right-width\",\n    \"border-right-style\",\n    \"border-right-color\",\n  ],\n  \"border-bottom\": [\n    \"border-bottom-width\",\n    \"border-bottom-style\",\n    \"border-bottom-color\",\n  ],\n  \"border-left\": [\n    \"border-left-width\",\n    \"border-left-style\",\n    \"border-left-color\",\n  ],\n  \"border-radius\": [\n    \"border-top-left-radius\",\n    \"border-top-right-radius\",\n    \"border-bottom-right-radius\",\n    \"border-bottom-left-radius\",\n  ],\n  \"border-image\": [\n    \"border-image-source\",\n    \"border-image-slice\",\n    \"border-image-width\",\n    \"border-image-outset\",\n    \"border-image-repeat\",\n  ],\n\n  // CSS Fonts Module Level 3: https://www.w3.org/TR/css3-fonts/\n  font: [\n    \"font-style\",\n    \"font-variant-ligatures\",\n    \"font-variant-alternates\",\n    \"font-variant-caps\",\n    \"font-variant-numeric\",\n    \"font-variant-east-asian\",\n    \"font-variant\",\n    \"font-weight\",\n    \"font-stretch\",\n    \"font-size\",\n    \"line-height\",\n    \"font-family\",\n  ],\n  \"font-variant\": [\n    \"font-variant-ligatures\",\n    \"font-variant-alternates\",\n    \"font-variant-caps\",\n    \"font-variant-numeric\",\n    \"font-variant-east-asian\",\n  ],\n\n  // CSS Flexible Box Layout Module Level 1: https://www.w3.org/TR/css3-flexbox-1/\n  flex: [\"flex-grow\", \"flex-shrink\", \"flex-basis\"],\n  \"flex-flow\": [\"flex-direction\", \"flex-wrap\"],\n\n  // CSS Grid Layout Module Level 1: https://www.w3.org/TR/css-grid-1/\n  grid: [\n    \"grid-template-rows\",\n    \"grid-template-columns\",\n    \"grid-template-areas\",\n    \"grid-auto-rows\",\n    \"grid-auto-columns\",\n    \"grid-auto-flow\",\n  ],\n  \"grid-template\": [\n    \"grid-template-rows\",\n    \"grid-template-columns\",\n    \"grid-template-areas\",\n  ],\n  \"grid-row\": [\"grid-row-start\", \"grid-row-end\"],\n  \"grid-column\": [\"grid-column-start\", \"grid-column-end\"],\n  \"grid-area\": [\n    \"grid-row-start\",\n    \"grid-column-start\",\n    \"grid-row-end\",\n    \"grid-column-end\",\n  ],\n  \"grid-gap\": [\"grid-row-gap\", \"grid-column-gap\"],\n\n  // CSS Masking Module Level 1: https://www.w3.org/TR/css-masking/\n  mask: [\n    \"mask-image\",\n    \"mask-mode\",\n    \"mask-position\",\n    \"mask-size\",\n    \"mask-repeat\",\n    \"mask-origin\",\n    \"mask-clip\",\n  ],\n  \"mask-border\": [\n    \"mask-border-source\",\n    \"mask-border-slice\",\n    \"mask-border-width\",\n    \"mask-border-outset\",\n    \"mask-border-repeat\",\n    \"mask-border-mode\",\n  ],\n\n  // CSS Multi-column Layout Module: https://www.w3.org/TR/css3-multicol/\n  columns: [\"column-width\", \"column-count\"],\n  \"column-rule\": [\n    \"column-rule-width\",\n    \"column-rule-style\",\n    \"column-rule-color\",\n  ],\n\n  // CSS Scroll Snap Module Level 1: https://www.w3.org/TR/css-scroll-snap-1/\n  \"scroll-padding\": [\n    \"scroll-padding-top\",\n    \"scroll-padding-right\",\n    \"scroll-padding-bottom\",\n    \"scroll-padding-left\",\n  ],\n  \"scroll-padding-block\": [\n    \"scroll-padding-block-start\",\n    \"scroll-padding-block-end\",\n  ],\n  \"scroll-padding-inline\": [\n    \"scroll-padding-inline-start\",\n    \"scroll-padding-inline-end\",\n  ],\n  \"scroll-snap-margin\": [\n    \"scroll-snap-margin-top\",\n    \"scroll-snap-margin-right\",\n    \"scroll-snap-margin-bottom\",\n    \"scroll-snap-margin-left\",\n  ],\n  \"scroll-snap-margin-block\": [\n    \"scroll-snap-margin-block-start\",\n    \"scroll-snap-margin-block-end\",\n  ],\n  \"scroll-snap-margin-inline\": [\n    \"scroll-snap-margin-inline-start\",\n    \"scroll-snap-margin-inline-end\",\n  ],\n\n  // CSS Speech Module: https://www.w3.org/TR/css3-speech/\n  cue: [\"cue-before\", \"cue-after\"],\n  pause: [\"pause-before\", \"pause-after\"],\n  rest: [\"rest-before\", \"rest-after\"],\n\n  // CSS Text Decoration Module Level 3: https://www.w3.org/TR/css-text-decor-3/\n  \"text-decoration\": [\n    \"text-decoration-line\",\n    \"text-decoration-style\",\n    \"text-decoration-color\",\n  ],\n  \"text-emphasis\": [\"text-emphasis-style\", \"text-emphasis-color\"],\n\n  // CSS Animations (WD): https://www.w3.org/TR/css3-animations\n  animation: [\n    \"animation-name\",\n    \"animation-duration\",\n    \"animation-timing-function\",\n    \"animation-delay\",\n    \"animation-iteration-count\",\n    \"animation-direction\",\n    \"animation-fill-mode\",\n    \"animation-play-state\",\n  ],\n\n  // CSS Transitions (WD): https://www.w3.org/TR/css3-transitions/\n  transition: [\n    \"transition-property\",\n    \"transition-duration\",\n    \"transition-timing-function\",\n    \"transition-delay\",\n  ],\n};\n\nexport function validateNoMixedHand(style: Object) {\n  const hyphenatedProperties = Object.keys(style).reduce((acc, property) => {\n    acc[hyphenate(property)] = property;\n    return acc;\n  }, {});\n\n  const mixed = [];\n  for (const property in hyphenatedProperties) {\n    if (property in shorthandMap) {\n      for (const longhand of shorthandMap[property]) {\n        if (longhand in hyphenatedProperties) {\n          const long = hyphenatedProperties[longhand];\n          const short = hyphenatedProperties[property];\n          mixed.push({\n            shorthand: {property: short, value: style[short]},\n            longhand: {property: long, value: style[long]},\n          });\n        }\n      }\n    }\n  }\n  return mixed;\n}\n","// adapted from https://github.com/dutchenkoOleg/sort-css-media-queries\n\n// @flow\n\nconst minMaxWidth = /(!?\\(\\s*min(-device-)?-width).+\\(\\s*max(-device)?-width/i;\nconst minWidth = /\\(\\s*min(-device)?-width/i;\nconst maxMinWidth = /(!?\\(\\s*max(-device)?-width).+\\(\\s*min(-device)?-width/i;\nconst maxWidth = /\\(\\s*max(-device)?-width/i;\n\nconst isMinWidth = _testQuery(minMaxWidth, maxMinWidth, minWidth);\nconst isMaxWidth = _testQuery(maxMinWidth, minMaxWidth, maxWidth);\n\nconst minMaxHeight = /(!?\\(\\s*min(-device)?-height).+\\(\\s*max(-device)?-height/i;\nconst minHeight = /\\(\\s*min(-device)?-height/i;\nconst maxMinHeight = /(!?\\(\\s*max(-device)?-height).+\\(\\s*min(-device)?-height/i;\nconst maxHeight = /\\(\\s*max(-device)?-height/i;\n\nconst isMinHeight = _testQuery(minMaxHeight, maxMinHeight, minHeight);\nconst isMaxHeight = _testQuery(maxMinHeight, minMaxHeight, maxHeight);\n\nconst isPrint = /print/i;\nconst isPrintOnly = /^print$/i;\nconst maxValue = Number.MAX_VALUE;\n\nfunction _getQueryLength(length: string) {\n  const matches = /(-?\\d*\\.?\\d+)(ch|em|ex|px|rem)/.exec(length);\n  if (matches === null) {\n    return maxValue;\n  }\n  let number = matches[1];\n  const unit = matches[2];\n  switch (unit) {\n    case \"ch\":\n      number = parseFloat(number) * 8.8984375;\n      break;\n    case \"em\":\n    case \"rem\":\n      number = parseFloat(number) * 16;\n      break;\n    case \"ex\":\n      number = parseFloat(number) * 8.296875;\n      break;\n    case \"px\":\n      number = parseFloat(number);\n      break;\n  }\n  return +number;\n}\n\nfunction _testQuery(\n  doubleTestTrue: RegExp,\n  doubleTestFalse: RegExp,\n  singleTest: RegExp,\n) {\n  return function(query: string) {\n    if (doubleTestTrue.test(query)) {\n      return true;\n    } else if (doubleTestFalse.test(query)) {\n      return false;\n    }\n    return singleTest.test(query);\n  };\n}\n\nfunction _testIsPrint(a: string, b: string) {\n  const isPrintA = isPrint.test(a);\n  const isPrintOnlyA = isPrintOnly.test(a);\n  const isPrintB = isPrint.test(b);\n  const isPrintOnlyB = isPrintOnly.test(b);\n\n  if (isPrintA && isPrintB) {\n    if (!isPrintOnlyA && isPrintOnlyB) {\n      return 1;\n    }\n    if (isPrintOnlyA && !isPrintOnlyB) {\n      return -1;\n    }\n    return a.localeCompare(b);\n  }\n  if (isPrintA) {\n    return 1;\n  }\n  if (isPrintB) {\n    return -1;\n  }\n  return null;\n}\n\nexport default function sortCSSmq(a: string, b: string) {\n  if (a === \"\") {\n    return -1;\n  }\n  if (b === \"\") {\n    return 1;\n  }\n  const testIsPrint = _testIsPrint(a, b);\n  if (testIsPrint !== null) {\n    return testIsPrint;\n  }\n\n  const minA = isMinWidth(a) || isMinHeight(a);\n  const maxA = isMaxWidth(a) || isMaxHeight(a);\n  const minB = isMinWidth(b) || isMinHeight(b);\n  const maxB = isMaxWidth(b) || isMaxHeight(b);\n\n  if (minA && maxB) {\n    return -1;\n  }\n  if (maxA && minB) {\n    return 1;\n  }\n\n  const lengthA = _getQueryLength(a);\n  const lengthB = _getQueryLength(b);\n\n  if (lengthA === maxValue && lengthB === maxValue) {\n    return a.localeCompare(b);\n  } else if (lengthA === maxValue) {\n    return 1;\n  } else if (lengthB === maxValue) {\n    return -1;\n  }\n\n  if (lengthA > lengthB) {\n    if (maxA) {\n      return -1;\n    }\n    return 1;\n  }\n\n  if (lengthA < lengthB) {\n    if (maxA) {\n      return 1;\n    }\n    return -1;\n  }\n\n  return a.localeCompare(b);\n}\n","// @flow\n\nimport test from \"tape\";\n\nimport {validateNoMixedHand} from \"../validate-no-mixed-hand.js\";\n\nimport sortMq from \"../sort-css-media-queries.js\";\n\ntest(\"validateNoMixedHand\", t => {\n  t.deepEqual(\n    validateNoMixedHand({\n      border: \"red\",\n      borderColor: \"blue\",\n      borderTopColor: \"green\",\n    }),\n    [\n      {\n        shorthand: {property: \"border\", value: \"red\"},\n        longhand: {property: \"borderTopColor\", value: \"green\"},\n      },\n      {\n        shorthand: {property: \"border\", value: \"red\"},\n        longhand: {property: \"borderColor\", value: \"blue\"},\n      },\n      {\n        shorthand: {property: \"borderColor\", value: \"blue\"},\n        longhand: {property: \"borderTopColor\", value: \"green\"},\n      },\n    ],\n  );\n  t.end();\n});\n\ntest(\"sortMq simple\", t => {\n  const receivedOrder = [\n    \"screen and (max-width: 640px)\",\n    \"screen and (min-width: 980px)\",\n    \"screen and (max-width: 980px)\",\n    \"screen and (max-width: 768px)\",\n    \"screen and (min-width: 640px)\",\n    \"screen and (min-width: 1280px)\",\n    \"screen and (min-width: 768px)\",\n    \"screen and (max-width: 1280px)\",\n  ];\n\n  const expectedOrder = [\n    \"screen and (min-width: 640px)\",\n    \"screen and (min-width: 768px)\",\n    \"screen and (min-width: 980px)\",\n    \"screen and (min-width: 1280px)\",\n    \"screen and (max-width: 1280px)\",\n    \"screen and (max-width: 980px)\",\n    \"screen and (max-width: 768px)\",\n    \"screen and (max-width: 640px)\",\n  ];\n  t.deepEqual(receivedOrder.sort(sortMq), expectedOrder);\n  t.end();\n});\n\ntest(\"sortMq simple 2\", t => {\n  const receivedOrder = [\n    \"screen and (max-width: 640px)\",\n    \"screen and (max-width: 640px)\",\n    \"screen and (min-width: 1280px)\",\n    \"screen and (max-width: 640px)\",\n  ];\n\n  const expectedOrder = [\n    \"screen and (min-width: 1280px)\",\n    \"screen and (max-width: 640px)\",\n    \"screen and (max-width: 640px)\",\n    \"screen and (max-width: 640px)\",\n  ];\n  t.deepEqual(receivedOrder.sort(sortMq), expectedOrder);\n  t.end();\n});\n\ntest(\"sortMq no media type\", t => {\n  const receivedOrder = [\n    \"(min-width: 980px)\",\n    \"(min-width: 640px)\",\n    \"(min-width: 768px)\",\n  ];\n\n  const expectedOrder = [\n    \"(min-width: 640px)\",\n    \"(min-width: 768px)\",\n    \"(min-width: 980px)\",\n  ];\n  t.deepEqual(receivedOrder.sort(sortMq), expectedOrder);\n  t.end();\n});\n\ntest(\"sortMq without dimension\", t => {\n  const receivedOrder = [\n    \"tv\",\n    \"print and (orientation: landscape)\",\n    \"print and (orientation: portrait)\",\n    \"print and (orientation: portrait)\",\n    \"screen and (orientation: landscape)\",\n    \"print\",\n    \"screen and (orientation: portrait)\",\n    \"print and (orientation: landscape)\",\n    \"print and (orientation: portrait)\",\n  ];\n  const expectedOrder = [\n    \"screen and (orientation: landscape)\",\n    \"screen and (orientation: portrait)\",\n    \"tv\",\n    \"print\",\n    \"print and (orientation: landscape)\",\n    \"print and (orientation: landscape)\",\n    \"print and (orientation: portrait)\",\n    \"print and (orientation: portrait)\",\n    \"print and (orientation: portrait)\",\n  ];\n  t.deepEqual(receivedOrder.sort(sortMq), expectedOrder);\n  t.end();\n});\n\ntest(\"mixed\", t => {\n  const receivedOrder = [\n    \"tv\",\n    \"print and (orientation: landscape)\",\n    \"screen and (min-width: 1280px)\",\n    \"screen and (max-width: 640px)\",\n    \"screen and (orientation: landscape)\",\n    \"print\",\n    \"screen and (orientation: portrait)\",\n    \"screen and (min-width: 768px)\",\n    \"screen and (max-width: 1280px)\",\n    \"print and (orientation: portrait)\",\n  ];\n  const expectedOrder = [\n    \"screen and (min-width: 768px)\",\n    \"screen and (min-width: 1280px)\",\n    \"screen and (max-width: 1280px)\",\n    \"screen and (max-width: 640px)\",\n    \"screen and (orientation: landscape)\",\n    \"screen and (orientation: portrait)\",\n    \"tv\",\n    \"print\",\n    \"print and (orientation: landscape)\",\n    \"print and (orientation: portrait)\",\n  ];\n  t.deepEqual(receivedOrder.sort(sortMq), expectedOrder);\n  t.end();\n});\n","// @flow\n\nexport default class SequentialIDGenerator {\n  prefix: string;\n  count: number;\n  offset: number;\n  msb: number;\n  power: number;\n\n  constructor(prefix: string = \"\") {\n    // ensure start with \"ae\" so \"ad\" is never produced\n    this.prefix = prefix;\n    this.count = 0;\n    this.offset = 374;\n    this.msb = 1295;\n    this.power = 2;\n  }\n\n  next() {\n    const id = this.increment().toString(36);\n    return this.prefix ? `${this.prefix}${id}` : id;\n  }\n\n  increment() {\n    const id = this.count + this.offset;\n    if (id === this.msb) {\n      this.offset += (this.msb + 1) * 9;\n      this.msb = Math.pow(36, ++this.power) - 1;\n    }\n    this.count++;\n    return id;\n  }\n}\n","// @flow\n\nimport SequentialIDGenerator from \"./sequential-id-generator.js\";\nimport sortMq from \"./sort-css-media-queries.js\";\n\nexport class MultiCache<T> {\n  caches: {[string]: Cache<T>};\n  idGenerator: SequentialIDGenerator;\n  onNewCache: (string, Cache<T>, ?string) => any;\n  onNewValue: (cache: Cache<T>, id: string, value: T) => any;\n  sortedCacheKeys: string[];\n\n  constructor(\n    idGenerator: SequentialIDGenerator,\n    onNewCache: Function,\n    onNewValue: Function,\n  ) {\n    this.idGenerator = idGenerator;\n    this.onNewCache = onNewCache;\n    this.onNewValue = onNewValue;\n    this.sortedCacheKeys = [];\n    this.caches = {};\n  }\n\n  getCache(key: string): Cache<T> {\n    if (!this.caches[key]) {\n      const cache = new Cache(this.idGenerator, this.onNewValue);\n      cache.key = key;\n      this.sortedCacheKeys.push(key);\n      this.sortedCacheKeys.sort(sortMq);\n      const keyIndex = this.sortedCacheKeys.indexOf(key);\n      const insertBeforeMedia =\n        keyIndex < this.sortedCacheKeys.length - 1\n          ? this.sortedCacheKeys[keyIndex + 1]\n          : void 0;\n      this.caches[key] = cache;\n      this.onNewCache(key, cache, insertBeforeMedia);\n    }\n    return this.caches[key];\n  }\n\n  getSortedCacheKeys() {\n    return this.sortedCacheKeys;\n  }\n}\n\nexport class Cache<T> {\n  cache: {[string]: string};\n  idGenerator: SequentialIDGenerator;\n  key: string;\n  onNewValue: (cache: Cache<T>, id: string, value: any) => any;\n\n  constructor(\n    idGenerator: SequentialIDGenerator,\n    onNewValue: (cache: Cache<T>, id: string, value: any) => any,\n  ) {\n    this.cache = {};\n    this.idGenerator = idGenerator;\n    this.onNewValue = onNewValue;\n  }\n\n  addValue(key: string, value: T) {\n    const cached = this.cache[key];\n    if (cached) {\n      return cached;\n    }\n    const id = this.idGenerator.next();\n    this.cache[key] = id;\n    this.onNewValue(this, id, value);\n    return id;\n  }\n}\n","// @flow\n\ndeclare var __DEV__: boolean;\n\nimport hyphenate from \"./hyphenate-style-name.js\";\nimport {validateNoMixedHand} from \"./validate-no-mixed-hand.js\";\nimport {prefix} from \"inline-style-prefixer\";\n\nimport type {StyleObject} from \"styletron-standard\";\n\nimport {MultiCache} from \"./cache.js\";\n\nexport default function injectStylePrefixed(\n  styleCache: MultiCache<{pseudo: string, block: string}>,\n  styles: StyleObject,\n  media: string,\n  pseudo: string,\n) {\n  const cache = styleCache.getCache(media);\n  let classString = \"\";\n  for (const originalKey in styles) {\n    const originalVal = styles[originalKey];\n\n    if (originalVal === void 0 || originalVal === null) {\n      continue;\n    }\n    if (typeof originalVal !== \"object\") {\n      // Non-null and non-undefined primitive value\n      if (__DEV__) {\n        validateValueType(originalVal, originalKey);\n      }\n\n      const propValPair = `${hyphenate(\n        originalKey,\n      )}:${((originalVal: any): string)}`;\n      const key = `${pseudo}${propValPair}`;\n      const cachedId = cache.cache[key];\n      if (cachedId !== void 0) {\n        // cache hit\n        classString += \" \" + cachedId;\n        continue;\n      } else {\n        // cache miss\n        let block = \"\";\n        const prefixed = prefix({[originalKey]: originalVal});\n        for (const prefixedKey in prefixed) {\n          const prefixedVal = prefixed[prefixedKey];\n          const prefixedValType = typeof prefixedVal;\n          if (prefixedValType === \"string\" || prefixedValType === \"number\") {\n            const prefixedPair = `${hyphenate(prefixedKey)}:${prefixedVal}`;\n            if (prefixedPair !== propValPair) {\n              block += `${prefixedPair};`;\n            }\n          } else if (Array.isArray(prefixedVal)) {\n            const hyphenated = hyphenate(prefixedKey);\n            for (let i = 0; i < prefixedVal.length; i++) {\n              const prefixedPair = `${hyphenated}:${prefixedVal[i]}`;\n              if (prefixedPair !== propValPair) {\n                block += `${prefixedPair};`;\n              }\n            }\n          }\n        }\n        block += propValPair; // ensure original prop/val is last (for hydration)\n        const id = cache.addValue(key, {pseudo, block});\n        classString += \" \" + id;\n      }\n    } else {\n      // Non-null object value\n      if (originalKey[0] === \":\") {\n        classString +=\n          \" \" +\n          injectStylePrefixed(\n            styleCache,\n            originalVal,\n            media,\n            pseudo + originalKey,\n          );\n      } else if (originalKey.substring(0, 6) === \"@media\") {\n        classString +=\n          \" \" +\n          injectStylePrefixed(\n            styleCache,\n            originalVal,\n            originalKey.substr(7),\n            pseudo,\n          );\n      }\n    }\n  }\n\n  if (__DEV__) {\n    const conflicts = validateNoMixedHand(styles);\n    if (conflicts.length) {\n      conflicts.forEach(({shorthand, longhand}) => {\n        const short = JSON.stringify({[shorthand.property]: shorthand.value});\n        const long = JSON.stringify({[longhand.property]: longhand.value});\n        // eslint-disable-next-line no-console\n        console.warn(\n          `Styles \\`${short}\\` and \\`${long}\\` in object yielding class \"${classString.slice(\n            1,\n          )}\" may result in unexpected behavior. Mixing shorthand and longhand properties within the same style object is unsupported with atomic rendering.`,\n        );\n      });\n    }\n  }\n\n  // remove leading space\n  return classString.slice(1);\n}\n\nfunction validateValueType(value, key) {\n  if (\n    value === null ||\n    Array.isArray(value) ||\n    (typeof value !== \"number\" && typeof value !== \"string\")\n  ) {\n    throw new Error(\n      `Unsupported style value: ${JSON.stringify(\n        value,\n      )} used in property ${JSON.stringify(key)}`,\n    );\n  }\n}\n","// @flow\n\n/* eslint-disable no-console */\n\nconst validAnimationState = /^(from|to|\\+?(\\d*\\.)?\\d+%)(\\s*,\\s*(from|to|\\+?(\\d*\\.)?\\d+%))*$/;\n\nexport default function validateKeyframesObject(keyframes: Object) {\n  let valid = true;\n  for (const animationState in keyframes) {\n    const value = keyframes[animationState];\n    if (!validAnimationState.test(animationState)) {\n      valid = false;\n      console.warn(\n        `Warning: property \"${animationState}\" in keyframes object ${JSON.stringify(\n          keyframes,\n        )} is not a valid. Must be \"from\", \"to\", or a percentage.`,\n      );\n    }\n    if (typeof value !== \"object\") {\n      valid = false;\n      console.warn(\n        `Warning: value for \"${animationState}\" property in keyframes object ${JSON.stringify(\n          keyframes,\n        )} must be an object. Instead it was a ${typeof value}.`,\n      );\n    }\n    if (!valid) {\n      console.warn(\n        `Warning: object used as value for \"animationName\" style is invalid:`,\n        keyframes,\n      );\n    }\n  }\n}\n","// @flow\n\ndeclare var __DEV__: boolean;\n\nimport hyphenate from \"./hyphenate-style-name.js\";\nimport validateKeyframesObject from \"./validate-keyframes-object.js\";\n\nexport function atomicSelector(id: string, pseudo: string): string {\n  let selector = `.${id}`;\n  if (pseudo) {\n    selector += pseudo;\n  }\n  return selector;\n}\n\nexport function keyframesToBlock(keyframes: {[string]: Object}): string {\n  if (__DEV__) {\n    validateKeyframesObject(keyframes);\n  }\n  if (__DEV__ && typeof Object.getPrototypeOf(keyframes) !== \"undefined\") {\n    if (Object.getPrototypeOf(keyframes) !== Object.getPrototypeOf({})) {\n      // eslint-disable-next-line no-console\n      console.warn(\n        \"Only plain objects should be used as animation values. Unexpectedly recieved:\",\n        keyframes,\n      );\n    }\n  }\n  let result = \"\";\n  for (const animationState in keyframes) {\n    result += `${animationState}{${declarationsToBlock(\n      keyframes[animationState],\n    )}}`;\n  }\n  return result;\n}\n\nexport function declarationsToBlock(style: Object): string {\n  let css = \"\";\n  for (const prop in style) {\n    const val = style[prop];\n    if (typeof val === \"string\" || typeof val === \"number\") {\n      css += `${hyphenate(prop)}:${val};`;\n    }\n  }\n  // trim trailing semicolon\n  return css.slice(0, -1);\n}\n\nexport function keyframesBlockToRule(id: string, block: string): string {\n  return `@keyframes ${id}{${block}}`;\n}\n\nexport function fontFaceBlockToRule(id: string, block: string): string {\n  return `@font-face{font-family:${id};${block}}`;\n}\n\nexport function styleBlockToRule(selector: string, block: string): string {\n  return `${selector}{${block}}`;\n}\n","// @flow\n\nimport SequentialIDGenerator from \"../sequential-id-generator.js\";\n\nimport type {StandardEngine} from \"styletron-standard\";\n\nimport {Cache, MultiCache} from \"../cache.js\";\n\nimport injectStylePrefixed from \"../inject-style-prefixed.js\";\n\nimport type {\n  StyleObject,\n  FontFaceObject,\n  KeyframesObject,\n} from \"styletron-standard\";\n\nimport {\n  styleBlockToRule,\n  atomicSelector,\n  keyframesBlockToRule,\n  declarationsToBlock,\n  keyframesToBlock,\n  fontFaceBlockToRule,\n} from \"../css.js\";\n\nexport type attrsT = {\n  \"data-hydrate\"?: \"keyframes\" | \"font-face\",\n  media?: string,\n  class?: string,\n};\n\nexport type sheetT = {|\n  css: string,\n  attrs: attrsT,\n|};\n\ntype optionsT = {\n  prefix?: string,\n};\n\nclass StyletronServer implements StandardEngine {\n  styleCache: MultiCache<{pseudo: string, block: string}>;\n  keyframesCache: Cache<KeyframesObject>;\n  fontFaceCache: Cache<FontFaceObject>;\n  styleRules: {[string]: string};\n  keyframesRules: string;\n  fontFaceRules: string;\n\n  constructor(opts?: optionsT = {}) {\n    this.styleRules = {\"\": \"\"};\n    this.styleCache = new MultiCache(\n      new SequentialIDGenerator(opts.prefix),\n      media => {\n        this.styleRules[media] = \"\";\n      },\n      (cache, id, value) => {\n        const {pseudo, block} = value;\n        this.styleRules[cache.key] += styleBlockToRule(\n          atomicSelector(id, pseudo),\n          block,\n        );\n      },\n    );\n\n    this.fontFaceRules = \"\";\n    this.fontFaceCache = new Cache(\n      new SequentialIDGenerator(opts.prefix),\n      (cache, id, value) => {\n        this.fontFaceRules += fontFaceBlockToRule(\n          id,\n          declarationsToBlock(value),\n        );\n      },\n    );\n\n    this.keyframesRules = \"\";\n    this.keyframesCache = new Cache(\n      new SequentialIDGenerator(opts.prefix),\n      (cache, id, value) => {\n        this.keyframesRules += keyframesBlockToRule(\n          id,\n          keyframesToBlock(value),\n        );\n      },\n    );\n  }\n\n  renderStyle(style: StyleObject): string {\n    return injectStylePrefixed(this.styleCache, style, \"\", \"\");\n  }\n\n  renderFontFace(fontFace: FontFaceObject): string {\n    const key = JSON.stringify(fontFace);\n    return this.fontFaceCache.addValue(key, fontFace);\n  }\n\n  renderKeyframes(keyframes: KeyframesObject): string {\n    const key = JSON.stringify(keyframes);\n    return this.keyframesCache.addValue(key, keyframes);\n  }\n\n  getStylesheets(): Array<sheetT> {\n    return [\n      ...(this.keyframesRules.length\n        ? [\n            {\n              css: this.keyframesRules,\n              attrs: {\"data-hydrate\": \"keyframes\"},\n            },\n          ]\n        : []),\n      ...(this.fontFaceRules.length\n        ? [\n            {\n              css: this.fontFaceRules,\n              attrs: {\"data-hydrate\": \"font-face\"},\n            },\n          ]\n        : []),\n      ...sheetify(this.styleRules, this.styleCache.getSortedCacheKeys()),\n    ];\n  }\n\n  getStylesheetsHtml(className?: string = \"_styletron_hydrate_\") {\n    return generateHtmlString(this.getStylesheets(), className);\n  }\n\n  getCss() {\n    return (\n      this.keyframesRules +\n      this.fontFaceRules +\n      stringify(this.styleRules, this.styleCache.getSortedCacheKeys())\n    );\n  }\n}\n\nexport function generateHtmlString(sheets: Array<sheetT>, className: string) {\n  let html = \"\";\n  for (let i = 0; i < sheets.length; i++) {\n    const sheet = sheets[i];\n    const {class: originalClassName, ...rest} = sheet.attrs;\n    const attrs = {\n      class: originalClassName\n        ? `${className} ${originalClassName}`\n        : className,\n      ...(rest: attrsT),\n    };\n    html += `<style${attrsToString(attrs)}>${sheet.css}</style>`;\n  }\n  return html;\n}\n\nfunction attrsToString(attrs: attrsT) {\n  let result = \"\";\n  for (const attr in attrs) {\n    const value = attrs[attr];\n    if (value === true) {\n      result += \" \" + attr;\n    } else if (value !== false) {\n      result += ` ${attr}=\"${value}\"`;\n    }\n  }\n  return result;\n}\n\nfunction stringify(styleRules, sortedCacheKeys) {\n  let result = \"\";\n  sortedCacheKeys.forEach(cacheKey => {\n    const rules = styleRules[cacheKey];\n    if (cacheKey !== \"\") {\n      result += `@media ${cacheKey}{${rules}}`;\n    } else {\n      result += rules;\n    }\n  });\n  return result;\n}\n\nfunction sheetify(styleRules, sortedCacheKeys): Array<sheetT> {\n  if (sortedCacheKeys.length === 0) {\n    return [{css: \"\", attrs: {}}];\n  }\n  const sheets = [];\n  sortedCacheKeys.forEach(cacheKey => {\n    // omit media (cacheKey) attribute if empty\n    const attrs = cacheKey === \"\" ? {} : {media: cacheKey};\n    sheets.push({css: styleRules[cacheKey], attrs});\n  });\n  return sheets;\n}\n\nexport default StyletronServer;\n","// @flow\n\nimport test from \"tape\";\nimport Styletron from \"../server.js\";\n\ntest(\"StyletronServer toCss\", t => {\n  const styletron = new Styletron();\n  t.equal(styletron.getCss(), \"\", \"returns empty string when no styles\");\n  injectFixtureStyles(styletron);\n  t.equal(\n    styletron.getCss(),\n    \".ae{color:red}.af{color:green}.aj:hover{display:none}.ak{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.al{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}@media (min-width: 600px){.ah{color:red}}@media (min-width: 800px){.ag{color:green}.ai:hover{color:green}}\",\n  );\n  injectFixtureStyles(styletron);\n  t.equal(\n    styletron.getCss(),\n    \".ae{color:red}.af{color:green}.aj:hover{display:none}.ak{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.al{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}@media (min-width: 600px){.ah{color:red}}@media (min-width: 800px){.ag{color:green}.ai:hover{color:green}}\",\n  );\n  injectFixtureKeyframes(styletron);\n  t.equal(\n    styletron.getCss(),\n    \"@keyframes ae{from{color:purple}50%{color:yellow}to{color:orange}}.ae{color:red}.af{color:green}.aj:hover{display:none}.ak{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.al{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}@media (min-width: 600px){.ah{color:red}}@media (min-width: 800px){.ag{color:green}.ai:hover{color:green}}\",\n  );\n  t.end();\n});\n\ntest(\"StyletronServer getStylesheets\", t => {\n  const styletron = new Styletron();\n  t.deepEqual(\n    styletron.getStylesheets(),\n    [{css: \"\", attrs: {}}],\n    \"no styles yields array with single empty stylesheet\",\n  );\n  injectFixtureStyles(styletron);\n  t.deepEqual(styletron.getStylesheets(), [\n    {\n      css:\n        \".ae{color:red}.af{color:green}.aj:hover{display:none}.ak{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.al{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}\",\n      attrs: {},\n    },\n    {css: \".ah{color:red}\", attrs: {media: \"(min-width: 600px)\"}},\n    {\n      css: \".ag{color:green}.ai:hover{color:green}\",\n      attrs: {media: \"(min-width: 800px)\"},\n    },\n  ]);\n  injectFixtureKeyframes(styletron);\n  t.deepEqual(styletron.getStylesheets(), [\n    {\n      css: \"@keyframes ae{from{color:purple}50%{color:yellow}to{color:orange}}\",\n      attrs: {\"data-hydrate\": \"keyframes\"},\n    },\n    {\n      css:\n        \".ae{color:red}.af{color:green}.aj:hover{display:none}.ak{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.al{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}\",\n      attrs: {},\n    },\n    {css: \".ah{color:red}\", attrs: {media: \"(min-width: 600px)\"}},\n    {\n      css: \".ag{color:green}.ai:hover{color:green}\",\n      attrs: {media: \"(min-width: 800px)\"},\n    },\n  ]);\n  injectFixtureFontFace(styletron);\n  t.deepEqual(styletron.getStylesheets(), [\n    {\n      css: \"@keyframes ae{from{color:purple}50%{color:yellow}to{color:orange}}\",\n      attrs: {\"data-hydrate\": \"keyframes\"},\n    },\n    {\n      css: \"@font-face{font-family:ae;src:local('Roboto')}\",\n      attrs: {\"data-hydrate\": \"font-face\"},\n    },\n    {\n      css:\n        \".ae{color:red}.af{color:green}.aj:hover{display:none}.ak{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.al{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}\",\n      attrs: {},\n    },\n    {css: \".ah{color:red}\", attrs: {media: \"(min-width: 600px)\"}},\n    {\n      css: \".ag{color:green}.ai:hover{color:green}\",\n      attrs: {media: \"(min-width: 800px)\"},\n    },\n  ]);\n  t.end();\n});\n\ntest(\"StyletronServer getStylesheetsHtml \", t => {\n  const styletron = new Styletron();\n  t.equal(\n    styletron.getStylesheetsHtml(),\n    '<style class=\"_styletron_hydrate_\"></style>',\n    \"returns single empty stylesheet when no styles\",\n  );\n\n  injectFixtureStyles(styletron);\n  t.equal(\n    styletron.getStylesheetsHtml(),\n    '<style class=\"_styletron_hydrate_\">.ae{color:red}.af{color:green}.aj:hover{display:none}.ak{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.al{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}</style><style class=\"_styletron_hydrate_\" media=\"(min-width: 600px)\">.ah{color:red}</style><style class=\"_styletron_hydrate_\" media=\"(min-width: 800px)\">.ag{color:green}.ai:hover{color:green}</style>',\n  );\n  injectFixtureKeyframes(styletron);\n  t.equal(\n    styletron.getStylesheetsHtml(),\n    '<style class=\"_styletron_hydrate_\" data-hydrate=\"keyframes\">@keyframes ae{from{color:purple}50%{color:yellow}to{color:orange}}</style><style class=\"_styletron_hydrate_\">.ae{color:red}.af{color:green}.aj:hover{display:none}.ak{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.al{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}</style><style class=\"_styletron_hydrate_\" media=\"(min-width: 600px)\">.ah{color:red}</style><style class=\"_styletron_hydrate_\" media=\"(min-width: 800px)\">.ag{color:green}.ai:hover{color:green}</style>',\n  );\n  injectFixtureFontFace(styletron);\n  t.equal(\n    styletron.getStylesheetsHtml(),\n    '<style class=\"_styletron_hydrate_\" data-hydrate=\"keyframes\">@keyframes ae{from{color:purple}50%{color:yellow}to{color:orange}}</style><style class=\"_styletron_hydrate_\" data-hydrate=\"font-face\">@font-face{font-family:ae;src:local(\\'Roboto\\')}</style><style class=\"_styletron_hydrate_\">.ae{color:red}.af{color:green}.aj:hover{display:none}.ak{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.al{display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex}</style><style class=\"_styletron_hydrate_\" media=\"(min-width: 600px)\">.ah{color:red}</style><style class=\"_styletron_hydrate_\" media=\"(min-width: 800px)\">.ag{color:green}.ai:hover{color:green}</style>',\n  );\n  t.end();\n});\n\ntest(\"StyletronServer prefix option\", t => {\n  const styletron = new Styletron({prefix: \"foo_\"});\n  t.equal(styletron.renderStyle({color: \"red\"}), \"foo_ae\");\n  t.equal(injectFixtureFontFace(styletron), \"foo_ae\");\n  t.equal(injectFixtureKeyframes(styletron), \"foo_ae\");\n  t.deepEqual(styletron.getStylesheets(), [\n    {\n      css:\n        \"@keyframes foo_ae{from{color:purple}50%{color:yellow}to{color:orange}}\",\n      attrs: {\"data-hydrate\": \"keyframes\"},\n    },\n    {\n      css: \"@font-face{font-family:foo_ae;src:local('Roboto')}\",\n      attrs: {\"data-hydrate\": \"font-face\"},\n    },\n    {css: \".foo_ae{color:red}\", attrs: {}},\n  ]);\n  t.end();\n});\n\nfunction injectFixtureStyles(styletron) {\n  styletron.renderStyle({color: \"red\"});\n  styletron.renderStyle({color: \"green\"});\n  styletron.renderStyle({\n    \"@media (min-width: 800px)\": {\n      color: \"green\",\n    },\n  });\n  // should be added before \"min-width: 800px\" query\n  // test that Styletron properly sort media queries\n  styletron.renderStyle({\n    \"@media (min-width: 600px)\": {\n      color: \"red\",\n    },\n  });\n  styletron.renderStyle({\n    \"@media (min-width: 800px)\": {\n      \":hover\": {\n        color: \"green\",\n      },\n    },\n  });\n  styletron.renderStyle({\n    zIndex: void 0, // Should be silently ignored\n  });\n  styletron.renderStyle({\n    // null values were historically supported (albeit erronesouly)\n    opacity: null, // Should be silently ignored\n  });\n  styletron.renderStyle({\n    \":hover\": {\n      display: \"none\",\n    },\n  });\n  styletron.renderStyle({\n    userSelect: \"none\",\n  });\n  styletron.renderStyle({\n    display: \"flex\",\n  });\n}\n\nfunction injectFixtureKeyframes(styletron) {\n  return styletron.renderKeyframes({\n    from: {\n      color: \"purple\",\n    },\n    \"50%\": {\n      color: \"yellow\",\n    },\n    to: {\n      color: \"orange\",\n    },\n  });\n}\n\nfunction injectFixtureFontFace(styletron) {\n  return styletron.renderFontFace({\n    src: \"local('Roboto')\",\n  });\n}\n"],"names":["uppercasePattern","msPattern","cache","hyphenateStyleName","prop","replace","toLowerCase","shorthandMap","validateNoMixedHand","style","hyphenatedProperties","Object","keys","reduce","acc","property","hyphenate","mixed","longhand","long","short","push","minMaxWidth","minWidth","maxMinWidth","maxWidth","isMinWidth","_testQuery","isMaxWidth","minMaxHeight","minHeight","maxMinHeight","maxHeight","isMinHeight","isMaxHeight","isPrint","isPrintOnly","maxValue","Number","MAX_VALUE","_getQueryLength","length","matches","exec","number","unit","parseFloat","doubleTestTrue","doubleTestFalse","singleTest","query","test","_testIsPrint","a","b","isPrintA","isPrintOnlyA","isPrintB","isPrintOnlyB","localeCompare","sortCSSmq","testIsPrint","minA","maxA","minB","maxB","lengthA","lengthB","t","deepEqual","end","receivedOrder","expectedOrder","sort","sortMq","SequentialIDGenerator","prefix","count","offset","msb","power","id","increment","toString","Math","pow","MultiCache","idGenerator","onNewCache","onNewValue","sortedCacheKeys","caches","key","Cache","keyIndex","indexOf","insertBeforeMedia","value","cached","next","injectStylePrefixed","styleCache","styles","media","pseudo","getCache","classString","originalKey","originalVal","propValPair","cachedId","block","prefixed","prefixedKey","prefixedVal","prefixedValType","prefixedPair","Array","isArray","hyphenated","i","addValue","substring","substr","conflicts","forEach","JSON","stringify","shorthand","warn","slice","validateValueType","Error","validAnimationState","validateKeyframesObject","keyframes","valid","animationState","atomicSelector","selector","keyframesToBlock","getPrototypeOf","result","declarationsToBlock","css","val","keyframesBlockToRule","fontFaceBlockToRule","styleBlockToRule","StyletronServer","opts","styleRules","fontFaceRules","fontFaceCache","keyframesRules","keyframesCache","fontFace","sheetify","getSortedCacheKeys","className","generateHtmlString","getStylesheets","sheets","html","sheet","attrs","originalClassName","rest","attrsToString","attr","cacheKey","rules","styletron","Styletron","equal","getCss","getStylesheetsHtml","renderStyle","injectFixtureFontFace","injectFixtureKeyframes","injectFixtureStyles","renderKeyframes","renderFontFace"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1PF,MAAMK,sCAAc,0DAAd,CAAN;AACA,MAAMC,mCAAW,2BAAX,CAAN;AACA,MAAMC,sCAAc,yDAAd,CAAN;AACA,MAAMC,mCAAW,2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"}