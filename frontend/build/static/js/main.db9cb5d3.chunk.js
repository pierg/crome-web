/*!

=========================================================
* Notus PRO React - v1.0.0 based on Notus React and Tailwind Stater Kit by Creative Tim
=========================================================

* Product Page: https://www.creative-tim.com/product/notus-pro-react
* Copyright 2021 Creative Tim (https://www.creative-tim.com)

* Tailwind Starter Kit Page: https://www.creative-tim.com/learning-lab/tailwind-starter-kit/presentation

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this["webpackJsonp@notus-pro/react"]=this["webpackJsonp@notus-pro/react"]||[]).push([[0],{129:function(e,t,s){},234:function(e,t){},235:function(e,t){},254:function(e){e.exports=JSON.parse('{"edges":[{"arrows":{"to":{"type":"diamond"}},"from":"default-simple-0003","id":"b65169bd-cef4-489f-9efe-1cc9873c4464","to":"default-simple-0003||default-simple-0002"},{"arrows":{"to":{"type":"diamond"}},"from":"default-simple-0002","id":"6cf54926-ec49-4792-81fc-07de1a9cc884","to":"default-simple-0003||default-simple-0002"},{"arrows":{"to":{}},"from":"default-simple-0003||default-simple-0002","id":"3b2e1d23-59ad-49d8-b416-e408f3739478","to":"default-simple-0003||default-simple-0002**default-simple-0000"},{"arrows":{"to":{}},"from":"default-simple-0000","id":"a7c9fa64-cd8b-4429-a283-f2c988c12f35","to":"default-simple-0003||default-simple-0002**default-simple-0000"},{"arrows":{"to":{}},"from":"default-simple-0001","id":"c3765fe1-ef6e-41b6-855c-7f7150d8f445","to":"default-simple-0001**default-simple-0002"},{"arrows":{"to":{}},"from":"default-simple-0002","id":"95dda34b-35ba-407c-be16-89e760be39e2","to":"default-simple-0001**default-simple-0002"},{"arrows":{"to":{"type":"circle"}},"from":"default-simple-0003||default-simple-0002**default-simple-0000","id":"f9c6e86e-52f7-4b56-9075-4942f91dfb1b","to":"default-simple-0003||default-simple-0002**default-simple-0000/\\\\default-simple-0001**default-simple-0002"},{"arrows":{"to":{"type":"circle"}},"from":"default-simple-0001**default-simple-0002","id":"33fc167e-6057-44c0-b0f4-519ed39b1070","to":"default-simple-0003||default-simple-0002**default-simple-0000/\\\\default-simple-0001**default-simple-0002"}],"nodes":[{"group":"input","id":"default-simple-0003","label":"Register Person"},{"id":"default-simple-0003||default-simple-0002","label":"goal1"},{"id":"default-simple-0002","group":"input","label":"Greet Person"},{"id":"default-simple-0003||default-simple-0002**default-simple-0000","label":"goal3"},{"id":"default-simple-0000","group":"input","label":"Day patrolling"},{"id":"default-simple-0001","group":"input","label":"Night Patrolling"},{"id":"default-simple-0001**default-simple-0002","label":"goal6"},{"id":"default-simple-0003||default-simple-0002**default-simple-0000/\\\\default-simple-0001**default-simple-0002","label":"goal7"}]}')},255:function(e){e.exports=JSON.parse('{"a":[{"t":0,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"},{"t":1,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"","outputs":"r4"},{"t":2,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"},{"t":3,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"","outputs":"r4"},{"t":4,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"},{"t":5,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r4, greet"},{"t":6,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"","outputs":"r3"},{"t":7,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"","outputs":"r4"},{"t":8,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"},{"t":9,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r4, greet"},{"t":10,"context":"day & !(night)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"},{"t":11,"context":"day & !(night)","controller":"TRANS_r3-r5","inputs":"","outputs":"r5"},{"t":12,"context":"night & !(day)","controller":"SCENARIO_0","inputs":"","outputs":"r1, register"},{"t":13,"context":"day & !(night)","controller":"SCENARIO_0","inputs":"","outputs":"r2"},{"t":14,"context":"day & !(night)","controller":"SCENARIO_0","inputs":"","outputs":"r1"},{"t":15,"context":"day & !(night)","controller":"SCENARIO_0","inputs":"","outputs":"r2"},{"t":16,"context":"day & !(night)","controller":"SCENARIO_0","inputs":"","outputs":"r1"},{"t":17,"context":"day & !(night)","controller":"SCENARIO_0","inputs":"person","outputs":"r2, greet"},{"t":18,"context":"night & !(day)","controller":"TRANS_r2-r3","inputs":"","outputs":"r5"},{"t":19,"context":"night & !(day)","controller":"TRANS_r2-r3","inputs":"","outputs":"r3"},{"t":20,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r4, greet"},{"t":21,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"},{"t":22,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"","outputs":"r4"},{"t":23,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"","outputs":"r3"},{"t":24,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r4, greet"},{"t":25,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"}]}')},332:function(e,t,s){},333:function(e,t,s){},334:function(e,t,s){},335:function(e,t,s){},336:function(e,t,s){},337:function(e,t,s){},338:function(e,t,s){},351:function(e,t,s){},507:function(e,t){},530:function(e,t,s){"use strict";s.r(t),t.default="data:image/png;base64,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"},531:function(e,t,s){"use strict";s.r(t);var n=s(1),r=s.n(n),i=s(15),o=s.n(i),a=s(25),l=s(21),c=(s(332),s(333),s(334),s(335),s(336),s(70),s(337),s(338),s(4)),d=s(5),u=s(52),h=s(3),b=s.n(h),f=s(14),g=s(0),m=["outline","worldModeling","size","color","children","fullWidth","contracts"],p=r.a.forwardRef((function(e,t){var s=e.outline,n=(e.worldModeling,e.size),r=e.color,i=e.children,o=e.fullWidth,a=e.contracts,l=Object(f.a)(e,m),d="inline-block outline-none focus:outline-none align-middle transition-all duration-150 ease-in-out uppercase border border-solid font-bold last:mr-0 mr-2 ";return d=(d=d+" "+{facebook:"text-white bg-facebook-regular border-facebook-regular active:bg-facebook-active active:border-facebook-active","facebook-outline":"text-facebook-regular border-facebook-regular active:bg-facebook-active active:border-facebook-active active:text-white",twitter:"text-white bg-twitter-regular border-twitter-regular active:bg-twitter-active active:border-twitter-active","twitter-outline":"text-twitter-regular border-twitter-regular active:bg-twitter-active active:border-twitter-active active:text-white",instagram:"text-white bg-instagram-regular border-instagram-regular active:bg-instagram-active active:border-instagram-active","instagram-outline":"text-instagram-regular border-instagram-regular active:bg-instagram-active active:border-instagram-active active:text-white",github:"text-white bg-github-regular border-github-regular active:bg-github-active active:border-github-active","github-outline":"text-github-regular border-github-regular active:bg-github-active active:border-github-active active:text-white",pinterest:"text-white bg-pinterest-regular border-pinterest-regular active:bg-pinterest-active active:border-pinterest-active","pinterest-outline":"text-pinterest-regular border-pinterest-regular active:bg-pinterest-active active:border-pinterest-active active:text-white",youtube:"text-white bg-youtube-regular border-youtube-regular active:bg-youtube-active active:border-youtube-active","youtube-outline":"text-youtube-regular border-youtube-regular active:bg-youtube-active active:border-youtube-active active:text-white",vimeo:"text-white bg-vimeo-regular border-vimeo-regular active:bg-vimeo-active active:border-vimeo-active","vimeo-outline":"text-vimeo-regular border-vimeo-regular active:bg-vimeo-active active:border-vimeo-active active:text-white",slack:"text-white bg-slack-regular border-slack-regular active:bg-slack-active active:border-slack-active","slack-outline":"text-slack-regular border-slack-regular active:bg-slack-active active:border-slack-active active:text-white",dribbble:"text-white bg-dribbble-regular border-dribbble-regular active:bg-dribbble-active active:border-dribbble-active","dribbble-outline":"text-dribbble-regular border-dribbble-regular active:bg-dribbble-active active:border-dribbble-active active:text-white",reddit:"text-white bg-reddit-regular border-reddit-regular active:bg-reddit-active active:border-reddit-active","reddit-outline":"text-reddit-regular border-reddit-regular active:bg-reddit-active active:border-reddit-active active:text-white",tumblr:"text-white bg-tumblr-regular border-tumblr-regular active:bg-tumblr-active active:border-tumblr-active","tumblr-outline":"text-tumblr-regular border-tumblr-regular active:bg-tumblr-active active:border-tumblr-active active:text-white",linkedin:"text-white bg-linkedin-regular border-linkedin-regular active:bg-linkedin-active active:border-linkedin-active","linkedin-outline":"text-linkedin-regular border-linkedin-regular active:bg-linkedin-active active:border-linkedin-active active:text-white",white:"text-blueGray-800 bg-white border-white active:bg-blueGray-100 active:border-blueGray-100","white-outline":"text-white border-white active:bg-blueGray-100 active:border-blueGray-100 active:text-blueGray-800",light:"text-blueGray-800 bg-blueGray-200 border-blueGray-200 active:bg-blueGray-300 active:border-blueGray-300","light-outline":"text-blueGray-200 border-blueGray-200 active:bg-blueGray-300 active:border-blueGray-300 active:text-blueGray-800",dark:"text-white bg-blueGray-800 border-blueGray-800 active:bg-blueGray-900 active:border-blueGray-900","dark-outline":"text-blueGray-800 border-blueGray-800 active:bg-blueGray-900 active:border-blueGray-900 active:text-white",blueGray:"text-white bg-blueGray-500 border-blueGray-500 active:bg-blueGray-600 active:border-blueGray-600","blueGray-outline":"text-blueGray-500 border-blueGray-500 active:bg-blueGray-600 active:border-blueGray-600 active:text-white",red:"text-white bg-red-500 border-red-500 active:bg-red-600 active:border-red-600","red-outline":"text-red-500 border-red-500 active:bg-red-600 active:border-red-600 active:text-white",orange:"text-white bg-orange-500 border-orange-500 active:bg-orange-600 active:border-orange-600","orange-outline":"text-orange-500 border-orange-500 active:bg-orange-600 active:border-orange-600 active:text-white",amber:"text-white bg-amber-500 border-amber-500 active:bg-amber-600 active:border-amber-600","amber-outline":"text-amber-500 border-amber-500 active:bg-amber-600 active:border-amber-600 active:text-white",emerald:"text-white bg-emerald-500 border-emerald-500 active:bg-emerald-600 active:border-emerald-600","emerald-outline":"text-emerald-500 border-emerald-500 active:bg-emerald-600 active:border-emerald-600 active:text-white",teal:"text-white bg-teal-500 border-teal-500 active:bg-teal-600 active:border-teal-600","teal-outline":"text-teal-500 border-teal-500 active:bg-teal-600 active:border-teal-600 active:text-white",lightBlue:"text-white bg-lightBlue-500 border-lightBlue-500 active:bg-lightBlue-600 active:border-lightBlue-600","lightBlue-outline":"text-lightBlue-500 border-lightBlue-500 active:bg-lightBlue-600 active:border-lightBlue-600 active:text-white",indigo:"text-white bg-indigo-500 border-indigo-500 active:bg-indigo-600 active:border-indigo-600","indigo-outline":"text-indigo-500 border-indigo-500 active:bg-indigo-600 active:border-indigo-600 active:text-white",purple:"text-white bg-purple-500 border-purple-500 active:bg-purple-600 active:border-purple-600","purple-outline":"text-purple-500 border-purple-500 active:bg-purple-600 active:border-purple-600 active:text-white",pink:"text-white bg-pink-500 border-pink-500 active:bg-pink-600 active:border-pink-600","pink-outline":"text-pink-500 border-pink-500 active:bg-pink-600 active:border-pink-600 active:text-white",gray:"text-black bg-blueGray-200 border-blueGray-200 active:bg-blueGray-300 active:border-blueGray-300","gray-outline":"text-lightBlue-700 border-blueGray-200 active:bg-blueGray-300 active:border-blueGray-300 active:text-white"}[r+(s?"-outline":"")])+" "+{sm:"text-xs px-3 py-2 shadow-sm hover:shadow-md rounded-md",regular:"text-sm px-6 py-2 shadow hover:shadow-lg rounded-md",regular2:"w-100 text-sm px-6 py-2 shadow hover:shadow-lg rounded-md",lg:"text-sm px-6 py-3 shadow-md hover:shadow-lg rounded-lg",worldModeling:"w-64 text-sm py-1 shadow-md hover:shadow-lg rounded-lg whitespace-nowrap break-all border-1"}[n],a?Object(g.jsx)(g.Fragment,{}):(o&&(d+=" w-full text-center"),l.hasOwnProperty("href")?Object(g.jsx)("a",Object(c.a)(Object(c.a)({},l),{},{ref:t,className:d,children:i})):Object(g.jsx)("button",Object(c.a)(Object(c.a)({},l),{},{ref:t,className:d,children:i})))}));p.defaultProps={outline:!1,color:"blueGray",fullWidth:!1,size:"regular"};var j=p,x=s(553),v=s(77),O=s(550),w=s(554),y=s(261),N=r.a.createContext();function C(){return Object(n.useContext)(N)}function k(e){var t=e.id,s=e.cookie,r=e.tabId,i=e.children;Object(n.useEffect)((function(){console.log("Connecting merged"),console.log(t);var e=Object(y.a)("http://127.0.0.1:5000",{query:{id:t,cookie:s,tabId:r}});return c(e),function(){return e.close()}}),[t,s,r]);var o=Object(n.useState)(),a=Object(d.a)(o,2),l=a[0],c=a[1];return Object(g.jsx)(N.Provider,{value:l,children:i})}function S(e){var t=e.setId,s=Object(n.useCallback)((function(e){e||t(Object(v.v4)())}),[t]),r=C();return Object(n.useEffect)((function(){null!=r&&r.on("is-connected",s)})),Object(g.jsx)(g.Fragment,{})}s(50);var G=s(19);function F(e){var t=e.id,s=e.onIdSubmit,r=(e.cookie,Object(n.useRef)()),i=C(),o=Object(n.useState)(""),a=Object(d.a)(o,2),l=a[0],c=a[1],u=Object(n.useCallback)((function(e){e?s(r.current.value):c("This session doesn't exist or it is being used.")}),[s]);var h=Object(n.useCallback)((function(){s(Object(v.v4)())}),[s]);Object(n.useEffect)((function(){r.current.value=""}),[t]),Object(n.useEffect)((function(){void 0===t&&h()}),[h,t]);var b=Object(n.useState)(!0),f=Object(d.a)(b,2),m=f[0],p=f[1],y=Object(n.useState)("text-lightBlue-700"),N=Object(d.a)(y,2),k=N[0],S=N[1];var F=function(e){m!==e&&p(e),e||(S("text-white"),setTimeout((function(){S("text-lightBlue-700")}),300))};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("p",{className:"text-center mt-4",children:"Your Session ID is:"}),void 0!==t&&Object(g.jsx)(O.a,{mode:"out-in",children:Object(g.jsx)(w.a,{classNames:"fade",addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},children:Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(G.Tooltip,{html:Object(g.jsx)("div",{children:m?"Click to Copy ID":"ID Copied!"}),position:"bottom",arrow:"true",children:Object(g.jsx)("p",{className:"text-center font-semibold hover:text-lightBlue-500 cursor-pointer transition-all duration-300 ease-in-out "+k,onClick:function(){navigator.clipboard.writeText(t).then((function(){return F(!1)}))},onMouseOut:function(){return setTimeout((function(){F(!0)}),500)},children:t.split("-")[0]+"-"+t.split("-")[1]+"..."})})})},t.split("-")[0]+"-"+t.split("-")[1]+"...")}),Object(g.jsxs)(x.a,{onSubmit:function(e){return e.preventDefault(),i.emit("session-existing",{session:r.current.value}),i.on("receive-answer",u),function(){i.off("receive-answer")}},className:"w-full mt-4",children:[Object(g.jsxs)(x.a.Group,{children:[Object(g.jsx)(x.a.Control,{type:"text",className:"border-lightBlue-200",ref:r,id:"inputSession",required:!0,onChange:function(){return c("")},placeholder:"Load another session"}),Object(g.jsx)("span",{className:"text-red-500 text-xs mt-1",children:l})]}),Object(g.jsxs)("div",{className:"flex w-full justify-center p-2",children:[Object(g.jsx)(j,{onClick:h,color:"teal",variant:"secondary",type:"reset",children:"Reset"}),Object(g.jsx)(j,{type:"submit",color:"lightBlue",id:"loadButton",children:"Load"})]})]})]})}function I(e){var t=e.brand,s=e.items,i=e.activeColor,o=e.currentRoute,l=e.id,h=e.setId,f=e.cookie,m=e.page,p=r.a.useState("-translate-x-full"),j=Object(d.a)(p,2),x=j[0],v=j[1],O={red:"text-red-500 hover:text-red-700",orange:"text-orange-500 hover:text-orange-700",amber:"text-amber-500 hover:text-amber-700",emerald:"text-emerald-500 hover:text-emerald-700",teal:"text-teal-500 hover:text-teal-700",lightBlue:"text-lightBlue-500 hover:text-lightBlue-700",indigo:"text-indigo-500 hover:text-indigo-700",purple:"text-purple-500 hover:text-purple-700",pink:"text-pink-500 hover:text-pink-700"};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("nav",{className:"block py-4 px-6 top-0 bottom-0 w-64 bg-white shadow-xl left-0 fixed flex-row flex-nowrap xxl:z-10 z-9999 transition-all duration-300 ease-in-out transform xxl:translate-x-0 "+x,children:[Object(g.jsx)("button",{className:"xxl:hidden flex items-center justify-center cursor-pointer text-blueGray-700 w-6 h-10 border-l-0 border-r border-t border-b border-solid border-blueGray-100 text-xl leading-none bg-white rounded-r border border-solid border-transparent absolute top-1/2 -right-24-px focus:outline-none z-9998",onClick:function(){v(""===x?"-translate-x-full":"")},children:Object(g.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(g.jsx)("div",{className:"flex-col min-h-full px-0 flex flex-wrap items-center justify-between w-full mx-auto overflow-y-auto overflow-x-hidden",children:Object(g.jsxs)("div",{className:"flex bg-white flex-col items-stretch opacity-100 relative mt-4 overflow-y-auto overflow-x-hidden h-auto z-40 items-center flex-1 rounded w-full",children:[t&&t.link&&t.link.to&&Object(g.jsxs)(a.b,Object(c.a)(Object(c.a)({},t),{},{className:"xxl:flex items-center flex-col text-center xxl:pb-2 text-blueGray-700 mr-0 inline-flex whitespace-nowrap text-sm uppercase font-bold p-4 px-0",children:[t&&t.image&&Object(g.jsx)("img",{src:t.image,alt:"...",className:"max-w-full rounded"}),t&&t.text&&Object(g.jsx)("span",{children:t.text})]})),t&&t.link&&void 0===t.link.to&&Object(g.jsxs)("a",Object(c.a)(Object(c.a)({},t),{},{href:t.link.href,className:"xxl:flex items-center flex-col text-center xxl:pb-2 text-blueGray-700 mr-0 inline-flex whitespace-nowrap text-sm uppercase font-bold ",children:[t&&t.image&&Object(g.jsx)("img",{src:t.image,alt:"...",className:"max-w-full rounded"}),t&&t.text&&Object(g.jsx)("span",{children:t.text})]})),Object(g.jsx)("div",{className:"xxl:flex-col xxl:min-w-full flex flex-col list-none",children:Object(g.jsx)(F,{id:l,onIdSubmit:h,cookie:f})}),Object(g.jsx)("div",{className:"xxl:flex-col xxl:min-w-full flex flex-col list-none",children:s.map((function(e,t){return e.divider?Object(g.jsx)("hr",{className:"my-4 xxl:min-w-full"},t):e.titleCrome?Object(g.jsx)("h6",{className:"xxl:min-w-full text-blueGray-500 text-xs uppercase font-bold inline",children:e.titleCrome},t):e.titleSynthesis?Object(g.jsx)("h6",{className:"xxl:min-w-full text-blueGray-500 text-xs uppercase font-bold inline mt-3",children:e.titleSynthesis},t):e.titleContracts?Object(g.jsx)("h6",{className:"xxl:min-w-full text-blueGray-500 text-xs uppercase font-bold inline mt-3 ",children:e.titleContracts},t):Object(n.createElement)("a",Object(c.a)(Object(c.a)({},e.link),{},{key:t,className:b()("text-xs uppercase py-3 font-bold block focus:outline-none",(s={},Object(u.a)(s,O[i],e.link.href===o),Object(u.a)(s,"text-blueGray-800 hover:text-blueGray-500",e.link.href!==o),s))}),Object(g.jsx)("i",{className:b()(e.icon,"mr-2 text-sm",{"opacity-75":e.link.href===o,"text-blueGray-400":e.link.href!==o})}),e.text,"index"!==m&&"Run CROME"===e.text&&Object(g.jsx)("i",{className:"fas fa-arrow-right ml-2"}),"synthesis"!==m&&"Run SYNTHESIS"===e.text&&Object(g.jsx)("i",{className:"fas fa-arrow-right ml-2"}),"contracts"!==m&&"Run CONTRACTS"===e.text&&Object(g.jsx)("i",{className:"fas fa-arrow-right ml-2"}));var s}))})]})})]})})}I.defaultProps={items:[],activeColor:"pink"};var T={info:{title:"Edit a Goal",goalComponent:{editIconName:"fas fa-pen",downloadIconName:"fas fa-arrow-down",deleteIconName:"fas fa-trash-alt",iconColor:"bg-lightBlue-600"},contract:[{title:"assumptions",color:"lightBlue"},{title:"guarantees",color:"lightBlue"}],buttons:{uploadGoal:{text:"Upload goals",color:"gray",icon:"fas fa-arrow-up"},downloadGoals:{text:"Download goals",color:"gray",icon:"fas fa-arrow-down"}},modal:{close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",saveText:"Save",saveColor:"info"}}},A={info:{goalComponent:{editIconName:"fas fa-pen",downloadIconName:"fas fa-arrow-down",deleteIconName:"fas fa-trash-alt",iconColor:"bg-lightBlue-600"},contract:[{title:"assumptions",color:"lightBlue"},{title:"guarantees",color:"lightBlue"}],modal:{title:"Confirm Deletion",content:"The following World will be deleted : ",close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",confirmText:"Confirm",confirmColor:"info"}}},L={info:{buttons:{upload:{color:"gray",text:"upload",icon:"fas fa-long-arrow-alt-up ml-2"},formula:{color:"emerald",text:"load formula"},up:"fas fa-chevron-up",down:"fas fa-chevron-down",run:"fas fa-play",pause:"fas fa-pause",synthesis:{color:"gray",strix:"Synthesis with strix",parallel:"Parallel synthesis"}},texts:{name:"name",synthesis:"synthesis",assumptions:"assumptions",guarantees:"guarantees",inputs:"inputs",outputs:"outputs",load:"load examples"}}},E=s(8),B=s(9),M=s(11),P=s(12),W=(s(95),s(351),s(6));function R(e){if("string"===typeof e)return e;for(var t="",s=0;s<e.length-1;s++)t+=e[s]+",";return t+=e[e.length-1]}function D(e,t){for(var s=0;s<t.length;s++)if(t[s].name===e.name){for(var n=t[s].arguments,r=0;r<n.length;r++)n[r].value=void 0===e.arguments[r]?"":e.arguments[r].value;return n}return[]}var V=s(249),z=s.n(V),J=function(e){var t=e.contract,s=e.color,n=e.setOpen,i=e.defaultOpened,o=e.patterns,a=e.modal,l=r.a.useState(i),c=Object(d.a)(l,2),u=c[0],h=c[1],f=r.a.useState(i),m=Object(d.a)(f,2),p=m[0],x=m[1],v=r.a.useState(void 0),O=Object(d.a)(v,2),w=O[0],y=O[1],N=r.a.useState(!1),C=Object(d.a)(N,2),k=C[0],S=C[1],F=r.a.useState(!0),I=Object(d.a)(F,2),T=I[0],A=I[1],L=r.a.useRef(null);r.a.useEffect((function(){i||(y(L.current.scrollHeight),x(!1),setTimeout((function(){y(0)}),10),setTimeout((function(){S(!1),h(!1)}),310))}),[i]),r.a.useEffect((function(){y(L.current.scrollHeight)}),[T]);for(var E=[],B=0,M=0;M<t.length;M+=1){E[M]=[];for(var P=0;P<t[M].content.length;P+=1)T?(E[M].push(Object(g.jsx)("tr",{children:Object(g.jsx)("td",{children:t[M].content[P].ltl_value})},B)),B++):void 0!==t[M].content[P].pattern&&(E[M].push(Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("tr",{children:Object(g.jsxs)("td",{className:"flex flex-col items-start",children:[Object(g.jsx)(G.Tooltip,{title:"Edit",position:"right",arrow:"true",html:o[P].description,children:Object(g.jsx)("p",{id:"dropDownMenu",children:t[M].content[P].pattern.name})}),D(t[M].content[P].pattern,o).map((function(e,t){return Object(g.jsx)("p",{children:e.name+" : "+R(e.value)},t)}))]})},B)})),B++)}return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"bg-transparent first:rounded-t px-4 py-3",children:Object(g.jsx)("a",{href:"#openCollapse",onClick:function(e){e.preventDefault(),k||(S(!0),x(!p),u?function(){n(!1);var e=0;u&&void 0===w&&(y(L.current.scrollHeight),e=10),setTimeout((function(){y(0)}),e),setTimeout((function(){S(!1),h(!1)}),310)}():(n(!0),u||void 0!==w||y(0),h(!0),setTimeout((function(){y(L.current.scrollHeight)}),10),setTimeout((function(){S(!1)}),310)))},children:Object(g.jsxs)("h5",{className:{blueGray:"text-blueGray-700 hover:text-blueGray-900",red:"text-red-500 hover:text-red-700",orange:"text-orange-500 hover:text-orange-700",amber:"text-amber-500 hover:text-amber-700",emerald:"text-emerald-500 hover:text-emerald-700",teal:"text-teal-500 hover:text-teal-700",lightBlue:"text-lightBlue-500 hover:text-lightBlue-700",indigo:"text-indigo-500 hover:text-indigo-700",purple:"text-purple-500 hover:text-purple-700",pink:"text-pink-500 hover:text-pink-700"}[s]+" mb-0 font-semibold text-center duration-300 transition-all ease-in-out",children:["Show Contract",Object(g.jsx)("i",{className:b()("text-sm mr-2 float-right fas fa-chevron-down duration-300 transition-all ease-in-out transform",{"rotate-180":p})})]})})}),Object(g.jsxs)("div",{className:b()("duration-300 transition-all ease-in-out",{block:u,hidden:!u}),style:{height:"auto",maxHeight:w},ref:L,children:[Object(g.jsx)("div",{className:"flex justify-end",children:Object(g.jsx)(z.a,{offText:"Pattern",onText:"LTL",onChange:function(e){return A(e.state.value)}})}),t.map((function(e,t){return Object(g.jsx)("div",{className:"text-blueGray-500 px-4 flex-auto leading-relaxed",children:Object(g.jsxs)(W.l,{responsive:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{children:Object(g.jsx)("th",{className:"title-up font-semibold-important",children:e.title})})}),Object(g.jsx)("tbody",{children:E[t]})]})},t)})),void 0!==a&&Object(g.jsx)("div",{className:"flex justify-center",children:Object(g.jsx)(j,{onClick:function(){return a(!0)},children:"Show Details"})})]})]})};J.defaultProps={defaultOpened:!1,setOpen:function(){}};var U=J;var Y=function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(g.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(g.jsx)("i",{className:"now-ui-icons ui-1_simple-remove"})}),Object(g.jsx)("h4",{className:"title title-up",children:"Contract Details"})]}),Object(g.jsx)("div",{className:"modal-body justify-content-center",children:Object(g.jsx)("div",{children:"Content not available yet"})}),Object(g.jsx)(W.i,{children:Object(g.jsx)(W.a,{onClick:e.close,children:"Cancel"})})]})};var Q=function(e){var t=[],s=r.a.useState(!1),i=Object(d.a)(s,2),o=i[0],a=i[1],l=r.a.useState(!1),c=Object(d.a)(l,2),u=c[0],h=c[1];for(var b in e.contract)e.contract.hasOwnProperty(b)&&(t[Object.keys(e.contract).indexOf(b)]=[],t[Object.keys(e.contract).indexOf(b)].title=b,t[Object.keys(e.contract).indexOf(b)].content=e.contract[b]);return Object(n.useEffect)((function(){a(!1)}),[e.contract]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"w-full lg:w-6/12 xl:w-5/12 mt-8 ml-4 mr-4 px-4 relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg opacity-1 transform duration-300 transition-all ease-in-out",children:Object(g.jsxs)("div",{className:"flex-auto p-4 pr-0",children:[Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(g.jsx)("div",{className:"flex flex-wrap",children:Object(g.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(g.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:e.title})})}),Object(g.jsxs)("div",{className:"flex flex-col flex-wrap w-full",children:[Object(g.jsx)("div",{className:"relative w-full pr-4 mt-2 mb-2 max-w-full flex-grow flex-1",children:Object(g.jsx)("span",{className:"text-md text-blueGray-700",children:e.description})}),Object(g.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(g.jsxs)("div",{children:[Object(g.jsx)("b",{children:"Context :"})," ",e.contextChecked.formula]})})]})]}),Object(g.jsxs)("div",{className:"flex flex-col min-content",children:[Object(g.jsx)("div",{className:"relative pl-4 flex justify-end flex-initial",children:Object(g.jsx)(G.Tooltip,{title:"Edit",position:"right",arrow:"true",children:Object(g.jsx)("div",{onClick:function(){return e.modify(!0,e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full cursor-pointer "+e.statIconColor,children:Object(g.jsx)("i",{className:e.statIconName})})})}),Object(g.jsx)("div",{className:"relative pl-4 flex mt-2 justify-end flex-initial",children:Object(g.jsx)(G.Tooltip,{title:"Delete",position:"right",arrow:"true",children:Object(g.jsx)("div",{onClick:function(){return e.delete(e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full cursor-pointer "+e.statIconColor,children:Object(g.jsx)("i",{className:e.statSecondIconName})})})}),Object(g.jsx)(G.Tooltip,{title:"Download",position:"right",arrow:"true",children:Object(g.jsx)("div",{className:"relative pl-4 flex mt-2 justify-end flex-initial",children:Object(g.jsx)("div",{onClick:function(){return e.download(e.number)},id:"downloadButton-"+e.number,className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full cursor-pointer bg-emerald-400",children:Object(g.jsx)("i",{className:e.statDownloadIconName,id:"downloadIcon"})})})})]})]}),Object(g.jsx)("div",{className:"flex flex-col mt-4",children:Object(g.jsx)("div",{className:"relative w-full max-w-full flex-grow flex-1",children:Object(g.jsx)("div",{className:"overflow-hidden relative flex flex-col min-w-0 "+(o?"pb-4 ":"")+"break-words bg-white w-full border-b border-blueGray-200",children:Object(g.jsx)(U,{contract:t,patterns:e.patterns,color:"lightBlue",setOpen:function(e){a(e)},defaultOpened:o,modal:h})})})})]})}),Object(g.jsx)(W.h,{isOpen:u,toggle:function(){return h(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:Object(g.jsx)(Y,{close:function(){return h(!1)}})})]})};var H=function(e){return Object(g.jsx)("div",{className:"flex-auto p-4 flex flex-col justify-center items-center",children:Object(g.jsxs)("div",{className:"flex flex-wrap flex-col",children:[Object(g.jsx)("div",{className:"relative w-full pb-2 max-w-full text-center flex-grow flex-1",children:Object(g.jsx)("span",{className:"font-bold text-xl uppercase text-white",children:e.statText})}),Object(g.jsx)("div",{className:"relative w-auto flex flex-initial justify-center",children:Object(g.jsx)("div",{className:"bg-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full "+e.statIconColor,children:Object(g.jsx)("i",{className:e.statIconName})})})]})})},q=["border","size","leftIcon","rightIcon","type"],K=r.a.forwardRef((function(e,t){var s=e.border,n=e.size,r=e.leftIcon,i=e.rightIcon,o=e.type,a=Object(f.a)(e,q),l={sm:"px-2 py-2 text-sm ",lg:"px-3 py-3 text-sm ",regular:"px-3 py-2 text-sm "}[n]+" w-full placeholder-blueGray-200 text-blueGray-700 relative bg-white rounded-md outline-none focus:ring focus:ring-lightBlue-500 focus:ring-1 focus:border-lightBlue-500 border border-solid transition duration-200 ";l={border:"border-blueGray-300",borderless:"border-transparent shadow"}[s]+" "+l;var d=null,u=null,h="mb-3 pt-0";return r&&(l+="pl-10 ",h="relative flex w-full flex-wrap items-stretch mb-3",d=Object(g.jsx)("span",{className:"z-10 h-full flex absolute text-center text-blueGray-300 text-sm items-center w-8 pl-3",children:Object(g.jsx)("i",{className:r})})),i&&(l+="pr-10 ",h="relative flex w-full flex-wrap items-stretch mb-3",u=Object(g.jsx)("span",{className:"z-10 h-full flex absolute text-center text-blueGray-300 text-sm items-center w-8 right-0",children:Object(g.jsx)("i",{className:i})})),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:h,ref:t,children:[d,o&&"textarea"===o?Object(g.jsx)("textarea",Object(c.a)(Object(c.a)({},a),{},{type:o,className:l})):Object(g.jsx)("input",Object(c.a)(Object(c.a)({},a),{},{type:o,className:l})),u]})})}));K.defaultProps={border:"border",size:"regular"};var X=K,Z=s(552),_=["border","size","leftIcon","rightIcon","type","items","closeOnSelect","placeholder","defaultValue","patternDescription","changeSelector","assumptions","name"];function $(e){var t=e.border,s=e.size,n=(e.leftIcon,e.rightIcon,e.type,e.items),i=e.closeOnSelect,o=e.placeholder,a=e.defaultValue,l=e.patternDescription,c=e.changeSelector,u=(e.assumptions,e.name),h=(Object(f.a)(e,_),{sm:"px-2 py-2 text-sm ",lg:"px-3 py-3 text-sm ",regular:"px-3 py-2 text-sm "}[s]+" w-full placeholder-blueGray-200 bg-white rounded-md outline-none border border-solid transition duration-200 ");h={border:"border-blueGray-300",borderless:"border-transparent shadow"}[t]+" "+h;var b=r.a.useState(""),m=Object(d.a)(b,2),p=m[0],j=m[1],x=r.a.useState(!1),v=Object(d.a)(x,2),O=v[0],w=v[1],y=r.a.useState(!1),N=Object(d.a)(y,2),C=N[0],k=N[1],S=r.a.useState("origin-top-right"),F=Object(d.a)(S,2),I=F[0],T=F[1],A=r.a.createRef(),L=r.a.createRef(),E={"top-start":"origin-bottom-left","top-end":"origin-bottom-right","bottom-start":"origin-top-left","bottom-end":"origin-top-right","right-start":"origin-top-left","right-end":"origin-top-left","left-start":"origin-top-right","left-end":"origin-top-right",bottom:"origin-top",top:"origin-bottom",left:"origin-right",right:"origin-left"},B=function(){if(!C){if(k(!0),O)j(""),setTimeout((function(){w(!1)}),310);else{var e=Object(Z.a)(A.current,L.current,{placement:"bottom-start"});T(E[e.state.placement]),w(!0),setTimeout((function(){j("opacity-100 scale-100 ")}),10)}setTimeout((function(){k(!1)}),350)}};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"mb-2 mt-2 ml-2 pt-0 relative",children:[Object(g.jsx)("input",{value:a,type:"text",onChange:function(){},onClick:B,placeholder:o,ref:A,size:s,className:h}),Object(g.jsx)("div",{ref:L,className:(O?"block ":"hidden ")+"z-50",children:Object(g.jsx)("div",{className:p+" absolute opacity-0 border bg-white text-base z-50 float-left p-2 text-left rounded-lg shadow-lg min-w-48 transition-all duration-200 ease-in-out transform scale-95 origin-top-left "+I,children:n.map((function(e,t){return e.disabled?Object(g.jsx)("span",{className:"text-sm pt-12 pb-0 px-4 font-bold block w-full whitespace-nowrap bg-transparent text-blueGray-500",children:e.text},t):Object(g.jsx)("span",{children:Object(g.jsx)(G.Tooltip,{html:l[n.indexOf(e)],position:"right",arrow:"true",children:Object(g.jsx)("a",{href:"#pablo",name:u,className:(e===a?"bg-lightBlue-100 ":"")+"text-sm px-3 py-2 font-normal block w-full whitespace-nowrap transition-all duration-200 hover:bg-blueGray-100 rounded",onClick:function(t){t.preventDefault(),c(t,e),i&&B()},children:e})})},t)}))})})]})})}$.defaultProps={border:"border",size:"regular",items:[],closeOnSelect:!0,defaultValue:""};var ee=function(e){var t=e.border,s=e.size,n=e.content,r=e.changeParameter,i=e.infos,o=e.presentPattern,a={sm:"px-2 py-2 text-sm ",lg:"px-3 py-3 text-sm ",regular:"px-3 py-2 text-sm "}[s]+" w-full placeholder-blueGray-200 bg-white rounded-md outline-none border border-solid transition duration-200 ";a={border:"border-blueGray-300",borderless:"border-transparent shadow"}[t]+" "+a;for(var l=[],c=0;c<o.arguments.length;c++)l[c]="",Array.isArray(o.arguments[c].value)?l[c]=o.arguments[c].value.join(","):l[c]=o.arguments[c].value;return Object(g.jsx)(g.Fragment,{children:n.map((function(e,t){return Object(g.jsxs)("div",{className:"grid grid-template-25-75 items-center",children:[Object(g.jsx)("div",{className:"mr-4 text-right whitespace-nowrap",children:e.name[0].toUpperCase()+e.name.slice(1)+" : "}),Object(g.jsx)(G.Tooltip,{title:'To enter several values, separate them with ","',position:"right",arrow:"true",children:Object(g.jsx)("input",{type:"text",autoComplete:"off",className:a,placeholder:"list"===e.format?i.placeholders.listOfValues:i.placeholders.singleValues,value:l[t]||"",name:"subValue",onChange:function(e){return r(e,t)}})})]},t)}))})},te=ee;ee.defaultProps={border:"border",size:"regular"};s(129);var se=s(251),ne=s.n(se);var re=function(e){function t(t){return function(e){var t="",s=0;return e.split(/([()])/).forEach((function(e){"("===e?(s++,t=t+'<span class="'+"l".concat(s)+'">'+e+"</span>"):")"===e?(t=t+'<span class="'+"l".concat(s)+'">'+e+"</span>",s--):t+=e})),t.toString()}(t=function(e){for(var t=["G","F","X","U","R","W","M"],s=["<->","->","&","|"],n=0;n<t.length;n++)e=e.replaceAll(t[n],"<strong>"+t[n]+"</strong>");for(var r=0;r<s.length;r++)e=e.replaceAll(s[r],"<strong>"+s[r]+"</strong>");return e}(t=function(t){var s=[],n="",r="",i="",o="";s=e.inputsValue.replaceAll(" ","").split(","),e.goalEdit||(s=s.concat(e.outputsValue.replaceAll(" ","").split(","))),s=s.filter((function(e){return e}));var a=t.split(/(\s+)/);if(s)for(var l=0;l<a.length;l++){for(i="",o="",n=a[l];n&&("!"===n.charAt(0)||"("===n.charAt(0));)i+=n.charAt(0),n=n.substring(1);for(;n&&")"===n.charAt(n.length-1);)o+=n.charAt(n.length-1),n=n.substring(0,1*n.length-1);s.includes(n)&&(n="<span class='text-emerald-500'>"+n+"</span>"),r=r+i+n+o}return r}(t))).split("\n").map((function(e,t){return"<span class='editorLineNumber'>".concat(t+1,"</span>").concat(e)})).join("\n")}return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(ne.a,{value:e.value,onValueChange:function(t){return e.setValue(t)},highlight:function(e){return t(e)},padding:10,className:"editor border-blueGray-300 textareaResizeNone text-blueGray-700 relative bg-white rounded-md outline-none focus:ring focus:ring-lightBlue-500 focus:ring-1 focus:border-lightBlue-500 border border-solid transition duration-200",textareaId:"codeArea",style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:e.size,outline:0}})})},ie=["border","size","leftIcon","rightIcon","type","onChange","value","listOfWorldVariables","setLTLWorldValues"],oe=r.a.forwardRef((function(e,t){e.border,e.size;var s=e.leftIcon,n=e.rightIcon,i=(e.type,e.onChange,e.value,e.listOfWorldVariables),o=(e.setLTLWorldValues,Object(f.a)(e,ie),null),a=null,l="mb-2 mt-2 ml-2 pt-0";s&&(l="relative flex w-full flex-wrap items-stretch mb-3",o=Object(g.jsx)("span",{className:"z-10 h-full flex absolute text-center text-blueGray-300 text-sm items-center w-8 pl-3",children:Object(g.jsx)("i",{className:s})})),n&&(l="relative flex w-full flex-wrap items-stretch mb-3",a=Object(g.jsx)("span",{className:"z-10 h-full flex absolute text-center text-blueGray-300 text-sm items-center w-8 right-0",children:Object(g.jsx)("i",{className:n})}));var c=r.a.useState(""),u=Object(d.a)(c,2),h=u[0],b=u[1];return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:l+" relative",ref:t,children:[o,Object(g.jsx)(re,{goalEdit:!0,value:h,setValue:b,size:12,inputsValue:i.toString()}),a]})})}));oe.defaultProps={border:"border",size:"regular"};var ae=oe;function le(e){for(var t=[],s=0;s<e.length;s++)t.push(e[s].name);return t}function ce(e){for(var t=[],s=0;s<e.length;s++)t.push(e[s].description);return t}function de(e){var t=e.items,s=e.patterns,n=e.color,i=e.changeParameter,o=e.deleteContent,a=e.addContent,l=e.contractType,c=e.listOfWorldVariables,u=e.setLTLWorldValues,h=e.infos,b=r.a.useState(),f=Object(d.a)(b,2),m=f[0],p=f[1],j=function(e){p(e)};return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{children:Object(g.jsx)(W.b,{className:"card-plain",children:Object(g.jsx)(W.c,{className:"overflow-x-initial",children:Object(g.jsxs)(W.l,{responsive:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{children:h.titles.map((function(e,t){return Object(g.jsx)("th",{children:e},t)}))})}),Object(g.jsxs)("tbody",{children:[t.map((function(e,t){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:t+1}),Object(g.jsx)("td",{className:"w-32",children:Object(g.jsxs)(W.m,{children:[Object(g.jsx)(W.f,{caret:!0,className:"btn-round btn-block",color:h.dropdownColor,children:void 0===e.pattern?h.types[0]:h.types[1]}),Object(g.jsx)(W.e,{children:h.types.map((function(e,s){return Object(g.jsx)(W.d,{name:"type",onClick:function(s){return i(s,l,t,e)},children:e},s)}))})]})}),void 0===e.pattern&&Object(g.jsx)("td",{className:"w-9/12",colSpan:2,children:Object(g.jsx)(ae,{value:e.ltl_value,name:"ltl_value",placeholder:h.placeholders.ltl,onChange:function(e){return i(e,l,t)},listOfWorldVariables:c,setLTLWorldValues:function(e){return u(t,l,e)}})}),void 0!==e.pattern&&Object(g.jsx)("td",{className:"w-5/12",children:Object(g.jsx)($,{items:le(s),placeholder:h.placeholders.pattern,defaultValue:e.pattern.name,patternDescription:ce(s),name:"contentName",changeSelector:function(e,s){return i(e,l,t,s)}})}),void 0!==e.pattern&&Object(g.jsx)("td",{className:"w-4/12",children:Object(g.jsx)(te,{title:h.details,content:D(e.pattern,s),color:n,setOpen:function(){return j(t)},changeParameter:function(e,s){return i(e,l,t,!1,s)},number:t,infos:h,defaultOpened:t===m,presentPattern:e.pattern})}),Object(g.jsx)("td",{children:Object(g.jsx)(W.a,{className:"btn-icon",color:h.deleteButton.color,size:"sm",type:"button",onClick:function(){return o(t,l)},children:Object(g.jsx)("i",{className:h.deleteButton.icon})})})]},t)})),Object(g.jsx)("tr",{children:Object(g.jsx)("td",{colSpan:"5",className:"text-center",children:Object(g.jsx)(W.a,{className:"btn-icon",color:h.addRowButton.color,size:"sm",type:"button",onClick:function(){return a(l)},children:Object(g.jsx)("i",{className:h.addRowButton.icon})})})})]})]})})})})})}de.defaultProps={items:[],defaultOpened:-1,multiple:!1};var ue={infos:{types:["LTL","Pattern"],placeholders:{ltl:"LTL Value",pattern:"Name",singleValues:"Value",listOfValues:"Values"},dropdownColor:"info",titles:["#","Type","Value"],details:"See Arguments",deleteButton:{icon:"now-ui-icons ui-1_simple-remove",color:"danger"},addRowButton:{icon:"now-ui-icons ui-1_simple-add",color:"info"}}};function he(e){if(Array.isArray(e))return e;for(var t=[""],s=0,n=0;n<e.length;n++)","===e[n]?(t[++s]="",n!==e.length-1&&" "===e[n+1]&&n++):t[s]+=e[n];return 0===s?t[0]:t}var be=function(e){var t=r.a.useState(null),s=Object(d.a)(t,2),i=s[0],o=s[1],a=r.a.useState(JSON.parse(JSON.stringify(e.goal))),l=Object(d.a)(a,1)[0],u=r.a.useState(e.goal.context.formula),h=Object(d.a)(u,2),b=h[0],f=h[1];function m(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,o=r||t.target.value,a=!!s&&l.contract[s][n];switch(t.target.name){case"name":l.name=o;break;case"description":l.description=o;break;case"context":f(o),l.context.formula=o,l.context.world_values=[];for(var c=o.split(" "),d=0;d<c.length;d++)"!"===c[d].charAt(0)&&(c[d]=c[d].substring(1)),e.listOfWorldVariables[3].includes(c[d])&&(l.context.world_values.includes(c[d])||l.context.world_values.push(c[d]));break;case"ltl_value":a.ltl_value=o;break;case"contentName":a.pattern.name=o,a.pattern.arguments=[];break;case"type":"Pattern"===o?void 0===a.pattern&&(a.pattern={name:"",arguments:[]},delete a.world_values):delete a.pattern;break;case"subValue":a.pattern.arguments[i]={value:he(o)}}e.edit(l)}function p(t,s){l.contract[s].splice(t,1),e.edit(l)}function j(t){l.contract[t].push({ltl_value:""}),e.edit(l)}function x(t,s,n){l.contract[s][t].world_values=n,e.edit(l)}return Object(n.useEffect)((function(){for(var t=b.split(" "),s="",n="",r=0;r<t.length;r++)s=t[r],"!"===t[r].charAt(0)&&(s=t[r].substring(1)),e.listOfWorldVariables[3].includes(s)&&(s="<span class='text-red-500'>"+s+"</span>"),"!"===t[r].charAt(0)&&(s="!"+s),n+=s+" ";o(n)}),[b,e.listOfWorldVariables]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(g.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(g.jsx)("i",{className:e.info.modal.close})}),Object(g.jsx)("h4",{className:"title title-up",children:e.info.title})]}),Object(g.jsxs)("div",{className:"modal-body justify-content-center",onKeyPress:function(t){"Enter"===t.key&&e.save(l)},children:[Object(g.jsx)(X,{type:"text",placeholder:"Title of the Goal",name:"name",value:l.name,onChange:m}),Object(g.jsx)(X,{type:"textarea",placeholder:"Description of the Goal",name:"description",value:l.description,onChange:m}),Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"m-auto w-50",children:Object(g.jsxs)(W.l,{responsive:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{className:"text-center",children:Object(g.jsx)("th",{colSpan:2,children:"Atomic propositions"})})}),Object(g.jsx)("tbody",{children:e.listOfWorldVariables.map((function(t,s){return s!==e.listOfWorldVariables.length&&Object(g.jsxs)("tr",{children:[Object(g.jsxs)("td",{className:"font-semibold text-center",children:[e.info.lists.title," ",e.info.lists.elements[s]," :"]}),Object(g.jsx)("td",{className:"text-left",children:t.map((function(e,s){return Object(g.jsxs)("span",{children:[" "+e,s!==t.length-1?", ":""]},s)}))})]},s)}))})]})})}),Object(g.jsxs)("div",{className:"mt-4",children:[Object(g.jsxs)("h4",{className:"font-bold title-up mb-2 inline",children:[e.info.context.title," : "]}),Object(g.jsx)("input",{type:"text",placeholder:"write boolean",name:"context",className:"ml-4 border-blueGray-300 text-sm placeholder-blueGray-200 bg-white rounded-md border border-solid",value:e.goal.context.formula,onChange:m}),Object(g.jsx)("div",{className:"w-64 ml-12 center inline",dangerouslySetInnerHTML:{__html:"Formula : "+i}})]}),e.info.contract.map((function(t,s){return Object(g.jsxs)("div",{children:[Object(g.jsx)("h4",{className:"title title-up",children:t.title}),Object(g.jsx)(de,Object(c.a)({items:l.contract[t.title],patterns:e.patterns,color:t.color,changeParameter:m,deleteContent:p,addContent:j,contractType:t.title,listOfWorldVariables:e.listOfWorldVariables,setLTLWorldValues:x,keyType:s},ue))]},s)}))]}),Object(g.jsx)(W.i,{children:Object(g.jsxs)("div",{className:"flex flex-col w-full",children:[0===l.contract.guarantees.length&&Object(g.jsx)("div",{className:"flex justify-end mb-2",children:Object(g.jsx)("span",{className:"text-red-500 ",children:e.info.modal.warningGuarantees})}),Object(g.jsxs)("div",{className:"flex w-full justify-between",children:[Object(g.jsx)(W.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText}),Object(g.jsx)(W.a,{color:e.info.modal.saveColor,disabled:0===l.contract.guarantees.length,onClick:function(){return e.save(l)},children:e.info.modal.saveText})]})]})})]})},fe={name:"",description:"",context:{formula:"",world_values:[]},contract:{assumptions:[],guarantees:[]}},ge={info:{title:"Edit a Goal",context:{title:"Context"},contract:[{title:"assumptions",color:"lightBlue"},{title:"guarantees",color:"lightBlue"}],modal:{close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",warningGuarantees:"A Goal must have at least 1 Guarantee",saveText:"Save",saveColor:"info"},lists:{title:"List of",elements:["Locations","Actions","Sensors","Contexts"]}}};var me=function(e){var t=C(),s=Object(n.useState)(0),r=Object(d.a)(s,2),i=r[0],o=r[1],a=Object(n.useCallback)((function(e){o(e.robotic)}),[o]);return Object(n.useEffect)((function(){if(null!=t)return t.emit("get-patterns"),t.on("receive-patterns",a),function(){return t.off("receive-patterns")}}),[t,a]),Object(n.useEffect)((function(){void 0!==e.patterns&&e.patterns(i)}),[i]),Object(g.jsx)(g.Fragment,{})};var pe=function(e){var t=C(),s=Object(n.useState)(0),r=Object(d.a)(s,2),i=r[0],o=r[1],a=Object(n.useCallback)((function(e){o(e)}),[o]),l=Object(n.useCallback)((function(){e.toggleGetTrigger()}),[e]);return Object(n.useEffect)((function(){if(null!=t)return null!==e.goals&&e.triggerSave?(e.toggleSaveTrigger(!1),t.emit("add-goal",{goal:e.goals[e.index],project_id:e.projectId}),"simple"===e.projectId?(t.on("saving-simple",a),function(){return t.off("saving-simple")}):(t.on("goal-saved",l),function(){return t.off("saving-complete")})):void 0}),[t,e,a]),Object(n.useEffect)((function(){e.switchWorld(i)}),[i]),Object(g.jsx)(g.Fragment,{})};var je=function(e){var t=C();return Object(n.useEffect)((function(){null!=t&&e.triggerGoalsChecked&&(t.emit("check-goals",{project:e.projectId}),e.swapTriggerGoalsChecked(!1))}),[t,e]),Object(g.jsx)(g.Fragment,{})},xe=s(92),ve=s(262);var Oe=function(e){var t=Object(ve.a)({readAs:"DataURL",accept:".json",multiple:!1,limitFilesConfig:{max:1}}),s=Object(d.a)(t,2),r=s[0],i=s[1].filesContent,o=Object(n.useState)(!1),a=Object(d.a)(o,2),l=a[0],c=a[1],u=Object(n.useState)(null),h=Object(d.a)(u,2),b=h[0],f=h[1];return Object(n.useEffect)((function(){!i[0]||l&&b===i[0]||(e.upload(atob(i[0].content.split(",")[1])),c(!0),f(i[0]))}),[e,l,i,b]),e.contracts?Object(g.jsx)(g.Fragment,{}):Object(g.jsx)("div",{children:Object(g.jsxs)(j,{size:e.size,color:e.color,outline:!0,onClick:function(){return r()},children:[Object(g.jsx)("i",{className:e.icon+"mr-2"}),e.text]})})};var we=function(e){var t=C(),s=Object(n.useState)(0),r=Object(d.a)(s,2),i=r[0],o=r[1],a=Object(n.useState)(0),l=Object(d.a)(a,2),c=l[0],u=l[1],h=Object(n.useCallback)((function(e){u(e)}),[u]),b=Object(n.useCallback)((function(e){o(e)}),[o]);return Object(n.useEffect)((function(){null!=t&&null!==e.deleteIndex&&(t.emit("delete-goal",{index:e.deleteIndex,project:e.projectId}),e.deleteTrigger(),"simple"===e.projectId&&t.on("deleting-simple",h))}),[t,e.deleteIndex,e.deleteTrigger,e.projectId]),Object(n.useEffect)((function(){if(null!=t)return e.contracts?(t.emit("get-contracts-goals",e.projectId),t.on("receive-contracts-goals",b),function(){return t.off("receive-contracts-goals")}):(t.emit("get-goals",{project:e.projectId}),t.on("receive-goals",b),function(){return t.off("receive-goals")})}),[t,b,e.projectId,e.triggerGoals,e.contracts]),Object(n.useEffect)((function(){e.updateGoals(i)}),[i]),Object(n.useEffect)((function(){e.switchWorld(c)}),[c]),Object(g.jsx)(g.Fragment,{})},ye=function(e){Object(M.a)(s,e);var t=Object(P.a)(s);function s(){var e;Object(E.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={modalClassic:!1,goals:[],receivedGoals:[],editedGoals:[],currentGoalIndex:0,numChildren:0,patterns:[],saveTrigger:!1,deletionIndex:null},e.downloadGoal=function(t){var s={context:e.state.goals[t].context,contract:e.state.goals[t].contract,description:e.state.goals[t].description,name:e.state.goals[t].name},n=JSON.stringify(s,null,"\t"),r=new Blob([n],{type:"text/json;charset=utf-8"}),i=new File([r],e.state.goals[t].name+".json");Object(xe.saveAs)(i)},e.downloadAllGoals=function(){if(0!==e.state.goals.length){for(var t,s=[],n=0;n<e.state.goals.length;n++)t={context:e.state.goals[n].context,contract:e.state.goals[n].contract,description:e.state.goals[n].description,name:e.state.goals[n].name},s.push(t);var r=JSON.stringify(s,null,"\t"),i=new Blob([r],{type:"text/json;charset=utf-8"}),o=new File([i],e.props.project+"_goals.json");Object(xe.saveAs)(o)}},e.isJsonString=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},e.goalPartOfProject=function(t){if(!t.context.hasOwnProperty("world_values"))return!1;for(var s=0;s<t.context.world_values.length;s++)if(!e.props.listOfWorldVariables[3].includes(t.context.world_values[s]))return!1;if(!t.contract.hasOwnProperty("assumptions"))return!1;if(t.contract.assumptions[0]&&t.contract.assumptions[0].hasOwnProperty("world_values"))for(var n=0;n<t.contract.assumptions.length;n++)if(t.contract.assumptions[0].world_values[n][0]&&!(e.props.listOfWorldVariables[0].includes(t.contract.assumptions[0].world_values[n][0])||e.props.listOfWorldVariables[1].includes(t.contract.assumptions[0].world_values[n][0])||e.props.listOfWorldVariables[2].includes(t.contract.assumptions[0].world_values[n][0])))return!1;if(!t.contract.hasOwnProperty("guarantees"))return!1;if(t.contract.guarantees[0]&&t.contract.guarantees[0].hasOwnProperty("world_values"))for(var r=0;r<t.contract.guarantees.length;r++)if(t.contract.guarantees[0].world_values[r][0]&&!(e.props.listOfWorldVariables[0].includes(t.contract.guarantees[0].world_values[r][0])||e.props.listOfWorldVariables[1].includes(t.contract.guarantees[0].world_values[r][0])||e.props.listOfWorldVariables[2].includes(t.contract.guarantees[0].world_values[r][0])))return!1;return!0},e.uploadGoals=function(t){e.isJsonString(t)&&function(){var s=JSON.parse(t);if(s.length){s.push(fe);for(var n=function(t){setTimeout((function(){e.uploadGoal(s[t])}),2e3)},r=0;r<s.length;r++)n(r)}else e.uploadGoal(s)}()},e.uploadGoal=function(t){if(t.hasOwnProperty("context")&&t.hasOwnProperty("contract")&&t.hasOwnProperty("name")&&t.hasOwnProperty("description")&&e.goalPartOfProject(t)){e.saveCurrentGoal(t);var s=JSON.parse(JSON.stringify(e.state.goals));s.push(JSON.parse(JSON.stringify(t))),e.setState({currentGoalIndex:s.length-1,editedGoals:s})}},e.onAddChild=function(){var t=JSON.parse(JSON.stringify(e.state.goals));t.push(JSON.parse(JSON.stringify(fe))),e.setState({editedGoals:t},(function(){return e.setModalClassic(!0,t.length-1)}))},e.setModalClassic=function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;e.setState({modalClassic:t}),-1!==s&&e.setState({currentGoalIndex:s})},e.deleteGoal=function(t){e.setState({deletionIndex:t})},e.editCurrentGoal=function(t){e.setState((function(s){return{editedGoals:s.editedGoals.map((function(s,n){return n===e.state.currentGoalIndex?t:s}))}}))},e.saveCurrentGoal=function(t){e.setState((function(s){return{goals:s.goals.map((function(s,n){return n===e.state.currentGoalIndex?t:s}))}}),(function(){return e.toggleSaveTrigger(!0)})),e.setModalClassic(!1)},e.getGoals=function(t){for(var s=[],n=[],r=0;r<t.length;r++){var i=JSON.parse(t[r]);i.hasOwnProperty("group")&&"new"===i.group||s.push(i),n.push(i)}e.setState({goals:s,receivedGoals:s,editedGoals:s,numChildren:s.length}),e.props.setGoals(n)},e.getPatterns=function(t){e.setState({patterns:JSON.parse(t)},(function(){return e.props.setPatterns(e.state.patterns)}))},e.toggleSaveTrigger=function(t){e.setState({saveTrigger:t})},e.deleteTrigger=function(){e.setState({deletionIndex:null},(function(){return e.props.toggleGetTrigger()}))},e.switchWorld=function(t){e.props.setProject(t),e.props.toggleGetTrigger()},e}return Object(B.a)(s,[{key:"render",value:function(){for(var e=this,t=[],s=0;s<this.state.numChildren;s+=1)t.push(Object(g.jsx)(Q,{number:s,title:this.state.receivedGoals[s].name,description:this.state.receivedGoals[s].description,contextChecked:this.state.receivedGoals[s].context,context:this.props.listOfWorldVariables[3],contract:this.state.receivedGoals[s].contract,patterns:this.state.patterns,statIconName:this.props.info.goalComponent.editIconName,statDownloadIconName:this.props.info.goalComponent.downloadIconName,statSecondIconName:this.props.info.goalComponent.deleteIconName,statIconColor:this.props.info.goalComponent.iconColor,modify:this.setModalClassic,download:this.downloadGoal,delete:this.deleteGoal},s));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(je,{projectId:this.props.project,triggerGoalsChecked:this.props.triggerGoalsChecked,swapTriggerGoalsChecked:this.props.swapTriggerGoalsChecked}),Object(g.jsx)(we,{projectId:this.props.project,session:this.props.id,updateGoals:this.getGoals,deleteIndex:this.state.deletionIndex,triggerGoals:this.props.triggerGetGoals,deleteTrigger:this.deleteTrigger,switchWorld:this.switchWorld,contracts:this.props.contracts}),Object(g.jsx)(me,{patterns:this.getPatterns}),Object(g.jsx)(pe,{projectId:this.props.project,index:this.state.currentGoalIndex,goals:this.state.editedGoals,triggerSave:this.state.saveTrigger,toggleSaveTrigger:this.toggleSaveTrigger,toggleGetTrigger:this.props.toggleGetTrigger,switchWorld:this.switchWorld}),Object(g.jsx)(Ne,{uploadGoal:this.uploadGoals,addChild:this.onAddChild,contracts:this.props.contracts,downloadGoals:this.downloadAllGoals,children:t}),Object(g.jsx)(W.h,{isOpen:this.state.modalClassic,toggle:function(){return e.setModalClassic(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:Object(g.jsx)(be,Object(c.a)({tmpedited:this.state.editedGoals,tmpindex:this.state.currentGoalIndex,goal:this.state.editedGoals[this.state.currentGoalIndex],listOfWorldVariables:this.props.listOfWorldVariables,patterns:this.state.patterns,edit:this.editCurrentGoal,save:this.saveCurrentGoal,close:function(){return e.setModalClassic(!1)}},ge))})]})}}]),s}(r.a.Component);ye.defaultProps={contract:""};var Ne=function(e){return Object(g.jsxs)("section",{className:"relative",children:[Object(g.jsx)(Oe,{size:"worldModeling",upload:e.uploadGoal,color:T.info.buttons.uploadGoal.color,text:T.info.buttons.uploadGoal.text,icon:T.info.buttons.uploadGoal.icon,contracts:e.contracts}),Object(g.jsxs)(j,{contracts:e.contracts,size:"worldModeling",color:T.info.buttons.downloadGoals.color,outline:!0,onClick:e.downloadGoals,children:[Object(g.jsx)("i",{className:T.info.buttons.downloadGoals.icon+"mr-2"}),T.info.buttons.downloadGoals.text]}),Object(g.jsxs)("div",{className:"mx-auto w-full",children:[Object(g.jsxs)("div",{className:"flex justify-center",children:[Object(g.jsx)("div",{className:"flex flex-col",children:Object(g.jsx)("div",{className:"mt-2"})}),Object(g.jsx)("div",{onClick:e.addChild,className:"w-full lg:w-6/12 xl:w-3/12 ml-4 mr-4 px-4 relative flex flex-col min-w-0 break-words bg-lightBlue-600 rounded mb-6 xl:mb-0 shadow-lg cursor-pointer opacity-1 transform duration-300 transition-all ease-in-out",children:Object(g.jsx)(H,{statText:"Add a Goal",statIconName:"fas fa-plus-square",statIconColor:"text-lightBlue-700"})})]}),Object(g.jsx)("div",{className:"flex flex-wrap justify-center",children:e.children})]})]})};function Ce(e){var t=e.statTitle,s=e.statIconName,n=e.statIconColor,r=e.state,i=e.headerKey,o=e.clickable,a=e.onSelectCustomHeader,l=r?"text-blueGray-700":"text-blueGray-300",c=r?n:"bg-blueGray-200",d=o?"cursor-pointer":"cursor-auto";return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{onClick:function(){return a(i,o)},className:"relative flex justify-center break-words bg-white rounded-lg mb-6 shadow-lg text-center "+d,children:Object(g.jsx)("div",{className:"p-3 ",children:Object(g.jsxs)("div",{className:"flex flex-row ",children:[Object(g.jsx)("div",{className:"pr-4 flex justify-center items-center ",children:Object(g.jsx)("span",{className:"font-bold text-base uppercase "+l,children:t})}),Object(g.jsx)("div",{className:"relative w-auto ",children:Object(g.jsx)("div",{className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full "+c,children:Object(g.jsx)("i",{className:s})})})]})})})})}function ke(e){var t=e.cards,s=e.color,n=e.states,r=e.clickable,i=e.onSelectCustomHeader;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"relative pt-8 pb-12 "+{light:"bg-blueGray-200",dark:"bg-blueGray-800",blueGray:"bg-blueGray-500",red:"bg-red-500",orange:"bg-orange-500",amber:"bg-amber-500",emerald:"bg-emerald-500",teal:"bg-teal-500",lightBlue:"bg-lightBlue-500",indigo:"bg-indigo-500",purple:"bg-purple-500",pink:"bg-pink-500"}[s],children:Object(g.jsx)("div",{className:"px-12 mx-8 w-40",children:Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"flex flex-wrap justify-center ",children:t.map((function(e,t){return Object(g.jsx)("div",{className:"flex-initial w-64 px-3 ",children:Object(g.jsx)(Ce,Object(c.a)(Object(c.a)({},e),{},{clickable:r,headerKey:t,state:n[t],onSelectCustomHeader:i}))},t)}))})})})})})}Ce.defaultProps={statArrow:"up"},ke.defaultProps={cards:[],color:"blueGray"};var Se={color:"lightBlue",cards:[{statTitle:"World Modeling",statIconName:"fas fa-globe",statIconColor:"bg-red-500"},{statTitle:"Goal Modeling",statIconName:"fas fa-bullseye",statIconColor:"bg-orange-500"},{statTitle:"Analysis",statIconName:"fas fa-spinner",statIconColor:"bg-pink-500"},{statTitle:"Simulation",statIconName:"fas fa-check-circle",statIconColor:"bg-lightBlue-500"}]};function Ge(e){var t=e.copyright,s=e.links;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("footer",{className:"block py-4 w-full absolute bottom-0",children:Object(g.jsxs)("div",{className:"container mx-auto px-4",children:[Object(g.jsx)("hr",{className:"mb-4 border-b-1 border-blueGray-200"}),Object(g.jsxs)("div",{className:"flex flex-wrap items-center md:justify-between justify-center",children:[Object(g.jsx)("div",{className:"w-full md:w-4/12 px-4",children:Object(g.jsxs)("div",{className:"text-center mb-2 md:text-left md:mb-0",children:[t&&t.to&&Object(g.jsx)(a.b,Object(c.a)(Object(c.a)({},t),{},{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left"})),t&&void 0===t.to&&Object(g.jsx)("a",Object(c.a)(Object(c.a)({},t),{},{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left"}))]})}),Object(g.jsx)("div",{className:"w-full md:w-8/12 px-4",children:Object(g.jsx)("ul",{className:"flex flex-wrap list-none md:justify-end  justify-center",children:s.map((function(e,t){return Object(g.jsxs)("li",{children:[e.to&&Object(g.jsx)(a.b,Object(c.a)(Object(c.a)({},e),{},{className:"text-blueGray-700 hover:text-blueGray-900 text-sm font-semibold block py-1 px-3"})),void 0===e.to&&Object(g.jsx)("a",Object(c.a)(Object(c.a)({},e),{},{className:"text-blueGray-700 hover:text-blueGray-900 text-sm font-semibold block py-1 px-3"}))]},t)}))})})]})]})})})}Ge.defaultProps={copyright:{},links:[]};var Fe={copyright:{href:"https://www.creative-tim.com/?ref=npr-footeradmin",target:"_blank",children:"Copyright \xa9 "+(new Date).getFullYear()+" Creative Tim"},links:[{href:"https://www.creative-tim.com?ref=npr-footeradmin",target:"_blank",children:"Creative Tim"},{href:"https://www.creative-tim.com/presentation?ref=npr-footeradmin",target:"_blank",children:"About Us"},{href:"https://www.creative-tim.com/blog/?ref=npr-footeradmin",target:"_blank",children:"Blog"},{href:"https://www.creative-tim.com/license?ref=npr-footeradmin",target:"_blank",children:"Licenses"}]};var Ie=function(e){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{onClick:e.onClick,className:"w-full sm:w-5/12 md:w-4/12 lg:w-4/12 xl:w-3/12 mt-8 ml-4 mr-4 pl-3 pr-2 relative flex cursor-pointer flex-col min-w-0 break-words border-lightBlue-700 bg-white rounded mb-6 xl:mb-0 shadow-lg opacity-1 transform duration-300 transition-all ease-in-out "+(e.selected?"world-border-8":"world-border-0"),children:Object(g.jsxs)("div",{className:"flex-auto p-3 pt-4 pr-0",children:[Object(g.jsxs)("div",{className:"flex",children:[Object(g.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(g.jsx)("div",{className:"flex flex-wrap",children:Object(g.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(g.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:e.title})})}),""!==e.description&&Object(g.jsxs)("div",{className:"flex flex-col flex-wrap w-full",children:[Object(g.jsx)("div",{className:"relative w-full pr-4 mt-2 mb-2 max-w-full flex-grow flex-1 ",children:Object(g.jsx)("span",{className:"text-md text-blueGray-700",children:e.description})}),Object(g.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1"})]}),""===e.description&&Object(g.jsx)("div",{className:"flex flex-col h-8 flex-wrap w-full"}),e.image&&Object(g.jsx)("div",{className:"w-full",children:Object(g.jsx)("img",{src:"data:image/png;base64,"+(t=e.image,t=t.slice(2,t.length-1)),alt:"World",className:"w-full"})})]}),Object(g.jsxs)("div",{className:"flex flex-col min-content",children:[Object(g.jsx)("div",{className:"relative pl-4 flex justify-end flex-initial",children:Object(g.jsx)(a.b,{to:"/world",className:"hover-no-underline",children:Object(g.jsx)(G.Tooltip,{title:"Edit",position:"right",arrow:"true",children:Object(g.jsx)("div",{onClick:function(){return e.modify(e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-10 h-10 shadow-lg rounded-full cursor-pointer "+e.statIconColor,children:Object(g.jsx)("i",{className:e.statIconName})})})})}),0!==e.number&&Object(g.jsx)("div",{className:"relative pl-4 flex mt-2 justify-end flex-initial",children:Object(g.jsx)(G.Tooltip,{title:"Delete",position:"right",arrow:"true",children:Object(g.jsx)("div",{onClick:function(){return e.delete(!0,e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-10 h-10 shadow-lg rounded-full cursor-pointer "+e.statIconColor,children:Object(g.jsx)("i",{className:e.statSecondIconName,id:"deleteIcon"})})})}),Object(g.jsx)("div",{className:"relative pl-4 flex mt-auto justify-end flex-initial ",children:Object(g.jsx)(G.Tooltip,{title:"Download",position:"right",arrow:"true",children:Object(g.jsx)("div",{onClick:function(){return e.download(e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-10 h-10 shadow-lg rounded-full cursor-pointer bg-emerald-400",children:Object(g.jsx)("i",{className:e.statDownloadIconName,id:"downloadIcon"})})})})]})]}),Object(g.jsx)("div",{className:"flex flex-col mt-4",children:Object(g.jsx)("div",{className:"relative w-full max-w-full flex-grow flex-1",children:Object(g.jsx)("div",{className:"overflow-hidden relative flex flex-col min-w-0 break-words bg-white w-full border-b border-blueGray-200"})})})]})})});var t};var Te=function(e){var t=C(),s=Object(n.useState)(0),r=Object(d.a)(s,2),i=r[0],o=r[1],a=Object(n.useState)(!1),l=Object(d.a)(a,2),c=l[0],u=l[1],h=Object(n.useCallback)((function(e){o(e)}),[o]);return Object(n.useEffect)((function(){if(null!=t)return t.emit("get-projects"),t.on("receive-projects",h),function(){return t.off("receive-projects")}}),[t,h,e.projectAdded,c]),Object(n.useEffect)((function(){e.worlds(i),console.log("Message dans GetProjects"),console.log(i)}),[i]),Object(n.useEffect)((function(){if(e.uploadConfirmation)return t.emit("get-projects"),e.uploadChange(!1),u(!c),t.on("receive-projects",h),function(){return t.off("receive-projects")}}),[t,e.uploadChange,e.uploadConfirmation,h,e.projectAdded,c]),Object(n.useEffect)((function(){if(e.deletionConfirmation)return t.emit("delete-project",{index:e.deletionIndex}),e.deletionChanger(!1),t.on("deletion-complete",u(!c)),function(){return t.off("deletion-complete")}}),[e.deletionConfirmation,e.deletionIndex,e.deletionChanger,t]),Object(g.jsx)(g.Fragment,{})},Ae={mainTitle:"Build Your Environment",gridSize:"Size of the Grid",errorMsg:{gridTooSmall:"The retracted size is too small, clear before decreasing the size",wallInsideBlock:"You can't create a wall within a block",wallLine:"Select a line or a column where you want to put a wall",splitLocations:"You can't have a location that would be split"},help:{title:"How to do?",messages:[{title:"How to create a Location?",content:"Click on a first cell, then click on the opposite corner of the location you want. You will need to enter the id of the location you just created to see it appear."},{title:"How to delete a Location?",content:"In the list of locations, click on the cross corresponding to the location you want to delete."},{title:"How to put a Wall?",content:"Go to wall mode, click on a location and next, click on a neighbour location. A wall will be built."},{title:"How to delete a Wall?",content:"Go to wall mode, click on 2 locations between which there is a wall. The wall will disappear."}]},componentsList:[{content:[],title:"Locations",displayAddWallButton:!1},{content:[],title:"Actions",displayAddButton:!0},{content:[],title:"Sensors",displayAddButton:!0},{content:[],title:"Context",displayAddButton:!0}],buttons:{clear:"Clear",save:"Save",update:"Update",back:{text:"Back to Crome",color:"gray",icon:"fas fa-long-arrow-alt-left"},buildYourEnvironment:{text:"Build your environment",size:"worldModeling",color:"gray",icon:"fas fa-plus-square"},uploadWorld:{text:"Upload a world",size:"worldModeling",color:"gray",icon:"fas fa-arrow-up"}},modal:{world:{title:"Edit Element",modal:{mutex:"Exclusive with :",close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",saveText:"Save",saveColor:"info"}},saving:{title:"Save Environment",modal:{close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",saveText:"Save",saveColor:"info"}},inputId:{title:"Enter Location ID",modal:{close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",saveText:"Save",saveColor:"info"}}}};var Le=function(e){var t=C(),s=Object(n.useCallback)((function(t){e.returnProjectId(t)}),[e]);return Object(n.useEffect)((function(){if(null!=t&&null!==e.world&&e.trigger){if(e.world.environment.session_id=e.session,e.world.info.session_id=e.session,null===e.world.environment.project_id){var n=function(e){var t=Math.floor(9e5*Math.random())+1e5;return e.replaceAll(" ","").toLowerCase()+"_"+t}(e.world.info.name);e.world.environment.project_id=n,e.world.info.project_id=n}else e.world.info.project_id=e.world.environment.project_id;return console.log("emit socket save-project"),t.emit("save-project",{world:e.world}),e.uploadImage&&t.emit("save-image",{image:e.world.image.split("'")[1],project:e.world.environment.project_id}),e.setTrigger(!1),t.on("project-saved",s),function(){return t.off("saving-complete")}}}),[t,e.world,e,s]),Object(g.jsx)(g.Fragment,{})},Ee=function(e){Object(M.a)(s,e);var t=Object(P.a)(s);function s(){var e;Object(E.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={worlds:[],info:[],images:[],selectedWorldIndex:0,selectedWorldToDelete:0,numChildren:0,modalDeletionConfirmation:!1,deletionConfirmation:!1,uploadConfirmation:!1,worldSelected:null,uploadedWorld:null,triggerSave:!1,projectID:null},e.setUploadedWorld=function(t){e.setState({uploadedWorld:t})},e.setProjectID=function(t){e.setState({projectID:t})},e.setTriggerSave=function(t){e.setState({triggerSave:t})},e.setUploadConfirmation=function(t){e.setState({uploadConfirmation:t})},e.getWorlds=function(t){console.log(t);for(var s=[],n=[],r=[],i=[],o=0;o<t.length;o++)for(var a=0;a<t[o].length;a++)"environment"===t[o][a].title?s.push(JSON.parse(t[o][a].content)):"info"===t[o][a].title?(n.push(JSON.parse(t[o][a].content)),r.push(JSON.parse(t[o][a].content).name)):"image"===t[o][a].title&&i.push(t[o][a].content);e.props.setListOfWorldNames(r),e.setState({worlds:s,info:n,images:i,numChildren:s.length})},e.selectWorld=function(t,s){"deleteButton"!==s&&"deleteIcon"!==s&&(t===e.state.worldSelected?(e.setState({worldSelected:null}),e.props.setProject(0)):(e.props.setListOfWorldVariables(e.getListOfWorldVariables(e.state.worlds[t])),e.setState({worldSelected:t}),e.props.setProject(e.state.worlds[t].project_id),e.props.setWorld({environment:e.state.worlds[t],info:e.state.info[t]})))},e.modifyWorld=function(t){e.props.setWorld({environment:e.state.worlds[t],info:e.state.info[t]})},e.downloadWorld=function(t){var s={environment:e.state.worlds[t],info:e.state.info[t],image:e.state.images[t]},n=JSON.stringify(s,null,"\t"),r=new Blob([n],{type:"text/json;charset=utf-8"}),i=new File([r],e.state.worlds[t].project_id+".json");Object(xe.saveAs)(i)},e.isJsonString=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},e.uploadWorld=function(t){if(e.isJsonString(t)){var s=JSON.parse(t);s.hasOwnProperty("environment")&&s.hasOwnProperty("info")&&(e.setUploadedWorld(s),e.setTriggerSave(!0),e.setUploadConfirmation(!0))}},e.clearWorld=function(){e.props.setWorld(null)},e.setModalDeletionConfirmation=function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&null!==s&&e.setState({selectedWorldToDelete:s}),e.setState({modalDeletionConfirmation:t})},e.setDeletionConfirmation=function(t){e.setState({deletionConfirmation:t})},e.deleteWorld=function(){e.state.selectedWorldToDelete<e.state.worldSelected&&e.setState({worldSelected:e.state.worldSelected-1}),e.setModalDeletionConfirmation(!1),e.setDeletionConfirmation(!0)},e}return Object(B.a)(s,[{key:"componentDidUpdate",value:function(e,t,s){e.project!==this.props.project&&this.setState({worldSelected:this.getIndexOfProjectId(this.props.project)})}},{key:"getIndexOfProjectId",value:function(e){if(0===e)return null;for(var t=0;t<this.state.worlds.length;t++)if(this.state.worlds[t].project_id===e)return t;return this.state.worlds.length}},{key:"getListOfWorldVariables",value:function(e){for(var t=[[],[],[],[]],s=0;s<e.grid.locations.length;s++)t[0].push(e.grid.locations[s].id);for(var n=0;n<e.actions.length;n++)t[1].push(e.actions[n].name);for(var r=0;r<e.sensors.length;r++)t[2].push(e.sensors[r].name);for(var i=0;i<e.context.length;i++)t[3].push(e.context[i].name);return t}},{key:"render",value:function(){for(var e=this,t=[],s=function(s){t.push(Object(g.jsx)(Ie,{number:s,title:e.state.info[s].name,description:e.state.info[s].description,image:e.state.images[s],statIconName:e.props.info.goalComponent.editIconName,statSecondIconName:e.props.info.goalComponent.deleteIconName,statDownloadIconName:e.props.info.goalComponent.downloadIconName,statIconColor:e.props.info.goalComponent.iconColor,selected:e.state.worldSelected===s,onClick:function(t){return e.selectWorld(s,t.target.id)},modify:e.modifyWorld,download:e.downloadWorld,delete:e.setModalDeletionConfirmation},s))},n=0;n<this.state.numChildren;n+=1)s(n);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Te,{worlds:this.getWorlds,deletionIndex:this.state.selectedWorldToDelete,deletionConfirmation:this.state.deletionConfirmation,uploadConfirmation:this.state.uploadConfirmation,uploadChange:this.setUploadConfirmation,deletionChanger:this.setDeletionConfirmation,projectAdded:this.props.projectAdded}),Object(g.jsx)(Le,{session:this.props.id,world:this.state.uploadedWorld,trigger:this.state.triggerSave,returnProjectId:this.setProjectID,setTrigger:this.setTriggerSave,uploadImage:this.state.triggerSave}),Object(g.jsx)(Be,{uploadWorld:this.uploadWorld,clearWorld:this.clearWorld,children:t}),Object(g.jsxs)(W.h,{isOpen:this.state.modalDeletionConfirmation,toggle:function(){return e.setModalDeletionConfirmation(!1)},className:"custom-modal-dialog sm:c-m-w-70",children:[Object(g.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(g.jsx)("button",{"aria-hidden":!0,className:"close",onClick:function(){return e.setModalDeletionConfirmation(!1)},type:"button",children:Object(g.jsx)("i",{className:this.props.info.modal.close})}),Object(g.jsx)("h4",{className:"title title-up",children:this.props.info.modal.title})]}),Object(g.jsx)("div",{className:"modal-body justify-content-center text-center",children:Object(g.jsxs)("span",{children:[this.props.info.modal.content,void 0!==this.state.info[this.state.selectedWorldToDelete]&&this.state.info[this.state.selectedWorldToDelete].name]})}),Object(g.jsxs)(W.i,{children:[Object(g.jsx)(W.a,{color:this.props.info.modal.cancelColor,onClick:function(){return e.setModalDeletionConfirmation(!1)},children:this.props.info.modal.cancelText}),Object(g.jsx)(W.a,{color:this.props.info.modal.confirmColor,onClick:this.deleteWorld,children:this.props.info.modal.confirmText})]})]})]})}}]),s}(r.a.Component),Be=function(e){return Object(g.jsxs)("section",{className:"relative",children:[Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)(Oe,{upload:e.uploadWorld,size:Ae.buttons.uploadWorld.size,color:Ae.buttons.uploadWorld.color,text:Ae.buttons.uploadWorld.text,icon:Ae.buttons.uploadWorld.icon}),Object(g.jsx)(a.b,{to:"/world",className:"mt-2 hover-no-underline",onClick:e.clearWorld,children:Object(g.jsxs)(j,{size:Ae.buttons.buildYourEnvironment.size,color:Ae.buttons.buildYourEnvironment.color,outline:!0,children:[Object(g.jsx)("i",{className:Ae.buttons.buildYourEnvironment.icon+" mr-2"}),Ae.buttons.buildYourEnvironment.text]})})]}),Object(g.jsx)("div",{className:"flex flex-wrap justify-center",children:e.children})]})},Me={operators:["Conjunction","Composition","Disjunction","Refinement","Extension"],symbols:{conjunction:"circle",composition:"diamond",refinement:"vee"},refinementMessages:["Select the Abstract Goal","Select the Refined Goal","Please select only 2 Goals"],libraryWarning:"Please select only 1 Goal to extend",buttonText:"Apply Operator"};var Pe=function(e){for(var t=r.a.useState(null),s=Object(d.a)(t,2),n=s[0],i=s[1],o=[],a="",l=function(e){var t=!0;a="border-b-1 text-blueGray-700 text-lg py-1 cursor-pointer",0===e&&(a+=" border-t-1"),e===n?(a+=" bg-blueGray-200 hover:bg-blueGray-300",t=!1,console.log(t)):a+="  hover:bg-blueGray-100",o.push(Object(g.jsxs)("li",{className:a,onClick:function(){return s=e,void i({select:t}?s:null);var s},children:["library_",e]},e))},c=0;c<1e3;c+=1)l(c);return Object(g.jsx)("div",{className:" px-3 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg",children:Object(g.jsxs)("div",{className:"flex flex-col justify-center p-4 pr-0",children:[Object(g.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:"Libraries"}),Object(g.jsx)("div",{className:"overflow-auto max-h-200-px pt-3 px-5",children:Object(g.jsx)("ul",{children:o})}),Object(g.jsx)("div",{className:"flex flex-col m-auto py-2 uppercase ",children:Object(g.jsx)(j,{children:"Map to library"})})]})})};var We=function(e){var t=r.a.useState(!1),s=Object(d.a)(t,2),n=s[0],i=s[1],o=[];for(var a in e.goal.contract)e.goal.contract.hasOwnProperty(a)&&(o[Object.keys(e.goal.contract).indexOf(a)]=[],o[Object.keys(e.goal.contract).indexOf(a)].title=a,o[Object.keys(e.goal.contract).indexOf(a)].content=e.goal.contract[a]);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"w-full mt-8 px-4 relative flex flex-col min-w-0 break-words bg-white rounded mb-6 opacity-1 transform duration-300 transition-all ease-in-out",children:Object(g.jsxs)("div",{className:"flex-auto p-4 pr-0",children:[Object(g.jsx)("div",{className:"flex",children:Object(g.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(g.jsx)("div",{className:"flex flex-wrap",children:Object(g.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(g.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:e.goal.name})})}),Object(g.jsxs)("div",{className:"flex flex-col flex-wrap w-full",children:[Object(g.jsx)("div",{className:"relative w-full pr-4 mt-2 mb-2 max-w-full flex-grow flex-1",children:Object(g.jsx)("span",{className:"text-md text-blueGray-700",children:e.goal.description})}),Object(g.jsxs)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:[Object(g.jsx)("b",{children:"Context : "})," ",e.goal.context.formula]})]})]})}),Object(g.jsx)("div",{className:"flex flex-col mt-4",children:Object(g.jsx)("div",{className:"relative w-full max-w-full flex-grow flex-1",children:Object(g.jsx)("div",{className:"overflow-hidden relative flex flex-col min-w-0 break-words bg-white w-full border-b border-blueGray-200",children:Object(g.jsx)(U,{contract:o,patterns:e.patterns,color:"lightBlue",setOpen:function(e){i(e)},defaultOpened:n})})})}),e.library&&Object(g.jsx)("div",{className:"mt-5",children:Object(g.jsx)(Pe,{})})]})}),Object(g.jsx)(W.i,{children:Object(g.jsx)("div",{className:"w-full flex justify-center",children:Object(g.jsx)(W.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText})})})]})},Re=s(252),De=s.n(Re);var Ve=function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("div",{className:"w-full mt-8 px-4 relative flex flex-col min-w-0 break-words bg-white rounded mb-6 opacity-1 transform duration-300 transition-all ease-in-out",children:Object(g.jsx)("div",{className:"flex-auto p-4 pr-0",children:Object(g.jsx)("div",{className:"flex",children:Object(g.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(g.jsx)("div",{className:"flex flex-wrap",children:Object(g.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(g.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:e.nodeLabel})})}),Object(g.jsx)("div",{className:"flex flex-col flex-wrap w-full",children:Object(g.jsxs)("div",{className:"relative w-full pr-4 mt-2 mb-2 max-w-full flex-grow flex-1",children:[Object(g.jsx)("span",{className:"font-bold text-md uppercase text-blueGray-700",children:"Children : "}),Object(g.jsx)("span",{className:"text-md text-blueGray-700",dangerouslySetInnerHTML:{__html:"generated by "+e.nodeChildren}}),Object(g.jsx)("br",{}),e.nodeParent&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("span",{className:"font-bold text-md uppercase text-blueGray-700",children:"Parent : "}),Object(g.jsx)("span",{className:"text-md text-blueGray-700",dangerouslySetInnerHTML:{__html:"participing in "+e.nodeParent}})]})]})})]})})})}),Object(g.jsx)(W.i,{children:Object(g.jsx)("div",{className:"w-full flex justify-center",children:Object(g.jsx)(W.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText})})})]})},ze=function(e){Object(M.a)(s,e);var t=Object(P.a)(s);function s(){var e;Object(E.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={ready:!1,network:null,modalNode:!1,modalGoal:!1,currentGoalIndex:0,nodeLabel:"",nodeChildren:"",nodeParent:""},e.setModalGoal=function(t){e.setState({modalGoal:t})},e.setModalNode=function(t){e.setState({modalNode:t})},e.setCurrentGoalIndex=function(t){e.setState({currentGoalIndex:t})},e.setNodeLabel=function(t){e.setState({nodeLabel:t})},e.setNodeChildren=function(t){e.setState({nodeChildren:t})},e.setNodeParent=function(t){e.setState({nodeParent:t})},e.setReady=function(t){e.setState({ready:t})},e.findGoalIndexById=function(t){if(null!==e.props.goals)for(var s=0;s<e.props.goals.length;s++)if(e.props.goals[s].id===t)return{index:s,goal:e.props.goals[s]}},e.findNodesIndexById=function(t){if(null!==e.props.nodesArray)for(var s=0;s<e.props.nodesArray.length;s++)if(e.props.nodesArray[s].id===t)return e.props.nodesArray[s].label},e.getNodeChildren=function(t){var s="",n=t.split("/\\"),r=t.split("**"),i=t.split("||");return 2===n.length?(s+="a conjunction link between ",s+="<strong>"+e.findNodesIndexById(n[0])+"</strong> and ",s+="<strong>"+e.findNodesIndexById(n[1])+"</strong>"):2===r.length?(s+="a refinement link between ",s+="<strong>"+e.findNodesIndexById(r[0])+"</strong> and ",s+="<strong>"+e.findNodesIndexById(r[1])+"</strong>"):2===i.length&&(s+="a composition link between ",s+="<strong>"+e.findNodesIndexById(i[0])+"</strong> and ",s+="<strong>"+e.findNodesIndexById(i[1])+"</strong>"),s},e.getNodeParent=function(t){var s,n="",r={"/\\":"conjunction","**":"refinement","||":"composition"};if(null!==e.props.edgesArray)for(var i=0;i<e.props.edgesArray.length;i++)if(e.props.edgesArray[i].from===t)for(var o in r)2!==(s=e.props.edgesArray[i].to.split(o)).length||s[0]!==t&&s[1]!==t||(n+=r[o]+" of <strong>"+e.findNodesIndexById(e.props.nodesArray,e.props.edgesArray[i].to)+"</strong>\n");return n},e}return Object(B.a)(s,[{key:"shouldComponentUpdate",value:function(e,t,s){return this.props.active!==e.active||this.state!==t}},{key:"render",value:function(){var e=this,t=this,s={layout:{improvedLayout:!0,hierarchical:{enabled:!0,sortMethod:"directed",direction:"DU",shakeTowards:"roots"}},edges:{color:"#000000",arrows:{to:{scaleFactor:1}}},nodes:{shape:"box"},groups:{input:{color:{border:"#00bb00",background:"#ffffff",highlight:{border:"#88bb88",background:"#ccccee"}}},new:{color:{border:"#00bb00",background:"#00bb00",highlight:{border:"#88bb88",background:"#bbffbb"}}},library:{color:{border:"#ffbb00",background:"#ffffff",highlight:{border:"#ffbb88",background:"#eeeecc"}}}},height:this.props.size,autoResize:!0},n={doubleClick:function(e){0!==e.nodes.length&&function(e){var s=t.findGoalIndexById(e[0]);if(void 0===s||s.goal.hasOwnProperty("group")){var n=t.findNodesIndexById(e[0]);t.setNodeLabel(n),t.setNodeChildren(t.getNodeChildren(e[0])),t.setNodeParent(t.getNodeParent(e[0])),t.setModalNode(!0)}else t.setModalGoal(!0),t.setCurrentGoalIndex(s.index)}(e.nodes)}};return Object(g.jsxs)("div",{className:"bg-lightBlue-500 bg-opacity-25 shadow-md",children:[this.state.ready&&Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(De.a,{graph:this.props.graph,options:s,events:n,getNetwork:function(t){e.setState({network:t})}}),Object(g.jsx)(W.h,{isOpen:this.state.modalGoal,toggle:function(){return e.setModalGoal(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:null!==this.props.goals&&void 0!==this.props.goals[this.state.currentGoalIndex]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(We,Object(c.a)({goal:this.props.goals[this.state.currentGoalIndex],library:!0,close:function(){return e.setModalGoal(!1)},patterns:this.props.patterns},ge))})}),Object(g.jsx)(W.h,{isOpen:this.state.modalNode,toggle:function(){return e.setModalNode(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:null!==this.props.goals&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ve,Object(c.a)({nodeChildren:this.state.nodeChildren,nodeLabel:this.state.nodeLabel,nodeParent:this.state.nodeParent,close:function(){return e.setModalNode(!1)}},ge))})})]}),this.props.active&&Object(g.jsx)(Je,{callBack:this.setReady})]})}}]),s}(r.a.Component),Je=function(e){Object(M.a)(s,e);var t=Object(P.a)(s);function s(){return Object(E.a)(this,s),t.apply(this,arguments)}return Object(B.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.callBack;setTimeout((function(){e(!0)}),1e3)}},{key:"render",value:function(){return null}}]),s}(r.a.Component);var Ue=function(e){var t=C(),s=Object(n.useCallback)((function(){e.setTrigger(!1)}),[e]),r=Object(n.useCallback)((function(t){e.setGoalsTrigger(t)}),[e]);return Object(n.useEffect)((function(){if(null!=t&&e.trigger)return t.emit("process-goals",{project:e.project}),t.on("cgg-production",s),t.on("cgg-saved",r),function(){return t.off("receive-cgg")}}),[t,e.trigger,e.project,s,r]),Object(g.jsx)(g.Fragment,{})};var Ye=function(e){var t=C();return Object(n.useEffect)((function(){if(null!=t&&e.trigger){for(var s=[],n=JSON.parse(JSON.stringify(e.selectedGoals)),r=0;r<e.goals.length;r++)n.includes(r)&&(n.slice(n.indexOf(r),1),s.push(e.goals[r].id));for(var i=0;i<n.length;i++);switch(e.operator.toLowerCase()){case"conjunction":t.emit("apply-conjunction",{goals:e.selectedGoals});break;case"composition":t.emit("apply-composition",{goals:e.selectedGoals});break;case"disjunction":t.emit("apply-disjunction",{goals:e.selectedGoals});break;case"refinement":t.emit("apply-refinement",{abstract:e.selectedGoals[0],refined:e.selectedGoals[1]});break;case"extension":t.emit("apply-extension",{input:e.selectedGoals[0],library:e.library});break;default:return}return t.on("operation-complete",e.setTrigger(!1)),function(){return t.off("operation-complete")}}}),[t,e]),Object(g.jsx)(g.Fragment,{})};var Qe=function(e){var t=[];if(null!=e.goals)for(var s=function(s){0===s?t.push(Object(g.jsx)("li",{className:"border-b-1 border-t-1 text-blueGray-700 text-lg py-1 hover:bg-blueGray-100 cursor-pointer",onClick:function(){return e.clickOnGoal2(s)},children:e.goals[s].name},s)):t.push(Object(g.jsx)("li",{className:"border-b-1 text-blueGray-700 text-lg py-1 hover:bg-blueGray-100 cursor-pointer",onClick:function(){return e.clickOnGoal2(s)},children:e.goals[s].name},s))},n=0;n<e.goals.length;n+=1)s(n);return Object(g.jsxs)("div",{className:"w-full lg:w-5/12 xl:w-6/12 flex-col ml-12",children:[Object(g.jsx)("div",{className:" px-3 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg mb-12",children:Object(g.jsxs)("div",{className:"flex flex-col justify-center p-4 pr-0",children:[Object(g.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:"Input Goals"}),Object(g.jsx)("div",{className:"overflow-auto max-h-200-px pt-3 px-5",children:Object(g.jsx)("ul",{children:t})}),Object(g.jsx)("div",{className:"flex flex-col m-auto py-2 uppercase",children:Object(g.jsx)(j,{onClick:function(){return e.callCGG("auto")},children:"Build CGG"})})]})}),Object(g.jsx)(Pe,{})]})},He=s(253),qe=s.n(He);var Ke=function(){return Object(g.jsxs)("fieldset",{className:"border w-64 p-2 bg-white rounded shadow-md min-w-0 break-words absolute left-0 top-0",children:[Object(g.jsx)("legend",{className:" pl-2 w-auto",children:"CGG Legend"}),Object(g.jsxs)("div",{className:"flex items-center pl-4 py-1",children:[Object(g.jsx)("div",{className:"box-content bg-indigo-200 border-indigo-500 h-5 w-10 border-2 rounded-lg"}),Object(g.jsx)("span",{className:"ml-4 font-bold uppercase text-blueGray-700",children:"Created goals"})]}),Object(g.jsxs)("div",{className:"flex items-center pl-4 py-1",children:[Object(g.jsx)("div",{className:"box-content bg-white border-emerald-500 h-5 w-10 border-2 rounded-lg"}),Object(g.jsx)("span",{className:"ml-4 font-bold uppercase text-blueGray-700",children:"Initial goals"})]}),Object(g.jsxs)("div",{className:"flex items-center pl-4  ",children:[Object(g.jsxs)("svg",{className:"pl-1 w-10",viewBox:"0 20 80 50",children:[Object(g.jsx)("line",{x1:"0",y1:"50",x2:"50",y2:"50",stroke:"#000",strokeWidth:"6"}),Object(g.jsx)("polygon",{points:"50 35, 50 65, 80 50"})]}),Object(g.jsx)("span",{className:"font-bold ml-4 uppercase text-blueGray-700",children:"Refinement link"})]}),Object(g.jsxs)("div",{className:"flex items-center pl-4 ",children:[Object(g.jsxs)("svg",{className:"pl-1 w-10",viewBox:"0 20 80 50",children:[Object(g.jsx)("line",{x1:"0",y1:"50",x2:"50",y2:"50",stroke:"#000",strokeWidth:"6"}),Object(g.jsx)("circle",{cx:"60",cy:"50",r:"15",stroke:"black",strokeWidth:"3"})]}),Object(g.jsx)("span",{className:"font-bold ml-4 uppercase text-blueGray-700",children:"Conjunction link"})]}),Object(g.jsxs)("div",{className:"flex items-center pl-4 ",children:[Object(g.jsxs)("svg",{className:"pl-1 w-10",viewBox:"0 20 80 50",children:[Object(g.jsx)("line",{x1:"0",y1:"50",x2:"50",y2:"50",stroke:"#000",strokeWidth:"6"}),Object(g.jsx)("polygon",{points:"40 50, 60 35, 80 50, 60 65"})]}),Object(g.jsx)("span",{className:"font-bold ml-4 uppercase text-blueGray-700",children:"Composition link"})]})]})},Xe=s(254),Ze=function(e){Object(M.a)(s,e);var t=Object(P.a)(s);function s(){var e;Object(E.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={modalGoal:!1,modalNode:!1,nodeLabel:"",nodeChildren:"",nodeParent:"",currentGoalIndex:0,cgg:!1,cggTab:null,operator:null,selectedGoals:[],selectedLibrary:null,library:null,triggerOperation:!1,triggerCGG:!1},e.setModalGoal=function(t){e.setState({modalGoal:t})},e.setModalNode=function(t){e.setState({modalNode:t})},e.setCurrentGoalIndex=function(t){e.setState({currentGoalIndex:t})},e.setNodeLabel=function(t){e.setState({nodeLabel:t})},e.setNodeChildren=function(t){e.setState({nodeChildren:t})},e.setNodeParent=function(t){e.setState({nodeParent:t})},e.callCGG=function(t){"auto"===t&&e.setState({triggerCGG:!0})},e.setOperator=function(t){e.setState({operator:t})},e.setSelectedGoals=function(t){e.setState({selectedGoals:t})},e.setLibrary=function(t){e.setState({selectedLibrary:t})},e.applyOperator=function(){e.setTriggerOperation(!0)},e.setTriggerOperation=function(t){t||e.setTriggerCGG(!0),e.setState({triggerOperation:t})},e.setTriggerCGG=function(t){e.setState({triggerCGG:t})},e.setGoalsTrigger=function(t){e.setState({cggTab:t}),e.setState({triggerCGG:!1,cgg:!0},(function(){return e.props.toggleGoalsTrigger()}))},e.addGoalAlreadyHere=function(e,t){for(var s=0;s<e.goals.length;s++)t.push({id:e.goals[s].id,label:e.goals[s].name}),t[t.length-1].group=e.goals[s].hasOwnProperty("group")?e.goals[s].group:"input"},e.addCombinedGoal=function(t){for(var s=0,n=0;n<e.state.cggTab.nodes.length;n++){for(var r=0;r<t.length;r++)t[r].id===e.state.cggTab.nodes[n].id&&(s=1);0===s&&t.push({id:e.state.cggTab.nodes[n].id,label:"goal"+n}),s=0}},e.clickOnGoal2=function(t){e.setModalGoal(!0),e.setCurrentGoalIndex(t)},e.addEdges=function(t){for(var s=0;s<e.state.cggTab.edges.length;s++)t.push({from:e.state.cggTab.edges[s].from,to:e.state.cggTab.edges[s].to,arrows:{to:{type:Me.symbols[e.state.cggTab.edges[s].link.toLowerCase()]}}})},e}return Object(B.a)(s,[{key:"componentDidMount",value:function(){"simple"!==this.props.project||this.state.cgg||this.setState({cgg:!0})}},{key:"render",value:function(){var e=this,t=[],s=[];this.state.cgg&&"simple"!==this.props.project&&(this.addGoalAlreadyHere(this.props,t),this.addCombinedGoal(t),this.addEdges(s));var n={nodes:t,edges:s};return"simple"===this.props.project&&(n=Xe),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Ue,{session:this.props.id,project:this.props.project,trigger:this.state.triggerCGG,setTrigger:this.setTriggerCGG,setGoalsTrigger:this.setGoalsTrigger}),Object(g.jsx)(Ye,{operator:this.state.operator,goals:this.props.goals,selectedGoals:this.state.selectedGoals,library:this.state.selectedLibrary,trigger:this.state.triggerOperation,setTrigger:this.setTriggerOperation}),this.state.cgg&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"relative flex flex-auto mt-4",children:[Object(g.jsx)(ze,{active:this.props.active,graph:n,size:"725px",goals:this.props.goals,patterns:this.props.patterns,nodesArray:t,edgesArray:s}),Object(g.jsx)(Qe,{callCGG:this.callCGG,clickOnGoal2:this.clickOnGoal2,goals:this.props.goals}),Object(g.jsx)(Ke,{})]})}),!this.state.cgg&&Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"flex flex-auto mt-4",children:[Object(g.jsx)("div",{className:"bg-lightBlue-500 bg-opacity-25 w-50 shadow-md flex items-center justify-center",style:{width:750,height:725},children:this.state.triggerCGG&&Object(g.jsx)(qe.a,{type:"spinningBubbles",color:"#fff"})}),Object(g.jsx)(Qe,{callCGG:this.callCGG,clickOnGoal2:this.clickOnGoal2,goals:this.props.goals})]})}),Object(g.jsx)(W.h,{isOpen:this.state.modalGoal,toggle:function(){return e.setModalGoal(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:null!==this.props.goals&&void 0!==this.props.goals[this.state.currentGoalIndex]&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(We,Object(c.a)({goal:this.props.goals[this.state.currentGoalIndex],library:!0,close:function(){return e.setModalGoal(!1)},patterns:this.props.patterns},ge))})})]})}}]),s}(r.a.Component),_e={colors:["#FF0000","#8FF484","#FF00FF","#FFFF00","#00FFFF","#FF8800","#0088FF","#66FFB2","#8800FF","#FF0088","#445588","#660066","#FF0044","#44FF00","#FF4400","#004499","#00FF44","#F8844F","#F8F484","#488F4F","#484FF8","#8F484F","#00FF00","#F4488F","#F48F84","#8F844F","#336688","#F0B666","#D96547","#2277DD","#886633"]};function $e(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var et=Math.floor;function tt(e,t){this.id=e,this.color=t,this.neighbour=[],this.selected=!1}function st(e,t,s){this.row=e,this.col=t,this.backgroundColor=s||"#FFFFFF",this.location=null}function nt(e,t,s,n,r){n=n||{},this.canvas=e,this.ctx=e.getContext("2d"),this.width=et(t),this.height=et(s),this.setModalLocationId=r;var i=n.padding;if("undefined"===typeof i&&(i=0),this.padding="number"===typeof i?{top:i,right:i,bottom:i,left:i}:i,this.cellSize=50,this.cellSpacing=2,this.drawBorder=n.drawBorder,this.borderColor=n.borderColor||"#D3D3D3",this.backgroundColor=n.backgroundColor||"#FFFFFF",n.resizeCanvas){var o=this.padding.left+this.padding.right,a=this.padding.top+this.padding.bottom;o+=this.width*(this.cellSize+this.cellSpacing),a+=this.height*(this.cellSize+this.cellSpacing),this.drawBorder&&(o+=2*this.cellSpacing,a+=2*this.cellSpacing),this.canvas.width=o,this.canvas.height=a}this.nodes=[];for(var l=0;l<this.height;++l){this.nodes[l]=[];for(var c=0;c<this.width;++c)this.nodes[l][c]=new st(l,c,"#FFFFFF")}this.locations=[],this.colorTable=_e.colors,this.isColorTable=new Array(this.colorTable.length).fill(!1),this.countClick=0,this.boolLocWall=!0;var d=this;function u(e,t){return e-=d.padding.left,t-=d.padding.top,d.drawBorder&&(e-=d.cellSpacing,t-=d.cellSpacing),e=et((e-e/d.cellSize*d.cellSpacing)/d.cellSize),t=et((t-t/d.cellSize*d.cellSpacing)/d.cellSize),e>=0&&e<d.width&&t>=0&&t<d.height?d.nodes[t][e]:null}e.addEventListener("mousedown",(function(e){if(d.boolLocWall){if(!d.onclick)return;var t=u(e.offsetX,e.offsetY);t&&($e(d.getStart())?d.countClick=1:d.countClick=0,d.onclick(t))}})),e.addEventListener("mouseup",(function(e){if(d.boolLocWall){if(!d.onclick)return;var t=u(e.offsetX,e.offsetY);if(t&&!$e(d.getStart())){var s=d.getStart();d.countClick>0&&(s.row!==t.row||s.col!==t.col)?(d.countClick=0,d.onclick(t)):d.countClick=2}}})),e.addEventListener("mousemove",(function(e){if(d.boolLocWall&&1===d.countClick){var t=u(e.offsetX,e.offsetY);t&&(d.restoreColorNode(),d.setEndNode(t.row,t.col),d.setZoneColor("#D3D3D3"))}})),e.addEventListener("click",(function(e){if(!d.boolLocWall){var t=u(e.offsetX,e.offsetY);t&&null!==t.location&&d.selectLocation(t)}})),this.draw()}st.prototype={toString:function(){return"<node x="+this.x+" y="+this.y+" location='"+this.location+"'>"}};var rt={},it={};nt.prototype={loadGrid:function(e){for(var t=0;t<e.length;t++){this.locations.push(new tt(e[t].id,e[t].color)),this.checkColor(e[t].color);for(var s=0;s<e[t].adjacency.length;s++)this.locations[t].neighbour.push(e[t].adjacency[s]);for(var n=0;n<e[t].coordinates.length;n++)this.nodes[e[t].coordinates[n].row][e[t].coordinates[n].col].backgroundColor=this.locations[t].color,this.nodes[e[t].coordinates[n].row][e[t].coordinates[n].col].location=this.locations[t].id}this.draw()},getNodes:function(){return this.nodes},setNodes:function(e,t,s,n,r,i,o){for(var a=t;a<s;a++)for(var l=r;l<i;l++)this.nodes[a][l].backgroundColor=e[n+a][o+l].backgroundColor,this.nodes[a][l].location=e[n+a][o+l].location},getStart:function(){return rt},setStartNode:function(e,t){rt.row=e,rt.col=t},setEndNode:function(e,t){it.row=e,it.col=t},resetNode:function(){rt={},it={}},setBackgroundColor:function(e,t,s){this.nodes[e][t].backgroundColor=s},setZoneColor:function(e){for(var t=this.minMax(rt.row,it.row),s=this.minMax(rt.col,it.col),n=t[0];n<=t[1];n++)for(var r=s[0];r<=s[1];r++)this.setBackgroundColor(n,r,e);this.draw()},restoreColorNode:function(){for(var e=0;e<this.height;++e)for(var t=0;t<this.width;++t)if("#D3D3D3"===this.nodes[e][t].backgroundColor||"#808080"===this.nodes[e][t].backgroundColor)if(null===this.nodes[e][t].location)this.setBackgroundColor(e,t,"#FFFFFF");else{var s=this.getIndexLocation(this.nodes[e][t].location);-1!==s&&this.setBackgroundColor(e,t,this.locations[s].color)}this.draw()},setLocation:function(e,t,s){var n=this.nodes[e][t].location;this.nodes[e][t].location=s,null!==n&&this.checkPresentLocation(n)},getNbLocations:function(){return this.locations.length},setZoneLocation:function(e){for(var t=this.minMax(rt.row,it.row),s=this.minMax(rt.col,it.col),n=t[0];n<=t[1];n++)for(var r=s[0];r<=s[1];r++)this.setLocation(n,r,e.id),this.setBackgroundColor(n,r,e.color);this.draw()},getLocations:function(){return this.locations},getLocationsSelected:function(){for(var e=[],t=0;t<this.getNbLocations();t++)this.locations[t].selected&&e.push(this.locations[t]);return e},setLocations:function(e){for(var t=0;t<e.length;t++)this.locations.push(e[t]),this.checkColor(e[t].color)},checkPresentLocation:function(e){for(var t=0,s=0;s<this.height;s++)for(var n=0;n<this.width;n++)this.nodes[s][n].location===e&&t++;if(0===t){var r=this.getIndexLocation(e);-1!==r&&this.deleteLocationInArray(r)}},addLocation:function(e){var t=this.askToColor(e);t&&(t[0]<0&&(this.locations.push(new tt(e,t[1])),t[0]=this.getNbLocations()-1),this.setZoneLocation(this.locations[t[0]]),t[0]=this.getIndexLocation(e),this.addLocationNeighbour(this.locations[t[0]])),this.restoreColorNode(),this.resetNode()},deleteLocation:function(e){for(var t=this.locations[e].id,s=0;s<this.height;s++)for(var n=0;n<this.width;n++)this.nodes[s][n].location===t&&(this.setBackgroundColor(s,n,"#FFFFFF"),this.setLocation(s,n,null));this.draw()},deleteLocationInArray:function(e){if(void 0!==this.locations[e]){for(var t=0;t<this.colorTable.length;t++)this.colorTable[t]===this.locations[e].color&&(this.isColorTable[t]=!1);this.deleteLocationNeighbour(this.locations[e]);for(var s=e;s<this.locations.length-1;s++)this.locations[s]=this.locations[s+1];this.locations.pop()}},deleteLocations:function(){for(var e=0;e<this.height;e++)for(var t=0;t<this.width;t++)this.setBackgroundColor(e,t,"#FFFFFF"),this.setLocation(e,t,null);this.draw(),this.resetBackgroundColor(),this.resetNode(),this.locations=[]},getIndexLocation:function(e){for(var t=0;t<this.getNbLocations();t++)if(this.locations[t].id===e)return t;return-1},checkNeighbour:function(e,t){for(var s=0;s<this.height;s++)for(var n=0;n<this.width;n++)if(this.nodes[s][n].location===e.id){if(s-1>=0&&this.nodes[s-1][n].location===t.id)return!0;if(n-1>=0&&this.nodes[s][n-1].location===t.id)return!0;if(s+1<this.height&&this.nodes[s+1][n].location===t.id)return!0;if(n+1<this.width&&this.nodes[s][n+1].location===t.id)return!0}return!1},isNeighbour:function(e,t){for(var s=0;s<e.neighbour.length;s++)if(e.neighbour[s]===t)return!0;return!1},addLocationNeighbour:function(e){for(var t=0;t<this.height;t++)for(var s=0;s<this.width;s++)this.nodes[t][s].location===e.id&&(t-1>=0&&this.nodes[t-1][s].location!==e.id&&null!==this.nodes[t-1][s].location&&(this.isNeighbour(e,this.nodes[t-1][s].location)||(e.neighbour.push(this.nodes[t-1][s].location),this.locations[this.getIndexLocation(this.nodes[t-1][s].location)].neighbour.push(e.id))),s-1>=0&&this.nodes[t][s-1].location!==e.id&&null!==this.nodes[t][s-1].location&&(this.isNeighbour(e,this.nodes[t][s-1].location)||(e.neighbour.push(this.nodes[t][s-1].location),this.locations[this.getIndexLocation(this.nodes[t][s-1].location)].neighbour.push(e.id))),t+1<this.height&&this.nodes[t+1][s].location!==e.id&&null!==this.nodes[t+1][s].location&&(this.isNeighbour(e,this.nodes[t+1][s].location)||(e.neighbour.push(this.nodes[t+1][s].location),this.locations[this.getIndexLocation(this.nodes[t+1][s].location)].neighbour.push(e.id))),s+1<this.width&&this.nodes[t][s+1].location!==e.id&&null!==this.nodes[t][s+1].location&&(this.isNeighbour(e,this.nodes[t][s+1].location)||(e.neighbour.push(this.nodes[t][s+1].location),this.locations[this.getIndexLocation(this.nodes[t][s+1].location)].neighbour.push(e.id))))},deleteNeighbour:function(e,t){for(var s=!1,n=0;n<e.neighbour.length;n++)e.neighbour[n]===t.id&&(s=!0),s&&(e.neighbour[n]=e.neighbour[n+1]);e.neighbour.pop()},deleteLocationNeighbour:function(e){for(var t=0;t<e.neighbour.length;t++){for(var s=!1,n=this.locations[this.getIndexLocation(e.neighbour[t])],r=0;r<n.neighbour.length-1;r++)n.neighbour[r]===e.id&&(s=!0),s&&(n.neighbour[r]=n.neighbour[r+1]);n.neighbour.pop()}},resetBackgroundColor:function(){for(var e=0;e<this.isColorTable.length;e++)this.isColorTable[e]=!1},checkColor:function(e){for(var t=0;t<this.colorTable.length;t++)this.colorTable[t]===e&&(this.isColorTable[t]=!0)},chooseBackgroundColor:function(){for(var e=0;e<this.isColorTable.length;e++)if(!1===this.isColorTable[e])return this.isColorTable[e]=!0,this.colorTable[e];return!1},checkSameNeighbour:function(e){for(var t=this.minMax(rt.row,it.row),s=this.minMax(rt.col,it.col),n=t[0];n<=t[1];n++)for(var r=s[0];r<=s[1];r++){if(this.nodes[n][r].location===e)return!0;if(n-1>=0&&this.nodes[n-1][r].location===e)return!0;if(r-1>=0&&this.nodes[n][r-1].location===e)return!0;if(n+1<this.height&&this.nodes[n+1][r].location===e)return!0;if(r+1<this.width&&this.nodes[n][r+1].location===e)return!0}return!1},askToColor:function(e){if(null===e||""===e)return this.restoreColorNode(),this.resetNode(),!1;for(var t,s=-1,n=0;n<this.getNbLocations();n++)this.locations[n].id===e&&(s=this.checkSameNeighbour(e)?n:-2);if(-1===s)t=this.chooseBackgroundColor();else{if(!(s>=0))return!1;t=this.locations[s].color}return[s,t]},minMax:function(e,t){var s,n,r=[];return e<t?(s=e,n=t):(s=t,n=e),r.push(s),r.push(n),r},onclick:function(e){$e(this.getStart())?(this.setStartNode(e.row,e.col),this.setBackgroundColor(e.row,e.col,"#D3D3D3"),this.draw()):(this.setEndNode(e.row,e.col),this.setZoneColor("#808080"),this.setModalLocationId(!0))},triggerWall:function(){this.restoreColorNode(),this.resetNode(),this.boolLocWall=!this.boolLocWall,this.draw()},selectLocation:function(e){var t=this.getIndexLocation(e.location);this.locations[t].selected=!this.locations[t].selected;var s=this.getLocationsSelected();s.length>1&&(this.checkNeighbour(s[0],s[1])&&(this.isNeighbour(s[0],s[1].id)?(this.deleteNeighbour(s[0],s[1]),this.deleteNeighbour(s[1],s[0])):(s[0].neighbour.push(s[1].id),s[1].neighbour.push(s[0].id))),s[0].selected=!s[0].selected,s[1].selected=!s[1].selected,this.boolLocWall=!this.boolLocWall),this.draw()},clearMsgMode:function(){this.boolLocWall=1},draw:function(){var e=this.ctx,t=this.cellSize,s=this.cellSpacing,n=this.drawBorder?this.cellSpacing:-this.cellSpacing,r=this.drawBorder?this.cellSpacing:0;e.clearRect(0,0,this.canvas.width,this.canvas.height),e.save(),e.fillStyle=this.borderColor,e.fillRect(this.padding.left,this.padding.top,(t+s)*this.width+n,(t+s)*this.height+n);for(var i=this.padding.top+r,o=0;o<this.height;++o){for(var a=this.padding.left+r,l=0;l<this.width;++l)e.filter="brightness(100%)",e.fillStyle=this.nodes[o][l].backgroundColor||this.backgroundColor,"#ffffff"!==e.fillStyle&&(null!==this.nodes[o][l].location&&(this.locations[this.getIndexLocation(this.nodes[o][l].location)].selected&&(e.filter="brightness(50%)"),this.drawWall(e,a,i,t,s,o,l)),this.drawBorderLocation(e,a,i,t,s,o,l)),this.drawNode(e,a,i,t),a+=t+s;i+=t+s}for(var c=0;c<this.getNbLocations();c++){for(var d=[],u=[-1,-1,-1],h=0;h<this.height;++h)for(var b=0;b<this.width;++b)this.nodes[h][b].location===this.locations[c].id&&(d=this.getAreaFromACell(h,b))[2]>u[2]&&(u=d);e.font="30px Arial",e.textBaseline="middle",e.textAlign="center",e.fillStyle="#000000";var f=s+this.padding.left,g=s+this.padding.top;f+=u[1]*(s+t),g+=u[0]*(s+t),f+=u[3]*(s+t)/2,g+=u[4]*(s+t)/2,e.fillText(this.locations[c].id,f,g)}if(1!==this.boolLocWall){var m=s+this.padding.left,p=s+this.padding.top;m+=this.width*(s+t)/2,p+=this.height*(s+t)+10,e.font="20px Arial",e.textBaseline="middle",e.textAlign="center",e.fillStyle="#000000",this.boolLocWall?e.fillText("Location mode",m,p):e.fillText("Wall mode",m,p),e.font="12px Arial",this.boolLocWall?(e.fillText("Click on a first cell, then click on",m,p+17),e.fillText("the opposite corner of the location you want.",m,p+29),e.fillText("You can also drag and drop",m,p+42)):(e.fillText("Click on a first location, then click on the second location.",m,p+17),e.fillText("A wall will appear",m,p+32))}},drawNode:function(e,t,s,n){e.fillRect(t,s,n,n)},drawBorderLocation:function(e,t,s,n,r,i,o){var a=0;i-1>=0&&this.nodes[i-1][o].backgroundColor===e.fillStyle.toUpperCase()&&(e.fillRect(t,s-r,n,r),a++),o-1>=0&&this.nodes[i][o-1].backgroundColor===e.fillStyle.toUpperCase()&&(e.fillRect(t-r,s,r,n),a++),2===a&&this.nodes[i-1][o-1].backgroundColor===e.fillStyle.toUpperCase()&&e.fillRect(t-r,s-r,r,r),a=0},drawWall:function(e,t,s,n,r,i,o){var a;e.fillStyle="#000000";var l=0;i-1>=0&&null!==this.nodes[i-1][o].location&&(this.nodes[i][o].location!==this.nodes[i-1][o].location?(a=this.locations[this.getIndexLocation(this.nodes[i][o].location)],this.isNeighbour(a,this.nodes[i-1][o].location)||(e.fillRect(t,s-r-r/2,n,r+r/2),l++)):l++),o-1>=0&&null!==this.nodes[i][o-1].location&&(this.nodes[i][o].location!==this.nodes[i][o-1].location?(a=this.locations[this.getIndexLocation(this.nodes[i][o].location)],this.isNeighbour(a,this.nodes[i][o-1].location)||(e.fillRect(t-r-r/2,s,r+r/2,n),l++)):l++),2===l&&null!==this.nodes[i-1][o-1].location&&this.nodes[i][o].location!==this.nodes[i-1][o-1].location&&(a=this.locations[this.getIndexLocation(this.nodes[i][o].location)],this.isNeighbour(a,this.nodes[i-1][o-1].location)||e.fillRect(t-r-r/2,s-r-r/2,r+r/2,r+r/2)),l=0,e.fillStyle=this.nodes[i][o].backgroundColor},getAreaFromACell:function(e,t){for(var s=this.width,n=-1,r=-1,i=-1,o=e;o<this.height;o++)if(this.nodes[e][t].location===this.nodes[o][t].location)for(var a=t;a<s;a++)this.nodes[o][t].location===this.nodes[o][a].location?n<(o-e+1)*(a-t+1)&&(n=(o-e+1)*(a-t+1),r=o-e+1,i=a-t+1):(s=a,a=this.width);else o=this.height;return[e,t,n,i,r]}};var ot=nt,at=s.p+"static/media/robot1.39e2b3fc.png",lt=s(255),ct=function(e){Object(M.a)(s,e);var t=Object(P.a)(s);function s(e){var n;return Object(E.a)(this,s),(n=t.call(this,e)).state={started:!1,table:null,running:!1},n.myCanvas=r.a.createRef(),n.map=[],n.world=null,n.tab=[],n.index=0,n.timer=null,n.x=null,n.y=null,n.robotButton=r.a.createRef(),n}return Object(B.a)(s,[{key:"componentDidUpdate",value:function(e,t,s){null===this.props.world||this.state.started||(this.loadGridworld(),this.generate(),this.setState({started:!0})),this.props.active&&this.drawRobot()}},{key:"loadGridworld",value:function(){var e=this.props.world.environment;this.world=new ot(this.myCanvas.current,e.size.width,e.size.height,{padding:{top:10,left:10,right:10,bottom:10},resizeCanvas:!0,drawBorder:!0},this.setModalLocationId);var t=e.grid.locations;this.world.clearMsgMode(),this.world.loadGrid(t)}},{key:"launchRobot",value:function(){this.timer=setInterval(this.robot,1e3)}},{key:"drawRobot",value:function(){document.getElementsByClassName("line")[this.index].style.background="yellow";var e=new Image;e.src=at;var t=document.getElementById("canvas").getContext("2d");this.x=32*Math.trunc(this.tab[this.index][0]-1)+24,this.y=32*Math.trunc(this.tab[this.index][1]-1)+24,t.drawImage(e,this.x,this.y,50,50)}},{key:"robot",value:function(e){var t=document.getElementsByClassName("line"),s=document.getElementById("canvas").getContext("2d");if(1===this.index&&-1===e&&this.drawPreviousCase(s,1),t[this.index].style.background="transparent",this.index+=e,this.index===this.tab.length)return this.drawPreviousCase(s,1),this.clear(),void(null!==this.timer&&(clearInterval(this.timer),this.timer=null));if(this.index>0)this.drawPreviousCase(s,this.index-1);else if(this.index<0)return void this.clear()}},{key:"run",value:function(){var e=this;this.state.running?(clearInterval(this.timer),this.timer=null,this.setState({running:!1})):(this.timer=setInterval((function(){e.robot(1)}),1e3),this.setState({running:!0}))}},{key:"drawPreviousCase",value:function(e,t){e.fillRect(this.x,this.y,50,50)}},{key:"clear",value:function(){var e=document.getElementsByClassName("line"),t=document.getElementById("canvas").getContext("2d");this.index===this.tab.length?(this.drawPreviousCase(t,this.index-1),e[this.index-1].style.background="transparent"):this.index<0?(this.drawPreviousCase(t,this.index+1),e[this.index+1].style.background="transparent"):(this.drawPreviousCase(t,this.index),e[this.index].style.background="transparent"),this.index=0,this.robot(0)}},{key:"generate",value:function(){var e=this.props.world.environment.grid.locations,t=lt.a,s="<tr> <th>T</th> <th>CONTEXT</th> <th>CONTROLLER</th> <th>INPUTS</th> <th>OUTPUTS</th> </tr>";this.tab=[];for(var n=0;n<t.length;n++){s+="<tr class='line' ><td>"+t[n].t+"</td>",s+="<td>"+t[n].context+"</td>",s+="<td>"+t[n].controller+"</td>",s+="<td>"+t[n].inputs+"</td>",s+="<td>"+t[n].outputs+"</td></tr>";for(var r=t[n].outputs.split(",")[0],i=0;i<e.length;i++)if(e[i].id===r){var o=e[i].coordinates[0].x,a=e[i].coordinates[e[i].coordinates.length-1].x,l=e[i].coordinates[0].y,c=e[i].coordinates[e[i].coordinates.length-1].y;this.tab.push([o+a-1,l+c-1])}}document.getElementById("synthesisTable").innerHTML=s}},{key:"render",value:function(){var e=this;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"flex justify-center",children:Object(g.jsx)("div",{className:"flex justify-center",children:Object(g.jsx)("div",{className:"flex flex-col items-center",children:Object(g.jsxs)("div",{className:"w-full ml-4 flex",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{children:Object(g.jsx)("canvas",{className:"shifted-canvas-margin",ref:this.myCanvas,id:"canvas"})}),Object(g.jsxs)("div",{className:"flex mt-4 justify-end items-center",children:[Object(g.jsxs)("div",{className:"flex h-fit",children:[Object(g.jsx)(j,{color:"amber",className:"text-xl",onClick:function(){return e.clear()},children:"Reset"}),Object(g.jsx)(j,{color:"emerald",onClick:function(){return e.run()},children:Object(g.jsx)("i",{className:"text-xl "+(this.state.running?this.props.info.buttons.pause:this.props.info.buttons.run)})})]}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)(j,{color:"lightBlue",onClick:function(){return e.robot(-1)},children:Object(g.jsx)("i",{className:"text-xl "+this.props.info.buttons.up})}),Object(g.jsx)(j,{color:"red",onClick:function(){return e.robot(1)},children:Object(g.jsx)("i",{className:"text-xl "+this.props.info.buttons.down})})]})]})]}),Object(g.jsx)("div",{children:Object(g.jsx)("table",{id:"synthesisTable",className:"ml-4"})})]})})})})})}}]),s}(r.a.Component),dt={textColor:"text-white",iconColor:"text-orange-300",iconNameBack:"fas fa-chevron-left",iconNameContinue:"fas fa-chevron-right",backText:"Back",continueText:"Continue"};function ut(e){var t,s,n=e.toggleNew,r=e.open,i=e.itemsLength,o=e.type,a=e.noProject;return"back"===o?(t=0===r,s=r-1<0?i-1:r-1):(t=3===r||a,s=r+1>i-1?0:r+1),Object(g.jsx)("a",{href:"#/index",className:(t?"hover:no-underline cursor-default ":"")+dt.textColor+" text-center opacity-85 hover:opacity-100 transition-opacity duration-150 ease-linear w-12 text-xl z-50",onClick:function(e){return n(e,s)},children:Object(g.jsxs)("div",{children:["back"===o&&Object(g.jsx)("i",{className:dt.iconColor+" "+dt.iconNameBack+" mr-2"}),Object(g.jsx)("span",{className:(t?"opacity-40 ":"hover:underline ")+"text-2xl",children:"back"===o?dt.backText:dt.continueText}),"continue"===o&&Object(g.jsx)("i",{className:dt.iconColor+" "+dt.iconNameContinue+" ml-2"})]})})}function ht(e){var t=e.world,s=e.items,n=e.defaultOpened,i=e.id,o=e.setWorld,a=e.setListOfWorldNames,l=r.a.useState(n),u=Object(d.a)(l,2),h=u[0],f=u[1],m=r.a.useState(!1),p=Object(d.a)(m,2),j=p[0],x=p[1],v=r.a.useState(!1),O=Object(d.a)(v,2),w=O[0],y=O[1],N=r.a.useState(null),C=Object(d.a)(N,2),k=C[0],S=C[1],F=r.a.useState(null),I=Object(d.a)(F,2),E=I[0],B=I[1],M=r.a.useState(null),P=Object(d.a)(M,2),W=P[0],R=P[1],D=r.a.useState(!1),V=Object(d.a)(D,2),z=V[0],J=V[1],U=r.a.useState(!1),Y=Object(d.a)(U,2),Q=Y[0],H=Y[1],q=r.a.useState(null),K=Object(d.a)(q,2),X=K[0],Z=K[1],_=r.a.useState(!1),$=Object(d.a)(_,2),ee=$[0],te=$[1],se=r.a.useState(!1),ne=Object(d.a)(se,2),re=ne[0],ie=ne[1],oe=r.a.useState([!0,!1,!1,!1]),ae=Object(d.a)(oe,2),le=ae[0],ce=ae[1];function de(e){S(e),J(!z)}function ue(){te(!ee)}function he(e){ie(e)}function be(e){B(e)}var fe=function(e,t){if(1===h&&2===t&&he(!0),(1!==t||0!==k)&&(0!==h||3!==t)&&(3!==h||0!==t)&&!Q){H(!0);for(var s=0;s<le.length;s++)le[s]=!1;le[t]=!0,ce(le),e.preventDefault(),w||j||(x(!0),setTimeout((function(){f(t)}),500),setTimeout((function(){x(!1),y(!0)}),600),setTimeout((function(){y(!1),H(!1)}),1100))}};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(ke,Object(c.a)(Object(c.a)({},Se),{},{states:le})),Object(g.jsxs)("div",{className:"flex justify-evenly relative top--30 pt-4",children:[Object(g.jsx)("div",{children:Object(g.jsx)(ut,{open:h,toggleNew:fe,itemsLength:s.length,type:"back"})}),Object(g.jsx)(G.Tooltip,{title:"Select an Environment to continue",position:"bottom",arrow:"true",children:Object(g.jsx)("div",{children:Object(g.jsx)(ut,{open:h,toggleNew:fe,itemsLength:s.length,type:"continue",noProject:0===k})})})]}),Object(g.jsxs)("div",{className:"px-4 md:px-6 mx-auto w-full -mt-24",children:[Object(g.jsx)("div",{className:"mt-5 relative pb-32",children:Object(g.jsx)("div",{className:"relative w-full overflow-hidden",children:Object(g.jsx)("div",{children:s.map((function(e,s){return Object(g.jsx)("div",{className:b()("p-6 transform duration-300 transition-all ease-in-out mx-auto",{hidden:s!==h,block:s===h,"opacity-0 scale-95":s===h&&j,"opacity-100 scale-100":s===h&&w}),children:Object(g.jsx)("div",{className:"container mx-auto px-4",children:{world:Object(g.jsx)(Ee,Object(c.a)({id:i,setListOfWorldNames:a,setListOfWorldVariables:Z,projectAdded:z,project:k,setProject:S,setWorld:o},A)),goal:Object(g.jsx)(ye,Object(c.a)(Object(c.a)({id:i},T),{},{project:k,setGoals:be,setPatterns:R,triggerGetGoals:ee,toggleGetTrigger:ue,listOfWorldVariables:X,setProject:function(e){return de(e)},triggerGoalsChecked:re,swapTriggerGoalsChecked:he,contracts:!1})),analysis:Object(g.jsx)(Ze,{id:i,active:le[2],project:k,goals:E,toggleGoalsTrigger:ue,patterns:W},k),synthesis:Object(g.jsx)(ct,Object(c.a)(Object(c.a)({world:t},L),{},{active:le[3]}))}[e.component]})},s)}))})})}),Object(g.jsx)(Ge,Object(c.a)({},Fe))]})]})}ht.defaultProps={defaultOpened:0,items:[]};var bt=s(126),ft=(s(504),s(551)),gt=s(7);s(156);var mt=function(e){var t=C(),s=Object(n.useCallback)((function(t){e.setTrigger(!1),e.displayMessages(t),"success"===t.crometypes&&e.savedDone()}),[e]);return Object(n.useEffect)((function(){if(null!=t)return e.trigger?(t.emit("save-synthesis",{name:e.name,assumptions:e.assumptions,guarantees:e.guarantees,inputs:e.inputs,outputs:e.outputs}),t.on("synthesis-saved",s),function(){return t.off("synthesis-saved")}):void 0}),[t,e,s]),Object(g.jsx)(g.Fragment,{})};var pt=function(e){var t=C(),s=Object(n.useCallback)((function(t){e.setTrigger(!1),"success"===t.crometypes&&e.deletedDone()}),[e]);return Object(n.useEffect)((function(){null!=t&&e.trigger&&(t.emit("delete-synthesis",e.name),t.on("synthesis-deleted",s))}),[t,e,s]),Object(g.jsx)(g.Fragment,{})};var jt=function(e){var t=C(),s=Object(n.useCallback)((function(s){"success"===s.crometypes&&e.setGraph(s.graph),e.displayMessages(s,!0),e.strix?t.off("controller-created-strix"):t.off("controller-created-crome")}),[e,t]);return Object(n.useEffect)((function(){if(null!=t)return e.trigger&&""!==e.name?(e.strix?(t.emit("controller-strix",e.name),t.on("controller-created-strix",s)):(t.emit("controller-crome",e.name),t.on("controller-created-crome",s)),e.setTrigger(!1),function(){return t.off("graph-generated")}):void 0}),[t,e,s]),Object(g.jsx)(g.Fragment,{})},xt=s(169);var vt=function(e){var t=C(),s=Object(n.useCallback)((function(t){e.setTree(t)}),[e]);return Object(n.useEffect)((function(){if(null!=t)return e.trigger?(e.setTrigger(!1),t.emit("get-synthesis"),t.on("receive-synthesis",s),function(){return t.off("graph-generated")}):void 0}),[t,e,s]),Object(g.jsx)(g.Fragment,{})},Ot=s(67);var wt=function(e){var t=C(),s=Object(n.useCallback)((function(t){e.setInputs(t)}),[e]);return Object(n.useEffect)((function(){if(null!=t)return e.trigger?(e.setTrigger(!1),t.emit("get-inputs",{name:e.name,mode:e.mode}),t.on("received-inputs",s),function(){return t.off("received-inputs-other")}):void 0}),[t,e,s]),Object(g.jsx)(g.Fragment,{})};var yt=function(e){var t=C(),s=Object(n.useCallback)((function(s){t.off("mealy-simulated"),e.setLine(s),e.setTriggerGetInput(!0)}),[e,t]);return Object(n.useEffect)((function(){null!=t&&e.trigger&&(e.setTrigger(!1),t.emit("simulate-controller",{name:e.name,mode:e.mode,input:e.input}),t.on("mealy-simulated",s))}),[t,e,s]),Object(g.jsx)(g.Fragment,{})};var Nt=function(e){var t=C(),s=Object(n.useCallback)((function(s){t.off("reset-done"),e.emptyLines(),e.setTriggerGetInput(!0)}),[e,t]);return Object(n.useEffect)((function(){null!=t&&e.trigger&&(e.setTrigger(!1),t.emit("reset-controller",{name:e.name,mode:e.mode}),t.on("reset-done",s))}),[t,e,s]),Object(g.jsx)(g.Fragment,{})};var Ct=function(e){var t=C(),s=Object(n.useCallback)((function(s){t.off("receive-random-simulation-controller");for(var n=0;n<s.length;n++)e.setLine(s[n]);e.setTriggerGetInput(!0)}),[e,t]);return Object(n.useEffect)((function(){null!=t&&e.trigger&&(e.setTrigger(!1),t.emit("random-simulation-controller",{name:e.name,mode:e.mode,iterations:e.number}),t.on("receive-random-simulation-controller",s))}),[t,e,s]),Object(g.jsx)(g.Fragment,{})},kt=function(e){Object(M.a)(s,e);var t=Object(P.a)(s);function s(){var e;Object(E.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={triggerGetInputs:!0,inputs:[],triggerInputClicked:!1,triggerResetClicked:!1,inputClicked:null,inputNumberRandom:25,triggerRandomClicked:!1,lines:[]},e.setTriggerGetInputs=function(t){e.setState({triggerGetInputs:t})},e.setInputs=function(t){e.setState({inputs:t})},e.setTriggerInputClicked=function(t,s){e.setState({triggerInputClicked:t,inputClicked:s})},e.setLine=function(t){var s=e.state.lines;s.push(t),e.setState({lines:s})},e.setTriggerResetClicked=function(t){e.setState({triggerResetClicked:t})},e.emptyLines=function(){e.setState({lines:[]})},e.handleChange=function(t){var s=e.state.inputNumberRandom;t.target.validity.valid&&(s=t.target.value),e.setState({inputNumberRandom:s})},e.setTriggerRandomClicked=function(t){e.setState({triggerRandomClicked:t})},e}return Object(B.a)(s,[{key:"render",value:function(){for(var e=this,t=[],s=function(s){t.push(Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",children:s}),Object(g.jsx)("td",{className:"p-0",children:Object(g.jsx)(j,{size:"sm",color:"gray",outline:!0,fullWidth:!0,onClick:function(){e.setTriggerInputClicked(!0,e.state.inputs[s])},children:e.state.inputs[s]})})]},s))},n=0;n<this.state.inputs.length;n++)s(n);var r=[];if(0!==this.state.lines.length)for(var i=0;i<this.state.lines.length;i++)r.push(Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"row",children:i}),Object(g.jsx)("td",{children:this.state.lines[i][0]}),Object(g.jsx)("td",{children:this.state.lines[i][1]}),Object(g.jsx)("td",{children:this.state.lines[i][2]}),Object(g.jsx)("td",{children:this.state.lines[i][3]})]},i));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(wt,{trigger:this.state.triggerGetInputs,setTrigger:this.setTriggerGetInputs,setInputs:this.setInputs,name:this.props.name,mode:this.props.mode}),Object(g.jsx)(yt,{trigger:this.state.triggerInputClicked,setTrigger:this.setTriggerInputClicked,setTriggerGetInput:this.setTriggerGetInputs,setLine:this.setLine,name:this.props.name,mode:this.props.mode,input:this.state.inputClicked}),Object(g.jsx)(Nt,{trigger:this.state.triggerResetClicked,setTrigger:this.setTriggerResetClicked,setTriggerGetInput:this.setTriggerGetInputs,emptyLines:this.emptyLines,name:this.props.name,mode:this.props.mode}),Object(g.jsx)(Ct,{trigger:this.state.triggerRandomClicked,setTrigger:this.setTriggerRandomClicked,setTriggerGetInput:this.setTriggerGetInputs,setLine:this.setLine,name:this.props.name,mode:this.props.mode,number:this.state.inputNumberRandom}),Object(g.jsxs)("div",{className:"row mt-2",children:[Object(g.jsxs)("div",{className:"col-4 mt-2",children:[Object(g.jsx)("div",{className:"row",children:Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)("span",{className:"text-right inline-block w-16 mr-1",children:Object(g.jsx)("input",{type:"text",className:"w-full",pattern:"[0-9]*",onInput:this.handleChange,value:this.state.inputNumberRandom})}),Object(g.jsx)("span",{className:"text-left inline-block w-auto ml-1",children:Object(g.jsx)(j,{color:"teal",onClick:function(){e.setTriggerRandomClicked(!0)},children:"Random"})})]})}),Object(g.jsx)("div",{className:"row mt-2",children:Object(g.jsx)("div",{className:"col-10 offset-1",children:Object(g.jsxs)("table",{className:"table",children:[Object(g.jsx)("thead",{className:"mb-2",children:Object(g.jsxs)("tr",{className:"text-center",children:[Object(g.jsx)("th",{scope:"col",children:"#"}),Object(g.jsx)("th",{scope:"col",children:"Inputs"})]})}),Object(g.jsx)("tbody",{className:"text-center",children:t})]})})}),Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)(j,{size:"sm",color:"gray",onClick:function(){e.setTriggerResetClicked(!0)},children:"RESET"})})})]}),Object(g.jsx)("div",{className:"col-7",children:Object(g.jsx)("div",{className:"row",children:0!==r.length&&Object(g.jsxs)("table",{className:"table table-hover text-center",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{scope:"col",style:{width:"5%"},children:"#"}),Object(g.jsx)("th",{scope:"col",style:{width:"30%"},children:"Inputs"}),Object(g.jsx)("th",{scope:"col",style:{width:"5%"},children:"S"}),Object(g.jsx)("th",{scope:"col",style:{width:"5%"},children:"S'"}),Object(g.jsx)("th",{scope:"col",style:{width:"55%"},children:"outputs"})]})}),Object(g.jsx)("tbody",{children:r})]})})})]})]})}}]),s}(r.a.Component),St=function(e){Object(M.a)(s,e);var t=Object(P.a)(s);function s(){var e;Object(E.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={nameValue:"",assumptionsValue:"",guaranteesValue:"",inputsValue:"",outputsValue:"",triggerExample:!0,tree:[],isOpen:[],nameToDelete:"",nbFolders:0,nbExampleCreation:0,creationExpanded:!1,triggerSave:!1,triggerDelete:!1,triggerSynthesis:!1,toastLoading:null,clickedButtonStrix:!1,clickedButtonParallel:!1,network:null,graph:null,simulation:!1},e.setAssumptionsValue=function(t){e.setState({assumptionsValue:t})},e.setGuaranteesValue=function(t){e.setState({guaranteesValue:t})},e.setGraph=function(t){e.setState({graph:t})},e.loadFormula=function(){e.setTriggerSave(!0)},e.setTriggerExample=function(t){e.setState({triggerExample:t})},e.setTree=function(t){for(var s,n=[],r=Object.keys(t).sort(),i=0,o=0;o<r.length;o++){(s={}).id=o,s.label=r[o],s.icon="folder-close",s.isExpanded=!1,s.childNodes=[];for(var a=void 0,l=0;l<t[r[o]].length;l++)(a={}).id=o+"_"+l,a.label=t[r[o]][l].id,"Your creation"===r[o]&&i++,a.assumptions=t[r[o]][l].assumptions,a.guarantees=t[r[o]][l].guarantees,a.inputs=t[r[o]][l].inputs,a.outputs=t[r[o]][l].outputs,s.childNodes[l]=a;n[o]=s}e.setState({tree:n,nbFolders:r.length,nbExampleCreation:i,creationExpanded:!1})},e.deleteCreationClick=function(t){e.setState({nameToDelete:e.state.tree[e.state.tree.length-1].childNodes[t].label}),e.setTriggerDelete(!0)},e.setTriggerSave=function(t){e.setState({triggerSave:t})},e.setTriggerDelete=function(t){e.setState({triggerDelete:t})},e.savedDone=function(){var t=Ot.b.loading("Synthesis is working, please wait");e.setState({toastLoading:t}),e.setTriggerExample(!0)},e.deletedDone=function(){e.setTriggerExample(!0)},e.setTriggerSynthesis=function(t){e.setState({triggerSynthesis:t})},e.synthesisStrix=function(){e.setTriggerSave(!0),e.setState({clickedButtonStrix:!0,clickedButtonParallel:!1,triggerSynthesis:!0,graph:null,simulation:null})},e.parallelSynthesis=function(){e.setTriggerSave(!0),e.setState({clickedButtonStrix:!1,clickedButtonParallel:!0,triggerSynthesis:!0,graph:null,simulation:null})},e.clickSimulation=function(){e.setState({simulation:!0})},e.displayMessages=function(t){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(s){var n=e.state.toastLoading;Ot.b.dismiss(n),e.setState({toastLoading:null})}Ot.b[t.crometypes](t.content),e.props.updateMessage(t.content)},e}return Object(B.a)(s,[{key:"setNameValue",value:function(e){this.setState({nameValue:e.target.value})}},{key:"setInputsValue",value:function(e){this.setState({inputsValue:e.target.value})}},{key:"setOutputsValue",value:function(e){this.setState({outputsValue:e.target.value})}},{key:"changeIsOpen",value:function(e){e.isExpanded=!e.isExpanded;var t=this.state.creationExpanded,s=this.state.nbFolders;void 0!==e.id.length?this.setState({nameValue:e.label,assumptionsValue:e.assumptions.join("\n"),guaranteesValue:e.guarantees.join("\n"),inputsValue:e.inputs.join(", "),outputsValue:e.outputs.join(", ")}):"Your creation"!==e.label?e.isExpanded?s+=e.childNodes.length:s-=e.childNodes.length:t=e.isExpanded,this.setState({clickedButtonStrix:!1,clickedButtonParallel:!1,triggerSynthesis:!1,graph:null,simulation:null,nbFolders:s,creationExpanded:t})}},{key:"render",value:function(){for(var e=this,t=[],s=function(s){t.push(Object(g.jsx)("button",{style:{top:30*(e.state.nbFolders+s)+"px",right:"10px",height:"30px",width:"30px"},className:"absolute text-right",onClick:function(){return e.deleteCreationClick(s)},children:Object(g.jsx)("span",{className:"fas fa-trash"})},s))},n=0;n<this.state.nbExampleCreation;n+=1)s(n);var r,i=window.innerWidth,o=[];if(this.state.clickedButtonParallel&&this.state.graph)for(var a=0;a<this.state.graph.length;a+=1)r=this.state.graph[a].slice(0,this.state.graph[a].indexOf("{")+1)+'\n  bgcolor="#F1F5F9"'+this.state.graph[a].slice(this.state.graph[a].indexOf("{")+1),o.push(Object(g.jsx)(xt.a,{dot:r,options:{fit:!0,height:300,width:i/4.2,zoom:!0},className:"p-2 m-3 border-solid border-2 rounded-md flex bg-blueGray-100 border-blueGray-100 wrap-content"},a));var l=[];if(this.state.clickedButtonParallel&&this.state.simulation)for(var c="",d=0;d<this.state.simulation.length;d++)c="simulationTable_"+d,l.push(Object(g.jsx)("table",{id:c,className:"m-4"},d));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(vt,{trigger:this.state.triggerExample,setTrigger:this.setTriggerExample,setTree:this.setTree}),Object(g.jsx)(mt,{trigger:this.state.triggerSave,setTrigger:this.setTriggerSave,savedDone:this.savedDone,displayMessages:this.displayMessages,name:this.state.nameValue,assumptions:this.state.assumptionsValue.split("\n"),guarantees:this.state.guaranteesValue.split("\n"),inputs:this.state.inputsValue.split(","),outputs:this.state.outputsValue.split(",")}),Object(g.jsx)(pt,{trigger:this.state.triggerDelete,setTrigger:this.setTriggerDelete,deletedDone:this.deletedDone,displayMessages:this.displayMessages,name:this.state.nameToDelete}),Object(g.jsx)(jt,{trigger:this.state.triggerSynthesis,setTrigger:this.setTriggerSynthesis,displayMessages:this.displayMessages,name:this.state.nameValue,strix:this.state.clickedButtonStrix,parallel:this.state.clickedButtonParallel,setGraph:this.setGraph}),Object(g.jsx)("div",{className:"relative pt-8 pb-12 bg-emerald-400 ",children:Object(g.jsx)("div",{className:"px-4 md:px-6 mx-auto w-full",children:Object(g.jsx)("div",{children:Object(g.jsx)("div",{className:"flex flex-wrap justify-center",children:Object(g.jsx)("h1",{className:"display-3 title-up text-white font-semibold text-center",children:L.info.texts.synthesis})})})})}),Object(g.jsx)("div",{className:"w-full lg:w-9/12 xl:w-10/12 flex-col mt-5 mx-auto",children:Object(g.jsx)("div",{className:"px-3 pb-3 relative flex flex-col min-w-0 break-words bg-white rounded shadow-md m-auto",children:Object(g.jsx)("div",{className:"flex flex-col justify-center p-5 ",children:Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsxs)("div",{className:"col-8",children:[Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{className:"col-3 mt-2 fs-5 text-right text-blueGray-500 uppercase font-bold",children:L.info.texts.name}),Object(g.jsx)("div",{className:"col-8 relative",children:Object(g.jsx)(W.g,{value:this.state.nameValue,className:"border-blueGray-300 text-base text-blueGray-700 relative bg-white rounded-md outline-none focus:ring focus:ring-lightBlue-500 focus:ring-1 focus:border-lightBlue-500 border border-solid transition duration-200  pl-8 textareaResizeNone w-100",onChange:function(t){return e.setNameValue(t)},style:{fontFamily:'"Fira code", "Fira Mono", monospace'}})})]}),Object(g.jsxs)("div",{className:"row mt-5",children:[Object(g.jsx)("div",{className:"col-3 mt-2 fs-5 text-right text-blueGray-500 uppercase font-bold",children:L.info.texts.assumptions}),Object(g.jsx)("div",{className:"col-8 relative",children:Object(g.jsx)(re,{goalEdit:!1,value:this.state.assumptionsValue,setValue:this.setAssumptionsValue,size:16,inputsValue:this.state.inputsValue,outputsValue:this.state.outputsValue})})]}),Object(g.jsxs)("div",{className:"row mt-5",children:[Object(g.jsx)("div",{className:"col-3 mt-2 fs-5 text-right text-blueGray-500 uppercase font-bold",children:L.info.texts.guarantees}),Object(g.jsx)("div",{className:"col-8 relative",children:Object(g.jsx)(re,{goalEdit:!1,value:this.state.guaranteesValue,setValue:this.setGuaranteesValue,size:16,inputsValue:this.state.inputsValue,outputsValue:this.state.outputsValue})})]}),Object(g.jsxs)("div",{className:"row mt-5",children:[Object(g.jsx)("div",{className:"col-3 mt-2 fs-5 text-right text-blueGray-500 uppercase font-bold",children:L.info.texts.inputs}),Object(g.jsx)("div",{className:"col-8 relative",children:Object(g.jsx)(W.g,{value:this.state.inputsValue,className:"border-blueGray-300 text-base text-blueGray-700 relative bg-white rounded-md outline-none focus:ring focus:ring-lightBlue-500 focus:ring-1 focus:border-lightBlue-500 border border-solid transition duration-200  pl-8 textareaResizeNone w-100",onChange:function(t){return e.setInputsValue(t)},style:{fontFamily:'"Fira code", "Fira Mono", monospace'}})})]}),Object(g.jsxs)("div",{className:"row mt-5",children:[Object(g.jsx)("div",{className:"col-3 mt-2 fs-5 text-right text-blueGray-500 uppercase font-bold",children:L.info.texts.outputs}),Object(g.jsx)("div",{className:"col-8 relative",children:Object(g.jsx)(W.g,{value:this.state.outputsValue,className:"border-blueGray-300 text-base text-blueGray-700 relative bg-white rounded-md outline-none focus:ring focus:ring-lightBlue-500 focus:ring-1 focus:border-lightBlue-500 border border-solid transition duration-200  pl-8 textareaResizeNone w-100",onChange:function(t){return e.setOutputsValue(t)},style:{fontFamily:'"Fira code", "Fira Mono", monospace'}})})]})]}),Object(g.jsxs)("div",{className:"col-4",children:[Object(g.jsx)("div",{className:"row",children:Object(g.jsx)("div",{className:"text-center fs-6 text-blueGray-500 uppercase font-bold",children:L.info.texts.load})}),Object(g.jsxs)("div",{className:"row mt-3 relative",children:[Object(g.jsx)(ft.a,{contents:this.state.tree,className:gt.a.TEXT_SMALL,onNodeClick:function(t){return e.changeIsOpen(t)}}),this.state.creationExpanded&&t]})]})]})})})})}),Object(g.jsx)("div",{className:"w-full lg:w-9/12 xl:w-10/12 flex-col mt-12 mx-auto",children:Object(g.jsx)("div",{className:"px-3 relative flex flex-col min-w-0 m-auto",children:Object(g.jsx)("div",{className:"flex flex-col justify-center p-5 ",children:Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"row",children:[Object(g.jsx)("div",{id:"buttons",className:"col-3 offset-2",children:Object(g.jsx)(bt.Link,{to:"synthesis",spy:!0,smooth:!0,children:Object(g.jsx)(j,{id:"buttonSynthesisStrix",color:L.info.buttons.synthesis.color,size:"lg",outline:this.state.clickedButtonStrix,fullWidth:!0,onClick:this.synthesisStrix,children:L.info.buttons.synthesis.strix})})}),Object(g.jsx)("div",{className:"col-3 offset-2",children:Object(g.jsx)(bt.Link,{to:"synthesis",spy:!0,smooth:!0,children:Object(g.jsx)(j,{id:"buttonParallelSynthesis",color:L.info.buttons.synthesis.color,size:"lg",outline:this.state.clickedButtonParallel,fullWidth:!0,onClick:this.parallelSynthesis,children:L.info.buttons.synthesis.parallel})})})]})})})})}),Object(g.jsx)("div",{id:"synthesis",className:"w-full lg:w-9/12 xl:w-10/12 flex-col mt-5 mx-auto pb-5",children:this.state.graph?Object(g.jsxs)("div",{className:"px-3 pb-5 relative flex flex-col min-w-0 break-words bg-white rounded shadow-md m-auto",children:[Object(g.jsx)("div",{className:"w-full border-b-1",children:Object(g.jsx)("div",{className:"fs-4 m-2 text-center",children:this.state.clickedButtonStrix?L.info.buttons.synthesis.strix:L.info.buttons.synthesis.parallel})}),Object(g.jsxs)("div",{className:"row h-auto",children:[Object(g.jsx)("div",{className:"m-auto",children:this.state.clickedButtonStrix?Object(g.jsx)(xt.a,{dot:this.state.graph,options:{fit:!0,height:400,width:i/1.2,zoom:!0},className:"p-4 flex wrap-content justify-center"}):Object(g.jsx)("div",{className:"flex flex-wrap p-4 justify-center",children:o})}),Object(g.jsx)("div",{className:"row offset-1 text-center py-2 m-auto",children:Object(g.jsx)(bt.Link,{to:"simulation",spy:!0,smooth:!0,children:Object(g.jsx)(j,{id:"simulationButton",size:"lg",onClick:this.clickSimulation,children:"simulation"})})})]})]}):null}),Object(g.jsx)("div",{id:"simulation",className:"w-full lg:w-9/12 xl:w-10/12 flex-col mt-5 mx-auto pb-5",children:this.state.simulation?Object(g.jsxs)("div",{className:"px-3 pb-5 relative flex flex-col min-w-0 break-words bg-white rounded shadow-md m-auto",children:[Object(g.jsx)("div",{className:"w-full border-b-1",children:Object(g.jsx)("div",{className:"fs-4 m-2 text-center",children:"Simulation"})}),Object(g.jsx)("div",{className:"row h-auto mt-4",children:this.state.clickedButtonStrix?Object(g.jsx)(kt,{name:this.state.nameValue,mode:"strix"}):Object(g.jsx)("div",{className:"flex flex-wrap justify-center",children:"Work in progress"})})]}):null})]})}}]),s}(r.a.Component),Gt={color:"lightBlue",cards:[{statTitle:"conjunction",statIconName:"fas fa-solid fa-plus",statIconColor:"bg-orange-500"},{statTitle:"composition",statIconName:"fas fa-solid fa-down-left-and-up-right-to-center",statIconColor:"bg-pink-500"},{statTitle:"refinement",statIconName:"fas fa-solid fa-arrow-down-short-wide",statIconColor:"bg-lightBlue-500"},{statTitle:"quotient",statIconName:"fas fa-solid fa-divide",statIconColor:"bg-red-500"},{statTitle:"merging",statIconName:"fas fa-solid fa-code-merge",statIconColor:"bg-teal-500"},{statTitle:"separation",statIconName:"fas fa-solid fa-arrows-left-right-to-line",statIconColor:"bg-indigo-700"}]},Ft={info:{texts:{description:"description",goals:"goals"}},operations:[{title:"conjunction",description:"Combine viewpoints that don't have to be satisfied simultaneously"},{title:"composition",description:"Obtain system\u2019s spec from components\u2019 spec"},{title:"refinement",description:"Ordering among two contracts"},{title:"quotient",description:"Find the \u2018missing part\u2019"},{title:"merging",description:"Combine different viewpoints that must be satisfied simultaneously"},{title:"separation",description:"Fix the contract such that it can be refined"}]};var It=function(e){var t=C(),s=Object(n.useCallback)((function(t){e.worlds(t)}),[e]);return Object(n.useEffect)((function(){if(null!=t)return e.trigger?(e.setTrigger(!1),t.emit("get-contracts-project"),t.on("receive-contracts-projects",s),function(){return t.off("receive-contracts-project")}):void 0}),[t,s,e]),Object(g.jsx)(g.Fragment,{})};var Tt=function(e){var t=C(),s=Object(n.useCallback)((function(s){return e.setGoalsTrigger(s),function(){return t.off("received-process-goals-contracts")}}),[t,e]);return Object(n.useEffect)((function(){null!=t&&e.trigger&&(e.setTrigger(!1),t.emit("process-goals-contracts",e.project),t.on("received-process-goals-contracts",s))}),[t,e,s]),Object(g.jsx)(g.Fragment,{})},At=function(e){Object(M.a)(s,e);var t=Object(P.a)(s);function s(){return Object(E.a)(this,s),t.apply(this,arguments)}return Object(B.a)(s,[{key:"render",value:function(){for(var e=[],t=0;t<Ft.operations.length;t++)e.push(Object(g.jsxs)("tr",{children:[Object(g.jsxs)("th",{className:"uppercase whitespace-nowrap align-text-top ",children:[Ft.operations[t].title," :"]}),Object(g.jsx)("td",{className:"p-1 align-text-top",children:Ft.operations[t].description})]}));return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"flex-col px-3 pb-5 mx-3 relative min-w-0 break-words bg-white rounded shadow-md w-full overflow-scroll",children:[Object(g.jsx)("div",{className:" flex m-3 fs-5 text-blueGray-500 uppercase font-bold justify-center ",children:Ft.info.texts.description}),Object(g.jsx)("div",{className:" text-blueGray-500 ",children:Object(g.jsx)("table",{className:"flex-col text-base ",children:e})})]})})}}]),s}(r.a.Component),Lt=function(e){Object(M.a)(s,e);var t=Object(P.a)(s);function s(){var e;Object(E.a)(this,s);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={id:"contracts",worlds:[],headerNames:["conjunction","composition","refinement","quotient","merging","separation"],headerStates:[!0,!1,!1,!1,!1,!1],activeHeaderIndex:0,project:"conjunction",listOfWorldVariables:[[],[],[],[]],triggerGetContract:!0,triggerCGG:!1,goals:[],cgg:!1,cggTab:null,projectAdded:!1,setTriggerGoals:!1,uploadConfirmation:!1,patterns:[],nodeLabel:"",modalGoal:!1,modalNode:!1,currentGoalIndex:0,nodeChildren:"",nodeParent:""},e.setCurrentGoalIndex=function(t){e.setState({currentGoalIndex:t})},e.setNodeChildren=function(t){e.setState({nodeChildren:t})},e.setNodeParent=function(t){e.setState({nodeParent:t})},e.setModalNode=function(t){e.setState({modalNode:t})},e.setTriggerGetContract=function(t){e.setState({triggerGetContract:t})},e.setTriggerCGG=function(t){e.setState({triggerCGG:t})},e.setGoalsTrigger=function(t){e.setState({cggTab:t,triggerCGG:!1,cgg:!0})},e.setModalGoal=function(t){e.setState({modalGoal:t})},e.setNodeLabel=function(t){e.setState({nodeLabel:t})},e.onSelectCustomHeader=function(t,s){if(!e.state.headerStates[t]&&s){var n=Array(e.state.headerStates.length).fill(!1);n[t]=!0,e.setState({headerStates:n,activeHeaderIndex:t,project:e.state.headerNames[t]}),e.displayWorldGoal(t)}},e.setUploadConfirmation=function(t){e.setState({uploadConfirmation:t})},e.settingGoals=function(t){e.setState({goals:t,triggerCGG:!0})},e.toggleGetTrigger=function(){e.setState({setTriggerGoals:!e.setTriggerGoals})},e.setPatterns=function(){e.setState({patterns:e.patterns})},e.displayWorldGoal=function(t){e.setState({listOfWorldVariables:e.getListOfWorldVariables(e.state.worlds[t])})},e.getWorlds=function(t){for(var s=[],n=0;n<t.length;n++)for(var r=0;r<t[n].length;r++)"environment"===t[n][r].title&&s.push(JSON.parse(t[n][r].content));e.setState({worlds:s}),e.displayWorldGoal(e.state.activeHeaderIndex)},e.addCombinedGoal=function(t){for(var s=0,n=0;n<e.state.cggTab.nodes.length;n++){for(var r=0;r<t.length;r++)t[r].id===e.state.cggTab.nodes[n].id&&(s=1);0===s&&t.push({id:e.state.cggTab.nodes[n].id,label:"goal"+n}),s=0}},e.addEdges=function(t){for(var s=0;s<e.state.cggTab.edges.length;s++)t.push({from:e.state.cggTab.edges[s].from,to:e.state.cggTab.edges[s].to,arrows:{to:{type:Me.symbols[e.state.cggTab.edges[s].link.toLowerCase()]}}})},e.addGoalAlreadyHere=function(t){for(var s=0;s<e.state.goals.length;s++)t.push({id:e.state.goals[s].id,label:e.state.goals[s].name}),t[t.length-1].group=e.state.goals[s].hasOwnProperty("group")?e.state.goals[s].group:"input"},e}return Object(B.a)(s,[{key:"getListOfWorldVariables",value:function(e){for(var t=[[],[],[],[]],s=0;s<e.grid.locations.length;s++)t[0].push(e.grid.locations[s].id);for(var n=0;n<e.actions.length;n++)t[1].push(e.actions[n].name);for(var r=0;r<e.sensors.length;r++)t[2].push(e.sensors[r].name);for(var i=0;i<e.context.length;i++)t[3].push(e.context[i].name);return t}},{key:"addProjectFromGoalModeling",value:function(e){}},{key:"render",value:function(){var e=this,t=[],s=[];this.state.cgg&&(this.addGoalAlreadyHere(t),this.addCombinedGoal(t),this.addEdges(s));var n={nodes:t,edges:s};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(Tt,{session:this.state.id,project:this.state.project,trigger:this.state.triggerCGG,setTrigger:this.setTriggerCGG,setGoalsTrigger:this.setGoalsTrigger}),Object(g.jsx)(It,{trigger:this.state.triggerGetContract,setTrigger:this.setTriggerGetContract,worlds:this.getWorlds}),Object(g.jsx)(ke,Object(c.a)(Object(c.a)({},Gt),{},{color:"purple",states:this.state.headerStates,clickable:!0,onSelectCustomHeader:this.onSelectCustomHeader})),Object(g.jsxs)("div",{className:"pb-12",children:[Object(g.jsxs)("div",{className:"flex justify-center my-3 mx-60",children:[Object(g.jsxs)("div",{className:"px-3 pb-5 mx-3 relative flex flex-col min-w-0 justify-center break-words bg-white rounded shadow-md w-full",children:[Object(g.jsx)("div",{className:" mt-2 fs-5 text-center text-blueGray-500 uppercase font-bold",children:Ft.info.texts.goals}),this.state.cgg&&this.state.goals&&Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{className:"relative flex flex-auto mt-4 m-auto",children:Object(g.jsx)("div",{className:"mx-4 w-100",children:Object(g.jsx)(ze,{active:!0,graph:n,size:"350px",goals:this.state.goals,nodesArray:t,edgesArray:s,patterns:this.state.patterns})})})})]}),Object(g.jsx)(At,{})]}),Object(g.jsx)("div",{className:"mx-64 mb-12 p-4 bg-white rounded shadow-md",children:Object(g.jsx)(ye,Object(c.a)(Object(c.a)({},T),{},{id:this.state.id,project:this.state.project,setGoals:this.settingGoals,setPatterns:this.setPatterns,listOfWorldVariables:this.state.listOfWorldVariables,setProject:function(t){return e.addProjectFromGoalModeling(t)},toggleGetTrigger:this.toggleGetTrigger,contracts:!0}))})]})]})}}]),s}(r.a.Component),Et={brand:{text:"CROME",image:s(530).default,link:{href:"#/index"}},activeColor:"lightBlue",items:[{divider:!0},{titleCrome:"CROME"},{icon:"fas fa-tv",text:"Run CROME",link:{href:"#/index"}},{titleContracts:"SYNTHESIS"},{icon:"fas fa-tv",text:"Run SYNTHESIS",link:{href:"#/synthesis"}},{titleSynthesis:"CONTRACTS"},{icon:"fas fa-tv",text:"Run CONTRACTS",link:{href:"#/contracts"}}]},Bt={defaultOpened:0,items:[{component:"world"},{component:"goal"},{component:"analysis"},{component:"synthesis"}]};function Mt(e,t){var s="CROME-"+e,r=Object(n.useState)((function(){var n=localStorage.getItem(s);if("undefined"===n){var r=Object(v.v4)();return localStorage.setItem(e,JSON.stringify(r)),r}return null!=n?JSON.parse(n):"function"===typeof t?t():t})),i=Object(d.a)(r,2),o=i[0],a=i[1];return Object(n.useEffect)((function(){localStorage.setItem(s,JSON.stringify(o))}),[s,o]),[o,a]}var Pt=s(32),Wt=s(259);function Rt(e){var t=Object(n.createRef)(),s=Object(n.createRef)(),r=C(),i=Object(Wt.a)({type:"image/jpeg",quality:1}),o=Object(d.a)(i,2),a=(o[0],o[1]);Object(n.useEffect)((function(){null===e.currentRef&&null!==t.current&&e.setRef(t)}),[t]),Object(n.useEffect)((function(){null!==e.project&&c()}),[e.project]);var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.emit("save-image",{image:t.split(",")[1],project:e.project}),e.resetProject(),e.goToIndex()},c=function(){return a(s.current).then(l)};return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("div",{children:Object(g.jsx)("div",{ref:s,children:Object(g.jsx)("canvas",{className:"shifted-canvas-margin",ref:t,id:"canvas"})})})})}var Dt=function(e){return Object(g.jsx)("div",{className:"mx-12 my-3 px-4 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg",children:Object(g.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(g.jsxs)(W.l,{responsive:!0,children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{colSpan:e.colspan,className:"title-up text-center",children:e.title}),e.displayAddButton&&Object(g.jsx)("th",{className:"text-center",children:Object(g.jsx)("div",{children:Object(g.jsx)(j,{size:"sm",color:"lightBlue",onClick:e.addLine,children:Object(g.jsx)("i",{className:"fas fa-plus fa-lg"})})})})]})}),Object(g.jsx)("tbody",{children:e.content})]}),e.displayAddWallButton&&Object(g.jsx)("div",{className:"flex flex-col m-auto pb-2",children:Object(g.jsx)(j,{color:"lightBlue",onClick:e.addWall,children:"Add wall"})})]})})};var Vt=function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)("i",{className:"text-2xl "+e.statIconName,style:{color:e.color}})}),Object(g.jsx)("td",{className:"text-center",children:e.name}),Object(g.jsx)("td",{children:Object(g.jsx)(W.a,{className:"btn-icon float-right",color:"danger",size:"sm",type:"button",onClick:e.onClick,children:Object(g.jsx)("i",{className:e.deleteIconName})})})]})};function zt(e){var t=e.copyright,s=e.links;return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)("footer",{className:"block py-4",children:Object(g.jsxs)("div",{className:"container mx-auto px-4",children:[Object(g.jsx)("hr",{className:"mb-4 border-b-1 border-blueGray-200"}),Object(g.jsxs)("div",{className:"flex flex-wrap items-center md:justify-between justify-center",children:[Object(g.jsx)("div",{className:"w-full md:w-4/12 px-4",children:Object(g.jsxs)("div",{className:"text-center mb-2 md:text-left md:mb-0",children:[t&&t.to&&Object(g.jsx)(a.b,Object(c.a)(Object(c.a)({},t),{},{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left"})),t&&void 0===t.to&&Object(g.jsx)("a",Object(c.a)(Object(c.a)({},t),{},{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left"}))]})}),Object(g.jsx)("div",{className:"w-full md:w-8/12 px-4",children:Object(g.jsx)("ul",{className:"flex flex-wrap list-none md:justify-end  justify-center",children:s.map((function(e,t){return Object(g.jsxs)("li",{children:[e.to&&Object(g.jsx)(a.b,Object(c.a)(Object(c.a)({},e),{},{className:"text-blueGray-700 hover:text-blueGray-900 text-sm font-semibold block py-1 px-3"})),void 0===e.to&&Object(g.jsx)("a",Object(c.a)(Object(c.a)({},e),{},{className:"text-blueGray-700 hover:text-blueGray-900 text-sm font-semibold block py-1 px-3"}))]},t)}))})})]})]})})})}zt.defaultProps={copyright:{},links:[]};var Jt={copyright:{href:"https://www.creative-tim.com/?ref=npr-footeradmin",target:"_blank",children:"Copyright \xa9 "+(new Date).getFullYear()+" Creative Tim"},links:[{href:"https://www.creative-tim.com?ref=npr-footeradmin",target:"_blank",children:"Creative Tim"},{href:"https://www.creative-tim.com/presentation?ref=npr-footeradmin",target:"_blank",children:"About Us"},{href:"https://www.creative-tim.com/blog/?ref=npr-footeradmin",target:"_blank",children:"Blog"},{href:"https://www.creative-tim.com/license?ref=npr-footeradmin",target:"_blank",children:"Licenses"}]},Ut=["label"];function Yt(e){var t=e.label,s=Object(f.a)(e,Ut);return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[Object(g.jsx)("input",Object(c.a)(Object(c.a)({},s),{},{type:"checkbox",className:"form-checkbox appearance-none ml-1 w-5 h-5 ease-linear transition-all duration-150 border border-blueGray-300 rounded checked:bg-blueGray-700 checked:border-blueGray-700 focus:border-blueGray-300"})),t?Object(g.jsx)("span",{className:"ml-2 text-sm font-semibold text-blueGray-500",children:t}):null]})})}Yt.defaultProps={};var Qt=function(e){var t=e.element,s=JSON.parse(JSON.stringify(e.mutexList));return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(g.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(g.jsx)("i",{className:e.info.modal.close})}),Object(g.jsx)("h4",{className:"title title-up",children:e.info.title})]}),Object(g.jsxs)("div",{className:"modal-body justify-content-center",onKeyPress:function(n){"Enter"===n.key&&e.validName(t)&&e.save(t,s)},children:[Object(g.jsx)(X,{type:"text",placeholder:"Name *",autoComplete:"off",name:"name",value:t||"",onChange:function(s){if("name"===s.target.name)t=s.target.value;e.edit(t)},autoFocus:!0}),(e.list.length>1||e.number>0)&&Object(g.jsx)("h4",{className:"title title-up mb-3",children:e.info.modal.mutex}),Object(g.jsx)("div",{className:"flex flex-col mt-1",children:e.list.map((function(t,n){return n!==e.number&&Object(g.jsx)(Yt,{label:t,name:"mutex",checked:s.includes(e.list[n]),onChange:function(){return function(t){s.includes(e.list[t])?s.splice(s.indexOf(e.list[t]),1):s.push(e.list[t]),s.sort(),e.editMutex(s)}(n)}},n)}))})]}),Object(g.jsxs)(W.i,{children:[Object(g.jsx)(W.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText}),Object(g.jsx)(W.a,{color:e.info.modal.saveColor,disabled:!e.validName(t),onClick:function(){return e.save(t,s)},children:e.info.modal.saveText})]})]})};function Ht(e,t){return e.length===t.length&&e.every((function(e,s){return e===t[s]}))}var qt={colors:[["#F8844F","#F8F484","#488F4F","#484FF8","#8F484F","#00FF00","#F4488F","#F48F84","#8F844F","#004499","#00FF44","#336688","#F0B666","#D96547","#2277DD","#886633","#0000FF","#FF0000","#8FF484","#FF00FF","#FFFF00","#00FFFF","#FF8800","#0088FF","#66FFB2","#8800FF","#FF0088","#445588","#660066","#FF0044","#44FF00","#FF4400"],["#0088FF","#66FFB2","#8800FF","#8F484F","#00FF00","#F4488F","#F48F84","#8F844F","#336688","#F0B666","#D96547","#FF0088","#445588","#660066","#FF0044","#44FF00","#FF4400","#004499","#00FF44","#F8844F","#F8F484","#488F4F","#484FF8","#2277DD","#886633","#0000FF","#FF0000","#8FF484","#FF00FF","#FFFF00","#00FFFF","#FF8800"],["#8FF484","#FF00FF","#FFFF00","#00FFFF","#FF8800","#0088FF","#66FFB2","#8800FF","#445588","#660066","#FF0044","#44FF00","#FF4400","#FF0088","#F8844F","#F8F484","#488F4F","#484FF8","#8F484F","#00FF00","#F4488F","#F48F84","#8F844F","#004499","#00FF44","#336688","#F0B666","#D96547","#2277DD","#886633","#0000FF","#FF0000"]]};var Kt=function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)("div",{className:"grid grid-template-2",children:e.colors.map((function(t,s){return Object(g.jsx)(G.Tooltip,{html:Object(g.jsxs)("div",{className:"flex flex-col text-left",children:["Mutex group ",t]}),position:"left",arrow:"true",children:Object(g.jsx)("span",{children:Object(g.jsx)("i",{id:"tooltipMutex"+e.list+"-"+e.number+"-"+s,className:"text-2xl "+e.statIconName,style:{color:qt.colors[e.list][t]}})},s)},s)}))})}),Object(g.jsx)("td",{className:"text-break",children:e.name}),Object(g.jsx)("td",{className:"whitespace-nowrap w-1 pr-0",children:Object(g.jsx)(W.a,{className:"btn-icon mr-1 float-right",color:"info",size:"sm",type:"button",onClick:e.onEdit,children:Object(g.jsx)("i",{className:e.editIconName})})}),Object(g.jsx)("td",{children:Object(g.jsx)(W.a,{className:"btn-icon float-right",color:"danger",size:"sm",type:"button",onClick:e.onDelete,children:Object(g.jsx)("i",{className:e.deleteIconName})})})]})};var Xt=function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(g.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(g.jsx)("i",{className:e.info.modal.close})}),Object(g.jsx)("h4",{className:"title title-up",children:e.info.title})]}),Object(g.jsx)("div",{className:"modal-body justify-content-center",onKeyPress:function(t){"Enter"===t.key&&e.validName(e.element,!0)&&e.save()},children:Object(g.jsx)(X,{type:"text",placeholder:"Name *",autoComplete:"off",name:"name",value:e.element,onChange:function(t){return e.edit(t.target.value)},autoFocus:!0})}),Object(g.jsxs)(W.i,{children:[Object(g.jsx)(W.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText}),Object(g.jsx)(W.a,{color:e.info.modal.saveColor,disabled:!e.validName(e.element,!0),onClick:function(){return e.save()},children:e.info.modal.saveText})]})]})};var Zt=function(e){var t=r.a.useState(JSON.parse(JSON.stringify(e.element))),s=Object(d.a)(t,1)[0];function n(t){switch(t.target.name){case"name":s.name=t.target.value;break;case"description":s.description=t.target.value}e.edit(s)}function i(e,t){if("simple gridworld"===t.toLowerCase())return!0;if(null!=e)for(var s=0;s<e.length;s++)if(e[s].toLowerCase()===t.toLowerCase())return!0;return!1}return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(g.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(g.jsx)("i",{className:e.info.modal.close})}),Object(g.jsx)("h4",{className:"title title-up",children:e.info.title})]}),Object(g.jsxs)("div",{className:"modal-body justify-content-center",onKeyPress:function(t){"Enter"!==t.key||""===s||i(e.listOfNames,s.name)||e.save(s)},children:[Object(g.jsx)(X,{type:"text",placeholder:"Name *",autoComplete:"off",name:"name",value:s.name,onChange:n}),Object(g.jsx)("span",{className:"text-red-500 "+(i(e.listOfNames,s.name)?"ml-2":""),children:i(e.listOfNames,s.name)?"This project name already exists":""}),Object(g.jsx)(X,{type:"textarea",placeholder:"Description",autoComplete:"off",name:"description",value:s.description,onChange:n})]}),Object(g.jsxs)(W.i,{children:[Object(g.jsx)(W.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText}),Object(g.jsx)(W.a,{color:e.info.modal.saveColor,disabled:""===s.name||i(e.listOfNames,s.name),onClick:function(){return e.save(s)},children:e.info.modal.saveText})]})]})},_t=function(e){Object(M.a)(s,e);var t=Object(P.a)(s);function s(e){var n;return Object(E.a)(this,s),(n=t.call(this,e)).state={started:!1,modalClassic:!1,lists:[[],[],[],[]],numChildren:[0,0,0,0],tmpLists:[[],[],[],[]],currentList:0,currentIndex:0,mutexGroups:[[],[],[]],mutexList:[],modalLocationId:!1,currentIdInput:"",myCanvas:null,modalSaving:!1,savingInfos:{name:"",description:""},environmentToBeSaved:null,errorMsg:"",warningPop:!1},n.setRef=function(e){n.setState({myCanvas:e.current})},n.goToIndex=function(){n.inputElement.click()},n.setModalLocationId=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?n.world.setZoneColor("#808080"):(n.setState({currentIdInput:""}),t||(n.world.restoreColorNode(),n.world.resetNode(),n.world.draw())),n.setState({modalLocationId:e})},n.editCurrentIdInput=function(e){n.setState({currentIdInput:e})},n.saveLocation=function(){n.world.addLocation(n.state.currentIdInput),n.setModalLocationId(!1,!0)},n.deleteLocation=function(e){n.world.deleteLocation(e),n.setState({currentIdInput:""})},n.onAddWall=function(){n.world.triggerWall()},n.setModalClassic=function(e){e||n.setState({tmpLists:n.state.lists}),n.setState({modalClassic:e})},n.onAddLine=function(e){var t=JSON.parse(JSON.stringify(n.state.lists));t[e].push(""),n.setState({tmpLists:t},(function(){return n.editLine(e,n.state.numChildren[e])}))},n.editLine=function(e,t){n.setState({currentList:e,currentIndex:t},(function(){return n.setState({mutexList:n.getMutexElements(n.state.tmpLists[e][t])},(function(){return n.setModalClassic(!0)}))}))},n.editCurrentElement=function(e){n.setState((function(t){return{tmpLists:t.tmpLists.map((function(t,s){return s===n.state.currentList?t.map((function(t,s){return s===n.state.currentIndex?e:t})):t}))}}))},n.saveCurrentElement=function(e,t){if(n.state.currentIndex>=n.state.numChildren[n.state.currentList]){var s=n.state.lists,r=n.state.numChildren;s[n.state.currentList].push(e),r[n.state.currentList]++,n.setState({lists:s,numChildren:r})}n.setState((function(t){return{lists:t.lists.map((function(t,s){return s===n.state.currentList?t.map((function(t,s){return s===n.state.currentIndex?(n.deleteEveryMutexOccurrenceOf(t),e):t})):t}))}}),(function(){n.setState({tmpLists:n.state.lists}),n.updateMutexArray(e,t)})),n.setModalClassic(!1)},n.deleteElement=function(e,t){var s=n.state.lists,r=n.state.numChildren;n.deleteEveryMutexOccurrenceOf(n.state.lists[e][t],e),n.componentsList[e].content.splice(t,1),s[e].splice(t,1),r[e]--,n.setState({lists:s,tmpLists:s,numChildren:r,currentList:e},(function(){0!==e&&n.cleanMutexGroups()}))},n.validName=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(""===e)return!1;for(var s=n.state.lists,r=t?1:0,i=t?0:n.state.currentList;r<s.length;r++)for(var o=0;o<s[r].length;o++)if(s[r][o]===e&&(r!==i||o!==n.state.currentIndex))return!1;return!0},n.addAllElements=function(e,t){var s=n.state.lists,r=n.state.mutexGroups;s[t]=[],r[t-1]=[];for(var i=0;i<e.length;i++)if(s[t].push(e[i].name),void 0!==e[i].mutex_group&&Array.isArray(e[i].mutex_group))for(var o=0;o<e[i].mutex_group.length;o++)void 0===r[t-1][e[i].mutex_group[o]]&&(r[t-1][e[i].mutex_group[o]]=[]),r[t-1][e[i].mutex_group[o]].push(e[i].name);var a=n.state.numChildren;a[t]=e.length,n.setState({lists:s,numChildren:a,mutexGroups:r})},n.getMutexElements=function(e){var t=[],s=n.state.mutexGroups[n.state.currentList-1];if(n.state.currentList>0)for(var r=0;r<s.length;r++)if(s[r].includes(e))for(var i=0;i<s[r].length;i++)t.includes(s[r][i])||s[r][i]===e||t.push(s[r][i]);return t},n.setMutexList=function(e){n.setState({mutexList:e})},n.cleanMutexGroups=function(){for(var e=n.state.mutexGroups,t=e[n.state.currentList-1],s=[],r={},i=0;i<t.length;i++){var o=JSON.stringify(t[i]);r[o]||"[]"===o||(s.push(t[i]),r[o]=!0)}s=function(e){var t,s,n,r=[];for(var i in e){for(var o in t=!0,e)i!==o&&e.hasOwnProperty(o)&&e.hasOwnProperty(i)&&(s=e[o],n=e[i],s.join("|").includes(n.join("|"))&&(t=!1));t&&e.hasOwnProperty(i)&&r.push(e[i])}return r}(s),e[n.state.currentList-1]=s,n.setState({mutexGroups:e})},n.updateMutexArray=function(e,t){n.deleteEveryMutexOccurrenceOf(e);for(var s=!0,r=n.state.mutexGroups[n.state.currentList-1],i=0;i<r.length;i++)if(r[i].sort(),Ht(r[i],t)){r[i].push(e),s=!1;break}if(s)if(0===t.length)r.push([e]);else for(var o=0;o<t.length;o++)r.push([e,t[o]]);n.cleanMutexGroups()},n.deleteEveryMutexOccurrenceOf=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=t||n.state.currentList,r=n.state.mutexGroups[s-1],i=0;i<r.length;i++){var o=r[i].indexOf(e);-1!==o&&r[i].splice(o,1)}},n.getEveryIndexOf=function(e,t){for(var s=[],r=n.state.mutexGroups[t-1],i=0;i<r.length;i++)r[i].includes(e)&&r[i].length>1&&s.push(i);return s},n.clearEnvironment=function(){n.world.deleteLocations(),n.setState({lists:[[],[],[],[]],tmpLists:[[],[],[],[]],mutexGroups:[[],[],[]],numChildren:[0,0,0,0]})},n.setModalSaving=function(e){e||(null===n.props.world?n.setState({savingInfos:{name:"",description:""}}):n.setState({savingInfos:n.props.world.info})),n.setState({modalSaving:e})},n.editSavingInfos=function(e){n.setState({savingInfos:e})},n.saveWorld=function(){n.world.clearMsgMode(),n.world.draw(),n.setModalSaving(!1),n.props.saveEnvironment(n.state.savingInfos,n.state.environmentToBeSaved)},n.updateErrorMsg=function(e){""!==e?(n.setState({errorMsg:e,warningPop:!0}),setTimeout((function(){n.setState({warningPop:!1})}),4e3)):n.setState({warningPop:!1})},n.test=r.a.createRef(),n.saveInToJSON=n.saveInToJSON.bind(Object(Pt.a)(n)),n.world=null,n.size=8,n.componentsList=[],n.projectId=null,n}return Object(B.a)(s,[{key:"componentDidUpdate",value:function(e,t,s){null===this.state.myCanvas||this.state.started||(this.starting(),this.setState({started:!0}))}},{key:"starting",value:function(){null!==this.props.world?(this.setState({savingInfos:this.props.world.info}),this.loadGridworld()):this.generateGridworld()}},{key:"loadGridworld",value:function(){var e=this.props.world.environment;this.world=new ot(this.state.myCanvas,e.size.width,e.size.height,{padding:{top:10,left:10,right:10,bottom:60},resizeCanvas:!0,drawBorder:!0},this.setModalLocationId),this.projectId=e.project_id;var t=e.grid.locations;this.world.loadGrid(t);var s=e.actions,n=e.sensors,r=e.context;this.addAllElements(s,1),this.addAllElements(n,2),this.addAllElements(r,3),this.size=e.size.width}},{key:"generateGridworld",value:function(){this.world=new ot(this.state.myCanvas,this.size,this.size,{padding:{top:10,left:10,right:10,bottom:60},resizeCanvas:!0,drawBorder:!0},this.setModalLocationId)}},{key:"modifyGridSize",value:function(e){this.size+=e,this.world.restoreColorNode(),this.world.resetNode();for(var t=this.world.getLocations(),s=this.world.getNodes(),n=0,r=s.length,i=s[0].length,o=0,a=0;a<s.length;a++)for(var l=0;l<s[0].length;l++){var c=s[a][l].backgroundColor;"#FFFFFF"!==c&&(r=this.end(r,a,c,r>=a),i=this.end(i,l,c,i>=l),n=this.end(n,a,c,n<=a),o=this.end(o,l,c,o<=l))}var d=n-r+1,u=o-i+1,h=this.size-d,b=this.size-u;if(h<0||b<0)this.updateErrorMsg(Ae.errorMsg.gridTooSmall),this.size-=e;else{var f=Math.trunc(h/2),g=Math.trunc(b/2),m=f+d,p=g+u,j=r-f,x=i-g;this.world.onclick=null,this.world=new ot(this.state.myCanvas,this.size,this.size,{padding:{top:10,left:10,right:10,bottom:60},resizeCanvas:!0,drawBorder:!0},this.setModalLocationId),this.world.setLocations(t),this.world.setNodes(s,f,m,j,g,p,x),this.world.draw()}}},{key:"end",value:function(e,t,s,n){return!n||e===t&&"black"===s||(e=t),e}},{key:"saveInToJSON",value:function(){var e=this,t={filetype:"environment",project_id:this.projectId};t.size={width:this.size,height:this.size},t.grid={locations:[]};for(var s=this.world.getLocations(),n=0;n<s.length;n++){t.grid.locations.push({coordinates:[],color:s[n].color,id:s[n].id,adjacency:[]});for(var r=0;r<s[n].neighbour.length;r++)t.grid.locations[n].adjacency.push(s[n].neighbour[r])}for(var i=this.world.getNodes(),o=0;o<i.length;o++)for(var a=0;a<i[o].length;a++)if("#FFFFFF"!==i[o][a].backgroundColor&&null!==i[o][a].backgroundColor)for(var l=0;l<s.length;l++)i[o][a].location===s[l].id&&t.grid.locations[l].coordinates.push({row:o,col:a});for(var c=["actions","sensors","context"],d=1;d<this.state.lists.length;d++){t[c[d-1]]=[];for(var u=0;u<this.state.lists[d].length;u++){t[c[d-1]][u]={name:this.state.lists[d][u]};var h=this.getEveryIndexOf(this.state.lists[d][u],d);h.length>0&&(t[c[d-1]][u].mutex_group=h)}}this.setState({environmentToBeSaved:t},(function(){return e.setModalSaving(!0)}))}},{key:"render",value:function(){var e=this;if(this.componentsList=Ae.componentsList,null!==this.world){this.componentsList[0].content=[];for(var t=function(t){var s=e.world.getLocations();e.componentsList[0].content[t]=Object(g.jsx)(Vt,{name:s[t].id,onClick:function(){return e.deleteLocation(t)},color:s[t].color,statIconName:"fas fa-square",deleteIconName:"now-ui-icons ui-1_simple-remove"},t)},s=0;s<this.world.getNbLocations();s+=1)t(s);this.componentsList[0].displayAddWallButton=this.world.getNbLocations()>1}for(var n=function(t){e.componentsList[t].content=[];for(var s=function(s){e.componentsList[t].content[s]=Object(g.jsx)(Kt,{number:(t-1)*e.state.numChildren[t]+s,name:e.state.lists[t][s],list:t-1,onEdit:function(){return e.editLine(t,s)},onDelete:function(){return e.deleteElement(t,s)},colors:e.getEveryIndexOf(e.state.lists[t][s],t),statIconName:"far fa-circle",editIconName:"fas fa-pen",deleteIconName:"now-ui-icons ui-1_simple-remove"},(t-1)*e.state.numChildren[t]+s)},n=0;n<e.state.numChildren[t];n+=1)s(n)},r=1;r<this.state.lists.length;r++)n(r);return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(a.b,{to:"/index",ref:function(t){return e.inputElement=t}}),Object(g.jsx)(ke,Object(c.a)(Object(c.a)({},Se),{},{states:[!0,!1,!1,!1]})),Object(g.jsxs)("div",{className:"px-4 md:px-6 mx-auto w-full -mt-6",children:[Object(g.jsx)("div",{className:"relative",children:Object(g.jsx)("div",{className:"relative w-full overflow-hidden",children:Object(g.jsx)("div",{children:Object(g.jsx)("div",{id:"body",className:"flex justify-center items-center",children:Object(g.jsxs)("div",{className:"flex container px-4 justify-center",children:[Object(g.jsx)("div",{className:"flex justify-center pr-4 mt-5",children:Object(g.jsx)(a.b,{to:"/index",className:"hover-no-underline",children:Object(g.jsxs)(j,{color:Ae.buttons.back.color,outline:!0,children:[Object(g.jsx)("i",{className:Ae.buttons.back.icon+" mr-2"}),Ae.buttons.back.text]})})}),Object(g.jsx)("div",{className:"flex justify-center",children:Object(g.jsxs)("div",{className:"flex flex-col items-center",children:[Object(g.jsx)("div",{className:"w-full flex relative h-10",children:Object(g.jsxs)("div",{className:"absolute right-7/100",children:[Object(g.jsxs)(j,{color:"emerald",onClick:this.saveInToJSON,children:[Object(g.jsx)("i",{className:"mr-2 fas fa-check"}),null===this.projectId?Ae.buttons.save:Ae.buttons.update]}),Object(g.jsxs)(j,{color:"amber",onClick:this.clearEnvironment,children:[Object(g.jsx)("i",{className:"mr-2 fas fa-trash"}),Ae.buttons.clear]})]})}),Object(g.jsx)("div",{children:Object(g.jsx)(Rt,{currentRef:this.state.myCanvas,session:this.props.session,setRef:this.setRef,project:this.props.returnedProjectId,resetProject:this.props.resetProject,goToIndex:this.goToIndex})}),Object(g.jsxs)(W.n,{placement:window.innerWidth>991?"left":"top",target:"canvas",className:"popover-info",isOpen:this.state.warningPop,children:[Object(g.jsx)(W.k,{children:"Warning!"}),Object(g.jsx)(W.j,{children:this.state.errorMsg})]}),Object(g.jsxs)("div",{className:"m-4 px-16 pt-2 pb-2 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg",children:[Object(g.jsx)("span",{className:"font-semibold text-sm mb-1 text-center uppercase text-blueGray-700",children:Ae.gridSize}),Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)(j,{size:"sm",color:"red",onClick:function(){return e.modifyGridSize(-1)},children:Object(g.jsx)("i",{className:"fas fa-minus"})}),Object(g.jsx)(j,{size:"sm",color:"lightBlue",onClick:function(){return e.modifyGridSize(1)},children:Object(g.jsx)("i",{className:"fas fa-plus"})})]})]})]})}),Object(g.jsxs)("div",{className:"w-full lg:w-4/12 xl:w-3/12 flex-col mt-4",children:[Object(g.jsx)(G.Tooltip,{html:Object(g.jsx)("div",{className:"flex flex-col text-left",children:Ae.help.messages.map((function(e,t){return Object(g.jsxs)("div",{className:"mb-2",children:[Object(g.jsx)("h4",{className:"font-bold",children:e.title}),Object(g.jsx)("div",{children:e.content})]},t)}))}),position:"right",arrow:"true",children:Object(g.jsx)("div",{id:"tooltipHelpBuild",className:"mx-12 my-3 px-4 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg",children:Object(g.jsx)("div",{className:"flex flex-col justify-center",children:Object(g.jsxs)("div",{className:"flex justify-center items-center title-up text-center my-2",children:[Ae.help.title,Object(g.jsx)("i",{className:"ml-1 text-lightBlue-700 text-lg fas fa-info-circle"})]})})})}),this.componentsList.map((function(t,s){return Object(g.jsx)(Dt,{displayAddWallButton:!0===t.displayAddWallButton,addWall:function(){return e.onAddWall()},displayAddButton:!0===t.displayAddButton,addLine:function(){return e.onAddLine(s)},content:t.content,colspan:3,title:t.title},s)}))]})]})})})})}),Object(g.jsx)(zt,Object(c.a)({},Jt))]}),Object(g.jsx)(W.h,{isOpen:this.state.modalLocationId,autoFocus:!1,toggle:function(){return e.setModalLocationId(!1)},className:"custom-modal-dialog sm:c-m-w-70",children:Object(g.jsx)(Xt,{element:this.state.currentIdInput,edit:this.editCurrentIdInput,save:this.saveLocation,close:function(){return e.setModalLocationId(!1)},validName:this.validName,info:Ae.modal.inputId})}),Object(g.jsx)(W.h,{isOpen:this.state.modalClassic,autoFocus:!1,toggle:function(){return e.setModalClassic(!1)},className:"custom-modal-dialog sm:c-m-w-70",children:Object(g.jsx)(Qt,{element:this.state.tmpLists[this.state.currentList][this.state.currentIndex],number:this.state.currentIndex,list:this.state.lists[this.state.currentList],mutexList:this.state.mutexList,editMutex:this.setMutexList,edit:this.editCurrentElement,save:this.saveCurrentElement,close:function(){return e.setModalClassic(!1)},validName:this.validName,info:Ae.modal.world})}),Object(g.jsx)(W.h,{isOpen:this.state.modalSaving,toggle:function(){return e.setModalSaving(!1)},className:"custom-modal-dialog sm:c-m-w-70",children:Object(g.jsx)(Zt,{element:this.state.savingInfos,listOfNames:null===this.projectId?this.props.worldNames:this.listOfNames,edit:this.editSavingInfos,save:this.saveWorld,close:function(){return e.setModalSaving(!1)},info:Ae.modal.saving})})]})}}]),s}(r.a.Component),$t=function(e){Object(M.a)(s,e);var t=Object(P.a)(s);function s(e){var n;return Object(E.a)(this,s),(n=t.call(this,e)).state={sidebarShow:"y-translate-100",logoState:"fas fa-chevron-up"},n.customText=e.customText,n.text=e.text,n.consoleRef=r.a.createRef(),n}return Object(B.a)(s,[{key:"componentDidUpdate",value:function(e,t,s){this.consoleRef.current.scrollTop=this.consoleRef.current.scrollHeight}},{key:"render",value:function(){var e=this;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("nav",{className:"block py-4 px-6 bottom-0 w-full bg-blueGray-800 shadow-xl right-0 fixed flex-row flex-nowrap xxl:z-10 z-9999 transition-all duration-300 ease-in-out transform "+this.state.sidebarShow,children:[Object(g.jsx)("button",{className:"flex items-center justify-center cursor-pointer text-blueGray-700 w-10 h-6 border-l-0 border-r border-t border-b border-solid border-blueGray-100 text-xl leading-none focus:outline-none bg-white rounded-r border border-solid border-transparent absolute left-9/10 top--10 z-9998",onClick:function(){"y-translate-100"===e.state.sidebarShow?e.setState({sidebarShow:"y-translate-0",logoState:"fas fa-chevron-down"}):e.setState({sidebarShow:"y-translate-100",logoState:"fas fa-chevron-up"})},children:Object(g.jsx)("i",{className:this.state.logoState})}),Object(g.jsx)("div",{className:"console",children:Object(g.jsx)("textarea",{className:"bg-blueGray-800 no-resize text-white w-full border-0",ref:this.consoleRef,rows:5,readOnly:!0,value:this.props.customText||this.props.text})})]})})}}]),s}(r.a.Component);$t.defaultProps={};var es={text:""};var ts=function(e){var t=C(),s=Object(n.useState)(""),r=Object(d.a)(s,2),i=r[0],o=r[1],a=Object(n.useCallback)((function(e){o(e)}),[o]),l=Object(n.useCallback)((function(e){Ot.b[e.crometypes](e.content)}),[]);return Object(n.useEffect)((function(){if(null!=t)return t.on("send-message",a),function(){t.off("send-message")}}),[t,a,e.session]),Object(n.useEffect)((function(){if(null!=t)return t.on("send-notification",l),function(){t.off("send-message")}}),[t,l,e.session]),Object(n.useEffect)((function(){e.modifyMessage(i)}),[i]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(Ot.a,{})})};function ss(e){var t=Object(l.g)(),s=Mt("id"),n=Object(d.a)(s,2),i=n[0],o=n[1],a=Mt("cookie"),u=Object(d.a)(a,1)[0],h=sessionStorage.tabID?sessionStorage.tabID:sessionStorage.tabID=Math.random(),b=r.a.useState(""),f=Object(d.a)(b,2),m=f[0],p=f[1],j=r.a.useState(null),x=Object(d.a)(j,2),v=x[0],O=x[1],w=r.a.useState(null),y=Object(d.a)(w,2),N=y[0],C=y[1],G=r.a.useState(null),F=Object(d.a)(G,2),T=F[0],A=F[1],L=r.a.useState(null),E=Object(d.a)(L,2),B=E[0],M=E[1],P=r.a.useState(!1),W=Object(d.a)(P,2),R=W[0],D=W[1];function V(e){p(""===m?e:m+"\n"+e)}function z(e){O(e)}function J(e,t){C({info:e,environment:t}),D(!0)}function U(e){A(e)}return r.a.useEffect((function(){window.scrollTo(0,0)}),[t]),Object(g.jsxs)(k,{id:i,cookie:u,tabId:h,children:[Object(g.jsx)(S,{setId:o}),Object(g.jsx)(I,Object(c.a)(Object(c.a)({},Et),{},{currentRoute:"#"+t.pathname,id:i,setId:o,cookie:u,page:e.page})),Object(g.jsx)($t,Object(c.a)(Object(c.a)({},es),{},{customText:m})),Object(g.jsx)(ts,{modifyMessage:function(e){return V(e)},session:i}),Object(g.jsx)(Le,{session:i,world:N,uploadImage:!1,trigger:R,returnProjectId:M,setTrigger:D}),Object(g.jsx)("div",{className:"relative xxl:ml-64 bg-blueGray-100 min-h-screen",children:function(){switch(e.page){case"world":return Object(g.jsx)(_t,{world:v,session:i,worldNames:T,returnedProjectId:B,resetProject:function(){return M(null)},saveEnvironment:J});case"synthesis":return Object(g.jsx)(St,{updateMessage:V});case"contracts":return Object(g.jsx)(Lt,{});default:return Object(g.jsx)(ht,Object(c.a)(Object(c.a)({world:v},Bt),{},{setWorld:z,setListOfWorldNames:U,id:i}))}}()})]})}o.a.render(Object(g.jsx)(a.a,{children:Object(g.jsxs)(l.d,{children:[Object(g.jsx)(l.b,{exact:!0,path:"/:id",render:function(e){return Object(g.jsx)(ss,{page:e.match.params.id})}}),Object(g.jsx)(l.a,{from:"*",to:"/index"})]})}),document.getElementById("root"))},95:function(e,t,s){}},[[531,1,2]]]);
//# sourceMappingURL=main.db9cb5d3.chunk.js.map