/*!

=========================================================
* Notus PRO React - v1.0.0 based on Notus React and Tailwind Stater Kit by Creative Tim
=========================================================

* Product Page: https://www.creative-tim.com/product/notus-pro-react
* Copyright 2021 Creative Tim (https://www.creative-tim.com)

* Tailwind Starter Kit Page: https://www.creative-tim.com/learning-lab/tailwind-starter-kit/presentation

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this["webpackJsonp@notus-pro/react"]=this["webpackJsonp@notus-pro/react"]||[]).push([[0],{162:function(e){e.exports=JSON.parse('{"a":[{"t":0,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"},{"t":1,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"","outputs":"r4"},{"t":2,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"},{"t":3,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"","outputs":"r4"},{"t":4,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"},{"t":5,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r4, greet"},{"t":6,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"","outputs":"r3"},{"t":7,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"","outputs":"r4"},{"t":8,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"},{"t":9,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r4, greet"},{"t":10,"context":"day & !(night)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"},{"t":11,"context":"day & !(night)","controller":"TRANS_r3-r5","inputs":"","outputs":"r5"},{"t":12,"context":"night & !(day)","controller":"SCENARIO_0","inputs":"","outputs":"r1, register"},{"t":13,"context":"day & !(night)","controller":"SCENARIO_0","inputs":"","outputs":"r2"},{"t":14,"context":"day & !(night)","controller":"SCENARIO_0","inputs":"","outputs":"r1"},{"t":15,"context":"day & !(night)","controller":"SCENARIO_0","inputs":"","outputs":"r2"},{"t":16,"context":"day & !(night)","controller":"SCENARIO_0","inputs":"","outputs":"r1"},{"t":17,"context":"day & !(night)","controller":"SCENARIO_0","inputs":"person","outputs":"r2, greet"},{"t":18,"context":"night & !(day)","controller":"TRANS_r2-r3","inputs":"","outputs":"r5"},{"t":19,"context":"night & !(day)","controller":"TRANS_r2-r3","inputs":"","outputs":"r3"},{"t":20,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r4, greet"},{"t":21,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"},{"t":22,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"","outputs":"r4"},{"t":23,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"","outputs":"r3"},{"t":24,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r4, greet"},{"t":25,"context":"night & !(day)","controller":"SCENARIO_1","inputs":"person","outputs":"r3, greet"}]}')},176:function(e,t,r){},177:function(e,t,r){},178:function(e,t,r){},179:function(e,t,r){},180:function(e,t,r){},181:function(e,t,r){},182:function(e,t,r){},198:function(e,t,r){},340:function(e,t,r){"use strict";r.r(t),t.default="data:image/png;base64,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"},342:function(e,t,r){"use strict";r.r(t);var n=r(2),i=r.n(n),a=r(17),l=r.n(a),s=r(14),o=r(12),c=(r(176),r(177),r(178),r(179),r(180),r(38),r(181),r(182),r(4)),d=r(5),u=r(30),h=r(3),b=r.n(h),f=r(7),m=r(0),x=["outline","size","color","children","fullWidth"],p=i.a.forwardRef((function(e,t){var r=e.outline,n=e.size,i=e.color,a=e.children,l=e.fullWidth,s=Object(f.a)(e,x),o="inline-block outline-none focus:outline-none align-middle transition-all duration-150 ease-in-out uppercase border border-solid font-bold last:mr-0 mr-2 ";return o=(o=o+" "+{facebook:"text-white bg-facebook-regular border-facebook-regular active:bg-facebook-active active:border-facebook-active","facebook-outline":"text-facebook-regular border-facebook-regular active:bg-facebook-active active:border-facebook-active active:text-white",twitter:"text-white bg-twitter-regular border-twitter-regular active:bg-twitter-active active:border-twitter-active","twitter-outline":"text-twitter-regular border-twitter-regular active:bg-twitter-active active:border-twitter-active active:text-white",instagram:"text-white bg-instagram-regular border-instagram-regular active:bg-instagram-active active:border-instagram-active","instagram-outline":"text-instagram-regular border-instagram-regular active:bg-instagram-active active:border-instagram-active active:text-white",github:"text-white bg-github-regular border-github-regular active:bg-github-active active:border-github-active","github-outline":"text-github-regular border-github-regular active:bg-github-active active:border-github-active active:text-white",pinterest:"text-white bg-pinterest-regular border-pinterest-regular active:bg-pinterest-active active:border-pinterest-active","pinterest-outline":"text-pinterest-regular border-pinterest-regular active:bg-pinterest-active active:border-pinterest-active active:text-white",youtube:"text-white bg-youtube-regular border-youtube-regular active:bg-youtube-active active:border-youtube-active","youtube-outline":"text-youtube-regular border-youtube-regular active:bg-youtube-active active:border-youtube-active active:text-white",vimeo:"text-white bg-vimeo-regular border-vimeo-regular active:bg-vimeo-active active:border-vimeo-active","vimeo-outline":"text-vimeo-regular border-vimeo-regular active:bg-vimeo-active active:border-vimeo-active active:text-white",slack:"text-white bg-slack-regular border-slack-regular active:bg-slack-active active:border-slack-active","slack-outline":"text-slack-regular border-slack-regular active:bg-slack-active active:border-slack-active active:text-white",dribbble:"text-white bg-dribbble-regular border-dribbble-regular active:bg-dribbble-active active:border-dribbble-active","dribbble-outline":"text-dribbble-regular border-dribbble-regular active:bg-dribbble-active active:border-dribbble-active active:text-white",reddit:"text-white bg-reddit-regular border-reddit-regular active:bg-reddit-active active:border-reddit-active","reddit-outline":"text-reddit-regular border-reddit-regular active:bg-reddit-active active:border-reddit-active active:text-white",tumblr:"text-white bg-tumblr-regular border-tumblr-regular active:bg-tumblr-active active:border-tumblr-active","tumblr-outline":"text-tumblr-regular border-tumblr-regular active:bg-tumblr-active active:border-tumblr-active active:text-white",linkedin:"text-white bg-linkedin-regular border-linkedin-regular active:bg-linkedin-active active:border-linkedin-active","linkedin-outline":"text-linkedin-regular border-linkedin-regular active:bg-linkedin-active active:border-linkedin-active active:text-white",white:"text-blueGray-800 bg-white border-white active:bg-blueGray-100 active:border-blueGray-100","white-outline":"text-white border-white active:bg-blueGray-100 active:border-blueGray-100 active:text-blueGray-800",light:"text-blueGray-800 bg-blueGray-200 border-blueGray-200 active:bg-blueGray-300 active:border-blueGray-300","light-outline":"text-blueGray-200 border-blueGray-200 active:bg-blueGray-300 active:border-blueGray-300 active:text-blueGray-800",dark:"text-white bg-blueGray-800 border-blueGray-800 active:bg-blueGray-900 active:border-blueGray-900","dark-outline":"text-blueGray-800 border-blueGray-800 active:bg-blueGray-900 active:border-blueGray-900 active:text-white",blueGray:"text-white bg-blueGray-500 border-blueGray-500 active:bg-blueGray-600 active:border-blueGray-600","blueGray-outline":"text-blueGray-500 border-blueGray-500 active:bg-blueGray-600 active:border-blueGray-600 active:text-white",red:"text-white bg-red-500 border-red-500 active:bg-red-600 active:border-red-600","red-outline":"text-red-500 border-red-500 active:bg-red-600 active:border-red-600 active:text-white",orange:"text-white bg-orange-500 border-orange-500 active:bg-orange-600 active:border-orange-600","orange-outline":"text-orange-500 border-orange-500 active:bg-orange-600 active:border-orange-600 active:text-white",amber:"text-white bg-amber-500 border-amber-500 active:bg-amber-600 active:border-amber-600","amber-outline":"text-amber-500 border-amber-500 active:bg-amber-600 active:border-amber-600 active:text-white",emerald:"text-white bg-emerald-500 border-emerald-500 active:bg-emerald-600 active:border-emerald-600","emerald-outline":"text-emerald-500 border-emerald-500 active:bg-emerald-600 active:border-emerald-600 active:text-white",teal:"text-white bg-teal-500 border-teal-500 active:bg-teal-600 active:border-teal-600","teal-outline":"text-teal-500 border-teal-500 active:bg-teal-600 active:border-teal-600 active:text-white",lightBlue:"text-white bg-lightBlue-500 border-lightBlue-500 active:bg-lightBlue-600 active:border-lightBlue-600","lightBlue-outline":"text-lightBlue-500 border-lightBlue-500 active:bg-lightBlue-600 active:border-lightBlue-600 active:text-white",indigo:"text-white bg-indigo-500 border-indigo-500 active:bg-indigo-600 active:border-indigo-600","indigo-outline":"text-indigo-500 border-indigo-500 active:bg-indigo-600 active:border-indigo-600 active:text-white",purple:"text-white bg-purple-500 border-purple-500 active:bg-purple-600 active:border-purple-600","purple-outline":"text-purple-500 border-purple-500 active:bg-purple-600 active:border-purple-600 active:text-white",pink:"text-white bg-pink-500 border-pink-500 active:bg-pink-600 active:border-pink-600","pink-outline":"text-pink-500 border-pink-500 active:bg-pink-600 active:border-pink-600 active:text-white"}[i+(r?"-outline":"")])+" "+{sm:"text-xs px-3 py-2 shadow hover:shadow-md rounded-md",regular:"text-sm px-6 py-2 shadow hover:shadow-lg rounded-md",regular2:"w-100 text-sm px-6 py-2 shadow hover:shadow-lg rounded-md",lg:"text-sm px-6 py-3 shadow-md hover:shadow-lg rounded-lg"}[n],l&&(o+=" w-full text-center"),s.hasOwnProperty("href")?Object(m.jsx)("a",Object(c.a)(Object(c.a)({},s),{},{ref:t,className:o,children:a})):Object(m.jsx)("button",Object(c.a)(Object(c.a)({},s),{},{ref:t,className:o,children:a}))}));p.defaultProps={outline:!1,color:"blueGray",fullWidth:!1,size:"regular"};var j=p,g=r(354),v=r(41),O=r(352),w=r(355),y=r(165),C=i.a.createContext();function N(){return Object(n.useContext)(C)}function k(e){var t=e.id,r=e.cookie,i=e.tabId,a=e.children;Object(n.useEffect)((function(){console.log("Connecting merged"),console.log(t);var e=Object(y.a)("http://127.0.0.1:5000",{query:{id:t,cookie:r,tabId:i}});return c(e),function(){return e.close()}}),[t,r,i]);var l=Object(n.useState)(),s=Object(d.a)(l,2),o=s[0],c=s[1];return Object(m.jsx)(C.Provider,{value:o,children:a})}function G(e){var t=e.setId,r=Object(n.useCallback)((function(e){e||t(Object(v.v4)())}),[t]),i=N();return Object(n.useEffect)((function(){null!=i&&i.on("is-connected",r)})),Object(m.jsx)(m.Fragment,{})}var S=r(6);function I(e){var t=e.id,r=e.onIdSubmit,i=(e.cookie,Object(n.useRef)()),a=N(),l=Object(n.useState)(""),s=Object(d.a)(l,2),o=s[0],c=s[1],u=Object(n.useCallback)((function(e){e?r(i.current.value):c("This session doesn't exist or it is being used.")}),[r]);var h=Object(n.useCallback)((function(){r(Object(v.v4)())}),[r]);Object(n.useEffect)((function(){i.current.value=""}),[t]),Object(n.useEffect)((function(){void 0===t&&h()}),[h,t]);var b=Object(n.useState)(!0),f=Object(d.a)(b,2),x=f[0],p=f[1],y=Object(n.useState)("text-lightBlue-700"),C=Object(d.a)(y,2),k=C[0],G=C[1];var I=function(e){x!==e&&p(e),e||(G("text-white"),setTimeout((function(){G("text-lightBlue-700")}),300))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{className:"text-center mt-4",children:"Your Session ID is:"}),void 0!==t&&Object(m.jsx)(O.a,{mode:"out-in",children:Object(m.jsx)(w.a,{classNames:"fade",addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},children:Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{className:"text-center font-semibold hover:text-lightBlue-500 cursor-pointer transition-all duration-300 ease-in-out "+k,onClick:function(){navigator.clipboard.writeText(t).then((function(){return I(!1)}))},id:"idDisplay",onMouseOut:function(){return setTimeout((function(){I(!0)}),500)},children:t.split("-")[0]+"-"+t.split("-")[1]+"..."}),Object(m.jsx)(S.n,{delay:0,placement:"bottom",target:"idDisplay",className:"dark-tooltip",children:Object(m.jsx)("div",{children:x?"Click to Copy ID":"ID Copied!"})})]})},t.split("-")[0]+"-"+t.split("-")[1]+"...")}),Object(m.jsxs)(g.a,{onSubmit:function(e){return e.preventDefault(),a.emit("session-existing",{session:i.current.value}),a.on("receive-answer",u),function(){a.off("receive-answer")}},className:"w-full mt-4",children:[Object(m.jsxs)(g.a.Group,{children:[Object(m.jsx)(g.a.Control,{type:"text",className:"border-lightBlue-200",ref:i,id:"inputSession",required:!0,onChange:function(){return c("")},placeholder:"Load another session"}),Object(m.jsx)("span",{className:"text-red-500 text-xs mt-1",children:o})]}),Object(m.jsxs)("div",{className:"flex w-full justify-center",children:[Object(m.jsx)(j,{onClick:h,color:"teal",variant:"secondary",type:"reset",children:"Reset"}),Object(m.jsx)(j,{type:"submit",color:"lightBlue",id:"loadButton",children:"Load"})]})]})]})}function F(e){var t=e.brand,r=e.items,a=e.activeColor,l=e.currentRoute,o=e.id,h=e.setId,f=e.cookie,x=i.a.useState("-translate-x-full"),p=Object(d.a)(x,2),j=p[0],g=p[1],v={red:"text-red-500 hover:text-red-700",orange:"text-orange-500 hover:text-orange-700",amber:"text-amber-500 hover:text-amber-700",emerald:"text-emerald-500 hover:text-emerald-700",teal:"text-teal-500 hover:text-teal-700",lightBlue:"text-lightBlue-500 hover:text-lightBlue-700",indigo:"text-indigo-500 hover:text-indigo-700",purple:"text-purple-500 hover:text-purple-700",pink:"text-pink-500 hover:text-pink-700"};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("nav",{className:"block py-4 px-6 top-0 bottom-0 w-64 bg-white shadow-xl left-0 fixed flex-row flex-nowrap xxl:z-10 z-9999 transition-all duration-300 ease-in-out transform xxl:translate-x-0 "+j,children:[Object(m.jsx)("button",{className:"xxl:hidden flex items-center justify-center cursor-pointer text-blueGray-700 w-6 h-10 border-l-0 border-r border-t border-b border-solid border-blueGray-100 text-xl leading-none bg-white rounded-r border border-solid border-transparent absolute top-1/2 -right-24-px focus:outline-none z-9998",onClick:function(){g(""===j?"-translate-x-full":"")},children:Object(m.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(m.jsx)("div",{className:"flex-col min-h-full px-0 flex flex-wrap items-center justify-between w-full mx-auto overflow-y-auto overflow-x-hidden",children:Object(m.jsxs)("div",{className:"flex bg-white flex-col items-stretch opacity-100 relative mt-4 overflow-y-auto overflow-x-hidden h-auto z-40 items-center flex-1 rounded w-full",children:[t&&t.link&&t.link.to&&Object(m.jsxs)(s.b,Object(c.a)(Object(c.a)({},t),{},{className:"xxl:flex items-center flex-col text-center xxl:pb-2 text-blueGray-700 mr-0 inline-flex whitespace-nowrap text-sm uppercase font-bold p-4 px-0",children:[t&&t.image&&Object(m.jsx)("img",{src:t.image,alt:"...",className:"max-w-full rounded"}),t&&t.text&&Object(m.jsx)("span",{children:t.text})]})),t&&t.link&&void 0===t.link.to&&Object(m.jsxs)("a",Object(c.a)(Object(c.a)({},t),{},{href:t.link.href,className:"xxl:flex items-center flex-col text-center xxl:pb-2 text-blueGray-700 mr-0 inline-flex whitespace-nowrap text-sm uppercase font-bold p-4 px-0",children:[t&&t.image&&Object(m.jsx)("img",{src:t.image,alt:"...",className:"max-w-full rounded"}),t&&t.text&&Object(m.jsx)("span",{children:t.text})]})),Object(m.jsx)("div",{className:"xxl:flex-col xxl:min-w-full flex flex-col list-none",children:Object(m.jsx)(I,{id:o,onIdSubmit:h,cookie:f})}),Object(m.jsx)("div",{className:"xxl:flex-col xxl:min-w-full flex flex-col list-none",children:r.map((function(e,t){return e.divider?Object(m.jsx)("hr",{className:"my-4 xxl:min-w-full"},t):e.title?Object(m.jsx)("h6",{className:"xxl:min-w-full text-blueGray-500 text-xs uppercase font-bold block pt-1 pb-4 no-underline",children:e.title},t):e.link&&e.link.to?Object(n.createElement)(s.b,Object(c.a)(Object(c.a)({},e.link),{},{key:t,className:b()("text-xs uppercase py-3 font-bold block",(r={},Object(u.a)(r,v[a],e.link.href===l),Object(u.a)(r,"text-blueGray-800 hover:text-blueGray-500",e.link.href!==l),r))}),Object(m.jsx)("i",{className:b()(e.icon,"mr-2 text-sm",{"opacity-75":e.link.href===l,"text-blueGray-400":e.link.href!==l})}),e.text):Object(n.createElement)("a",Object(c.a)(Object(c.a)({},e.link),{},{key:t,className:b()("text-xs uppercase py-3 font-bold block",(i={},Object(u.a)(i,v[a],e.link.href===l),Object(u.a)(i,"text-blueGray-800 hover:text-blueGray-500",e.link.href!==l),i))}),Object(m.jsx)("i",{className:b()(e.icon,"mr-2 text-sm",{"opacity-75":e.link.href===l,"text-blueGray-400":e.link.href!==l})}),e.text);var r,i}))})]})})]})})}F.defaultProps={items:[],activeColor:"pink"};var A={info:{title:"Edit a Goal",goalComponent:{editIconName:"fas fa-pen",deleteIconName:"fas fa-trash-alt",iconColor:"bg-lightBlue-600"},contract:[{title:"assumptions",color:"lightBlue"},{title:"guarantees",color:"lightBlue"}],modal:{close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",saveText:"Save",saveColor:"info"}}},B={info:{goalComponent:{editIconName:"fas fa-pen",deleteIconName:"fas fa-trash-alt",iconColor:"bg-lightBlue-600"},contract:[{title:"assumptions",color:"lightBlue"},{title:"guarantees",color:"lightBlue"}],modal:{title:"Confirm Deletion",content:"The following World will be deleted : ",close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",confirmText:"Confirm",confirmColor:"info"}}},T={info:{buttons:{up:"fas fa-chevron-up",down:"fas fa-chevron-down",run:"fas fa-play",pause:"fas fa-pause"}}},E=r(8),M=r(9),L=r(10),W=r(11),P=(r(53),r(198),["label"]);function z(e){var t=e.label,r=Object(f.a)(e,P);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[Object(m.jsx)("input",Object(c.a)(Object(c.a)({},r),{},{type:"checkbox",className:"form-checkbox appearance-none ml-1 w-5 h-5 ease-linear transition-all duration-150 border border-blueGray-300 rounded checked:bg-blueGray-700 checked:border-blueGray-700 focus:border-blueGray-300"})),t?Object(m.jsx)("span",{className:"ml-2 text-sm font-semibold text-blueGray-500",children:t}):null]})})}function D(e){if("string"===typeof e)return e;for(var t="",r=0;r<e.length-1;r++)t+=e[r]+",";return t+=e[e.length-1]}function R(e,t){for(var r=0;r<t.length;r++)if(t[r].name===e.name){for(var n=t[r].arguments,i=0;i<n.length;i++)n[i].value=void 0===e.arguments[i]?"":e.arguments[i].value;return n}return[]}z.defaultProps={};var Y=r(159),J=r.n(Y),U=function(e){var t=e.contract,r=e.color,n=e.setOpen,a=e.defaultOpened,l=e.patterns,s=e.modal,o=i.a.useState(a),c=Object(d.a)(o,2),u=c[0],h=c[1],f=i.a.useState(a),x=Object(d.a)(f,2),p=x[0],g=x[1],v=i.a.useState(void 0),O=Object(d.a)(v,2),w=O[0],y=O[1],C=i.a.useState(!1),N=Object(d.a)(C,2),k=N[0],G=N[1],I=i.a.useState(!0),F=Object(d.a)(I,2),A=F[0],B=F[1],T=i.a.useRef(null);i.a.useEffect((function(){a||(y(T.current.scrollHeight),g(!1),setTimeout((function(){y(0)}),10),setTimeout((function(){G(!1),h(!1)}),310))}),[a]),i.a.useEffect((function(){y(T.current.scrollHeight)}),[A]);for(var E=[],M=0,L=0;L<t.length;L+=1){E[L]=[];for(var W=0;W<t[L].content.length;W+=1)A?void 0===t[L].content[W].pattern&&(E[L].push(Object(m.jsx)("tr",{children:Object(m.jsx)("td",{children:t[L].content[W].ltl_value})},M)),M++):void 0!==t[L].content[W].pattern&&(E[L].push(Object(m.jsx)("tr",{children:Object(m.jsxs)("td",{children:[Object(m.jsx)("p",{children:t[L].content[W].pattern.name}),R(t[L].content[W].pattern,l).map((function(e,t){return Object(m.jsx)("p",{children:e.name+" : "+D(e.value)},t)}))]})},M)),M++)}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"bg-transparent first:rounded-t px-4 py-3",children:Object(m.jsx)("a",{href:"#openCollapse",onClick:function(e){e.preventDefault(),k||(G(!0),g(!p),u?function(){n(!1);var e=0;u&&void 0===w&&(y(T.current.scrollHeight),e=10),setTimeout((function(){y(0)}),e),setTimeout((function(){G(!1),h(!1)}),310)}():(n(!0),u||void 0!==w||y(0),h(!0),setTimeout((function(){y(T.current.scrollHeight)}),10),setTimeout((function(){G(!1)}),310)))},children:Object(m.jsxs)("h5",{className:{blueGray:"text-blueGray-700 hover:text-blueGray-900",red:"text-red-500 hover:text-red-700",orange:"text-orange-500 hover:text-orange-700",amber:"text-amber-500 hover:text-amber-700",emerald:"text-emerald-500 hover:text-emerald-700",teal:"text-teal-500 hover:text-teal-700",lightBlue:"text-lightBlue-500 hover:text-lightBlue-700",indigo:"text-indigo-500 hover:text-indigo-700",purple:"text-purple-500 hover:text-purple-700",pink:"text-pink-500 hover:text-pink-700"}[r]+" mb-0 font-semibold text-center duration-300 transition-all ease-in-out",children:["Show Contract",Object(m.jsx)("i",{className:b()("text-sm mr-2 float-right fas fa-chevron-down duration-300 transition-all ease-in-out transform",{"rotate-180":p})})]})})}),Object(m.jsxs)("div",{className:b()("duration-300 transition-all ease-in-out",{block:u,hidden:!u}),style:{height:"auto",maxHeight:w},ref:T,children:[Object(m.jsx)("div",{className:"flex justify-end",children:Object(m.jsx)(J.a,{offText:"Pattern",onText:"LTL",onChange:function(e){return B(e.state.value)}})}),t.map((function(e,t){return Object(m.jsx)("div",{className:"text-blueGray-500 px-4 flex-auto leading-relaxed",children:Object(m.jsxs)(S.k,{responsive:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("th",{className:"title-up font-semibold-important",children:e.title})})}),Object(m.jsx)("tbody",{children:E[t]})]})},t)})),void 0!==s&&Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)(j,{onClick:function(){return s(!0)},children:"Show Details"})})]})]})};U.defaultProps={defaultOpened:!1,setOpen:function(){}};var V=U;var Q=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(m.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(m.jsx)("i",{className:"now-ui-icons ui-1_simple-remove"})}),Object(m.jsx)("h4",{className:"title title-up",children:"Contract Details"})]}),Object(m.jsx)("div",{className:"modal-body justify-content-center",children:Object(m.jsx)("div",{children:"Content not available yet"})}),Object(m.jsx)(S.h,{children:Object(m.jsx)(S.a,{onClick:e.close,children:"Cancel"})})]})};var q=function(e){var t=[],r=i.a.useState(!1),a=Object(d.a)(r,2),l=a[0],s=a[1],o=i.a.useState(!1),c=Object(d.a)(o,2),u=c[0],h=c[1];for(var b in e.contract)e.contract.hasOwnProperty(b)&&(t[Object.keys(e.contract).indexOf(b)]=[],t[Object.keys(e.contract).indexOf(b)].title=b,t[Object.keys(e.contract).indexOf(b)].content=e.contract[b]);Object(n.useEffect)((function(){s(!1)}),[e.contract]);for(var f,x,p=[],j=0;j<e.context.length;j+=1)p.push(Object(m.jsx)(z,{className:"mr-4",label:e.context[j],readOnly:!0,checked:(f=e.context[j],x=e.contextChecked,void 0===f?"":x.includes(f)?"checked":"")},j));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"w-full lg:w-6/12 xl:w-5/12 mt-8 ml-4 mr-4 px-4 relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg opacity-1 transform duration-300 transition-all ease-in-out",children:Object(m.jsxs)("div",{className:"flex-auto p-4 pr-0",children:[Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(m.jsx)("div",{className:"flex flex-wrap",children:Object(m.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:e.title})})}),Object(m.jsxs)("div",{className:"flex flex-col flex-wrap w-full",children:[Object(m.jsx)("div",{className:"relative w-full pr-4 mt-2 mb-2 max-w-full flex-grow flex-1",children:Object(m.jsx)("span",{className:"text-md text-blueGray-700",children:e.description})}),Object(m.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:p})]})]}),Object(m.jsxs)("div",{className:"flex flex-col min-content",children:[Object(m.jsx)("div",{className:"relative pl-4 flex justify-end flex-initial",children:Object(m.jsx)("div",{onClick:function(){return e.modify(!0,e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full cursor-pointer "+e.statIconColor,children:Object(m.jsx)("i",{className:e.statIconName})})}),Object(m.jsx)("div",{className:"relative pl-4 flex mt-2 justify-end flex-initial",children:Object(m.jsx)("div",{onClick:function(){return e.delete(e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full cursor-pointer "+e.statIconColor,children:Object(m.jsx)("i",{className:e.statSecondIconName})})})]})]}),Object(m.jsx)("div",{className:"flex flex-col mt-4",children:Object(m.jsx)("div",{className:"relative w-full max-w-full flex-grow flex-1",children:Object(m.jsx)("div",{className:"overflow-hidden relative flex flex-col min-w-0 "+(l?"pb-4 ":"")+"break-words bg-white w-full border-b border-blueGray-200",children:Object(m.jsx)(V,{contract:t,patterns:e.patterns,color:"lightBlue",setOpen:function(e){s(e)},defaultOpened:l,modal:h})})})})]})}),Object(m.jsx)(S.g,{isOpen:u,toggle:function(){return h(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:Object(m.jsx)(Q,{close:function(){return h(!1)}})})]})};var X=function(e){return Object(m.jsx)("div",{className:"flex-auto p-4 flex flex-col justify-center items-center",children:Object(m.jsxs)("div",{className:"flex flex-wrap flex-col",children:[Object(m.jsx)("div",{className:"relative w-full pb-2 max-w-full text-center flex-grow flex-1",children:Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-white",children:e.statText})}),Object(m.jsx)("div",{className:"relative w-auto flex flex-initial justify-center",children:Object(m.jsx)("div",{className:"bg-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full "+e.statIconColor,children:Object(m.jsx)("i",{className:e.statIconName})})})]})})},H=["border","size","leftIcon","rightIcon","type"],K=i.a.forwardRef((function(e,t){var r=e.border,n=e.size,i=e.leftIcon,a=e.rightIcon,l=e.type,s=Object(f.a)(e,H),o={sm:"px-2 py-2 text-sm ",lg:"px-3 py-3 text-sm ",regular:"px-3 py-2 text-sm "}[n]+" w-full placeholder-blueGray-200 text-blueGray-700 relative bg-white rounded-md outline-none focus:ring focus:ring-lightBlue-500 focus:ring-1 focus:border-lightBlue-500 border border-solid transition duration-200 ";o={border:"border-blueGray-300",borderless:"border-transparent shadow"}[r]+" "+o;var d=null,u=null,h="mb-3 pt-0";return i&&(o+="pl-10 ",h="relative flex w-full flex-wrap items-stretch mb-3",d=Object(m.jsx)("span",{className:"z-10 h-full flex absolute text-center text-blueGray-300 text-sm items-center w-8 pl-3",children:Object(m.jsx)("i",{className:i})})),a&&(o+="pr-10 ",h="relative flex w-full flex-wrap items-stretch mb-3",u=Object(m.jsx)("span",{className:"z-10 h-full flex absolute text-center text-blueGray-300 text-sm items-center w-8 right-0",children:Object(m.jsx)("i",{className:a})})),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:h,ref:t,children:[d,l&&"textarea"===l?Object(m.jsx)("textarea",Object(c.a)(Object(c.a)({},s),{},{type:l,className:o})):Object(m.jsx)("input",Object(c.a)(Object(c.a)({},s),{},{type:l,className:o})),u]})})}));K.defaultProps={border:"border",size:"regular"};var Z=K,_=r(353),$=["border","size","leftIcon","rightIcon","type","items","closeOnSelect","placeholder","defaultValue","changeSelector","assumptions","key","name"];function ee(e){var t=e.border,r=e.size,n=(e.leftIcon,e.rightIcon,e.type,e.items),a=e.closeOnSelect,l=e.placeholder,s=e.defaultValue,o=e.changeSelector,c=(e.assumptions,e.key,e.name),u=(Object(f.a)(e,$),{sm:"px-2 py-2 text-sm ",lg:"px-3 py-3 text-sm ",regular:"px-3 py-2 text-sm "}[r]+" w-full placeholder-blueGray-200 bg-white rounded-md outline-none border border-solid transition duration-200 ");u={border:"border-blueGray-300",borderless:"border-transparent shadow"}[t]+" "+u;var h=i.a.useState(""),b=Object(d.a)(h,2),x=b[0],p=b[1],j=i.a.useState(!1),g=Object(d.a)(j,2),v=g[0],O=g[1],w=i.a.useState(!1),y=Object(d.a)(w,2),C=y[0],N=y[1],k=i.a.useState("origin-top-right"),G=Object(d.a)(k,2),S=G[0],I=G[1],F=i.a.createRef(),A=i.a.createRef(),B={"top-start":"origin-bottom-left","top-end":"origin-bottom-right","bottom-start":"origin-top-left","bottom-end":"origin-top-right","right-start":"origin-top-left","right-end":"origin-top-left","left-start":"origin-top-right","left-end":"origin-top-right",bottom:"origin-top",top:"origin-bottom",left:"origin-right",right:"origin-left"},T=function(){if(!C){if(N(!0),v)p(""),setTimeout((function(){O(!1)}),310);else{var e=Object(_.a)(F.current,A.current,{placement:"bottom-start"});I(B[e.state.placement]),O(!0),setTimeout((function(){p("opacity-100 scale-100 ")}),10)}setTimeout((function(){N(!1)}),350)}};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"mb-2 mt-2 ml-2 pt-0 relative",children:[Object(m.jsx)("input",{value:s,type:"text",onChange:function(){},onClick:T,placeholder:l,ref:F,size:r,className:u}),Object(m.jsx)("div",{ref:A,className:(v?"block ":"hidden ")+"z-50",children:Object(m.jsx)("div",{className:x+" absolute opacity-0 border bg-white text-base z-50 float-left p-2 text-left rounded-lg shadow-lg min-w-48 transition-all duration-200 ease-in-out transform scale-95 origin-top-left "+S,children:n.map((function(e,t){return e.disabled?Object(m.jsx)("span",{className:"text-sm pt-2 pb-0 px-4 font-bold block w-full whitespace-nowrap bg-transparent text-blueGray-500",children:e.text},t):Object(m.jsx)("a",{href:"#pablo",name:c,className:(e===s?"bg-lightBlue-100 ":"")+"text-sm px-3 py-2 font-normal block w-full whitespace-nowrap transition-all duration-200 hover:bg-blueGray-100 rounded",onClick:function(t){t.preventDefault(),o(t,e),a&&T()},children:e},t)}))})})]})})}ee.defaultProps={border:"border",size:"regular",items:[],closeOnSelect:!0,defaultValue:""};var te=function(e){var t=e.border,r=e.size,n=e.content,i=e.changeParameter,a=e.number,l=e.infos,s=e.presentPattern,o={sm:"px-2 py-2 text-sm ",lg:"px-3 py-3 text-sm ",regular:"px-3 py-2 text-sm "}[r]+" w-full placeholder-blueGray-200 bg-white rounded-md outline-none border border-solid transition duration-200 ";o={border:"border-blueGray-300",borderless:"border-transparent shadow"}[t]+" "+o;for(var c=[],d=0;d<s.arguments.length;d++)c[d]="",Array.isArray(s.arguments[d].value)?c[d]=s.arguments[d].value.join(","):c[d]=s.arguments[d].value;return Object(m.jsx)(m.Fragment,{children:n.map((function(e,t){return Object(m.jsxs)("div",{className:"grid grid-template-25-75 items-center",children:[Object(m.jsx)("div",{className:"mr-4 text-right whitespace-nowrap",children:e.name[0].toUpperCase()+e.name.slice(1)+" : "}),Object(m.jsx)("input",{id:"tooltipValues"+a+t,type:"text",autoComplete:"off",className:o,placeholder:"list"===e.format?l.placeholders.listOfValues:l.placeholders.singleValues,value:c[t]||"",name:"subValue",onChange:function(e){return i(e,t)}}),"list"===e.format&&Object(m.jsx)(S.n,{delay:100,placement:"bottom",target:"tooltipValues"+a+t,children:'To enter several values, separate them with ","'})]},t)}))})},re=te;te.defaultProps={border:"border",size:"regular"};var ne=["border","size","leftIcon","rightIcon","type","onChange","value","listOfWorldVariables","setLTLWorldValues"],ie=i.a.forwardRef((function(e,t){var r=e.border,a=e.size,l=e.leftIcon,s=e.rightIcon,o=e.type,u=e.onChange,h=e.value,b=e.listOfWorldVariables,x=e.setLTLWorldValues,p=Object(f.a)(e,ne),j={sm:"px-2 py-2 text-sm ",lg:"px-3 py-3 text-sm ",regular:"px-3 py-2 text-sm "}[a]+" w-full placeholder-blueGray-200 bg-white rounded-md outline-none border border-solid transition duration-200 ";j={border:"border-blueGray-300",borderless:"border-transparent shadow"}[r]+" "+j;var g=null,v=null,O="mb-2 mt-2 ml-2 pt-0";l&&(j+="pl-10 ",O="relative flex w-full flex-wrap items-stretch mb-3",g=Object(m.jsx)("span",{className:"z-10 h-full flex absolute text-center text-blueGray-300 text-sm items-center w-8 pl-3",children:Object(m.jsx)("i",{className:l})})),s&&(j+="pr-10 ",O="relative flex w-full flex-wrap items-stretch mb-3",v=Object(m.jsx)("span",{className:"z-10 h-full flex absolute text-center text-blueGray-300 text-sm items-center w-8 right-0",children:Object(m.jsx)("i",{className:s})}));var w=i.a.useState(!1),y=Object(d.a)(w,2),C=y[0],N=y[1],k=i.a.useState(null),G=Object(d.a)(k,2),S=G[0],I=G[1],F=i.a.useState(""),A=Object(d.a)(F,2),B=A[0],T=A[1];function E(e){u(e)}function M(e){N(e)}return Object(n.useEffect)((function(){var e,t=setInterval((function(){C&&(T("|"),e=setTimeout((function(){T("")}),500))}),1e3);return function(){clearInterval(t),clearTimeout(e)}}),[C]),Object(n.useEffect)((function(){for(var e=h,t=[[],[],[]],r="",n=0;n<b.length;n++)for(var i=0;i<b[n].length;i++)e.includes(b[n][i])&&(t[n].push(b[n][i]),r+=b[n][i]+"|");var a=""===(r=r.slice(0,-1))?e:e.replace(new RegExp(r,"g"),(function(e){return"<span class='text-red-500'>"+e+"</span>"}));I(a),x(t)}),[b,h]),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:O+" relative",ref:t,children:[g,o||"textarea"===o?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("input",Object(c.a)(Object(c.a)({},p),{},{type:o,onChange:E,onFocus:function(){return M(!0)},onBlur:function(){M(!1)},className:j+" relative z-1 "+(""===h?"":"opacity-0"),value:h})),Object(m.jsx)("span",{className:j+" absolute w-full h-full top-0 left-0 z-0 "+(C?"ring ring-lightBlue-500 ring-1 border-lightBlue-500":""),dangerouslySetInnerHTML:{__html:S+B}})]}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("table",{children:Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("input",Object(c.a)(Object(c.a)({},p),{},{type:o,className:j,value:h,onChange:E}))}),Object(m.jsx)("td",{children:Object(m.jsx)("div",{className:"w-64 ml-12 center",dangerouslySetInnerHTML:{__html:"Formula : "+S}})})]})})})}),v]})})}));ie.defaultProps={border:"border",size:"regular"};var ae=ie;function le(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].name);return t}function se(e){var t=e.items,r=e.patterns,n=e.color,a=e.changeParameter,l=e.deleteContent,s=e.addContent,o=e.contractType,c=e.listOfWorldVariables,u=e.setLTLWorldValues,h=e.infos,b=i.a.useState(),f=Object(d.a)(b,2),x=f[0],p=f[1],j=function(e){p(e)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{children:Object(m.jsx)(S.b,{className:"card-plain",children:Object(m.jsx)(S.c,{className:"overflow-x-initial",children:Object(m.jsxs)(S.k,{responsive:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:h.titles.map((function(e,t){return Object(m.jsx)("th",{children:e},t)}))})}),Object(m.jsxs)("tbody",{children:[t.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t+1}),Object(m.jsx)("td",{className:"w-32",children:Object(m.jsxs)(S.l,{children:[Object(m.jsx)(S.f,{caret:!0,className:"btn-round btn-block",color:h.dropdownColor,children:void 0===e.pattern?h.types[0]:h.types[1]}),Object(m.jsx)(S.e,{children:h.types.map((function(e,r){return Object(m.jsx)(S.d,{name:"type",onClick:function(r){return a(r,o,t,e)},children:e},r)}))})]})}),Object(m.jsxs)("td",{children:[void 0===e.pattern&&Object(m.jsx)(ae,{value:e.ltl_value,name:"ltl_value",placeholder:h.placeholders.ltl,onChange:function(e){return a(e,o,t)},listOfWorldVariables:c,setLTLWorldValues:function(e){return u(t,o,e)}}),void 0!==e.pattern&&Object(m.jsx)(ee,{items:le(r),placeholder:h.placeholders.pattern,defaultValue:e.pattern.name,name:"contentName",changeSelector:function(e,r){return a(e,o,t,r)}})]}),Object(m.jsx)("td",{children:void 0!==e.pattern&&Object(m.jsx)(re,{title:h.details,content:R(e.pattern,r),color:n,setOpen:function(){return j(t)},changeParameter:function(e,r){return a(e,o,t,!1,r)},number:t,infos:h,defaultOpened:t===x,presentPattern:e.pattern})}),Object(m.jsx)("td",{children:Object(m.jsx)(S.a,{className:"btn-icon",color:h.deleteButton.color,size:"sm",type:"button",onClick:function(){return l(t,o)},children:Object(m.jsx)("i",{className:h.deleteButton.icon})})})]},t)})),Object(m.jsx)("tr",{children:Object(m.jsx)("td",{colSpan:"5",className:"text-center",children:Object(m.jsx)(S.a,{className:"btn-icon",color:h.addRowButton.color,size:"sm",type:"button",onClick:function(){return s(o)},children:Object(m.jsx)("i",{className:h.addRowButton.icon})})})})]})]})})})})})}se.defaultProps={items:[],defaultOpened:-1,multiple:!1};var oe={infos:{types:["LTL","Pattern"],placeholders:{ltl:"LTL Value",pattern:"Name",singleValues:"Value",listOfValues:"Values"},dropdownColor:"info",titles:["#","Type","Value"],details:"See Arguments",deleteButton:{icon:"now-ui-icons ui-1_simple-remove",color:"danger"},addRowButton:{icon:"now-ui-icons ui-1_simple-add",color:"info"}}};function ce(e){if(Array.isArray(e))return e;for(var t=[""],r=0,n=0;n<e.length;n++)","===e[n]?(t[++r]="",n!==e.length-1&&" "===e[n+1]&&n++):t[r]+=e[n];return 0===r?t[0]:t}var de=function(e){var t=i.a.useState(JSON.parse(JSON.stringify(e.goal))),r=Object(d.a)(t,1)[0];function n(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,s=a||t.target.value,o=!!n&&r.contract[n][i];switch(t.target.name){case"name":r.name=s;break;case"description":r.description=s;break;case"context":r.context.includes(s)?r.context.splice(r.context.indexOf(s),1):r.context.push(s);break;case"ltl_value":o.ltl_value=s;break;case"contentName":o.pattern.name=s,o.pattern.arguments=[];break;case"type":"Pattern"===s?void 0===o.pattern&&(o.pattern={name:"",arguments:[]},delete o.world_values):delete o.pattern;break;case"subValue":o.pattern.arguments[l]={value:ce(s)}}e.edit(r)}function a(t,n){r.contract[n].splice(t,1),e.edit(r)}function l(t){r.contract[t].push({ltl_value:""}),e.edit(r)}function s(t,n,i){r.contract[n][t].world_values=i,e.edit(r)}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(m.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(m.jsx)("i",{className:e.info.modal.close})}),Object(m.jsx)("h4",{className:"title title-up",children:e.info.title})]}),Object(m.jsxs)("div",{className:"modal-body justify-content-center",onKeyPress:function(t){"Enter"===t.key&&e.save(r)},children:[Object(m.jsx)(Z,{type:"text",placeholder:"Title of the Goal",name:"name",value:r.name,onChange:n}),Object(m.jsx)(Z,{type:"textarea",placeholder:"Description of the Goal",name:"description",value:r.description,onChange:n}),Object(m.jsx)("h4",{className:"font-bold title-up mb-2",children:e.info.context.title}),e.listOfWorldVariables[e.listOfWorldVariables.length-1].map((function(e,t){return Object(m.jsx)(z,{label:e,name:"context",checked:r.context.includes(e),onChange:function(t){return n(t,!1,0,e)}},t)})),Object(m.jsx)("div",{className:"mt-2 text-center",children:e.listOfWorldVariables.map((function(t,r){return r!==e.listOfWorldVariables.length-1&&Object(m.jsxs)("div",{children:[Object(m.jsxs)("span",{className:"font-semibold",children:[e.info.lists.title," ",e.info.lists.elements[r]," : "]}),t.map((function(e,r){return Object(m.jsxs)("span",{children:[e,r!==t.length-1?", ":""]},r)}))]},r)}))}),e.info.contract.map((function(t,i){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{className:"title title-up",children:t.title}),Object(m.jsx)(se,Object(c.a)({items:r.contract[t.title],patterns:e.patterns,color:t.color,changeParameter:n,deleteContent:a,addContent:l,contractType:t.title,listOfWorldVariables:e.listOfWorldVariables,setLTLWorldValues:s,keyType:i},oe))]},i)}))]}),Object(m.jsx)(S.h,{children:Object(m.jsxs)("div",{className:"flex flex-col w-full",children:[0===r.contract.guarantees.length&&Object(m.jsx)("div",{className:"flex justify-end mb-2",children:Object(m.jsx)("span",{className:"text-red-500 ",children:e.info.modal.warningGuarantees})}),Object(m.jsxs)("div",{className:"flex w-full justify-between",children:[Object(m.jsx)(S.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText}),Object(m.jsx)(S.a,{color:e.info.modal.saveColor,disabled:0===r.contract.guarantees.length,onClick:function(){return e.save(r)},children:e.info.modal.saveText})]})]})})]})};var ue=function(e){var t=N(),r=Object(n.useState)(0),i=Object(d.a)(r,2),a=i[0],l=i[1],s=Object(n.useState)(0),o=Object(d.a)(s,2),c=o[0],u=o[1],h=Object(n.useCallback)((function(e){u(e)}),[u]),b=Object(n.useCallback)((function(e){l(e)}),[l]);return Object(n.useEffect)((function(){null!=t&&null!==e.deleteIndex&&(t.emit("delete-goal",{index:e.deleteIndex,project:e.projectId}),e.deleteTrigger(),"simple"===e.projectId&&t.on("deleting-simple",h))}),[t,e.deleteIndex,e.deleteTrigger,e.projectId]),Object(n.useEffect)((function(){if(null!=t)return t.emit("get-goals",{project:e.projectId}),t.on("receive-goals",b),function(){return t.off("receive-goals")}}),[t,b,e.projectId,e.triggerGoals]),Object(n.useEffect)((function(){e.updateGoals(a)}),[a]),Object(n.useEffect)((function(){e.switchWorld(c)}),[c]),Object(m.jsx)(m.Fragment,{})},he={name:"",description:"",context:[],contract:{assumptions:[],guarantees:[]}},be={info:{title:"Edit a Goal",context:{title:"Context"},contract:[{title:"assumptions",color:"lightBlue"},{title:"guarantees",color:"lightBlue"}],modal:{close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",warningGuarantees:"A Goal must have at least 1 Guarantee",saveText:"Save",saveColor:"info"},lists:{title:"List of",elements:["Locations","Actions","Sensors"]}}};var fe=function(e){var t=N(),r=Object(n.useState)(0),i=Object(d.a)(r,2),a=i[0],l=i[1],s=Object(n.useCallback)((function(e){l(e.robotic)}),[l]);return Object(n.useEffect)((function(){if(null!=t)return t.emit("get-patterns"),t.on("receive-patterns",s),function(){return t.off("receive-patterns")}}),[t,s]),Object(n.useEffect)((function(){void 0!==e.patterns&&e.patterns(a)}),[a]),Object(m.jsx)(m.Fragment,{})};var me=function(e){var t=N(),r=Object(n.useState)(0),i=Object(d.a)(r,2),a=i[0],l=i[1],s=Object(n.useCallback)((function(e){l(e)}),[l]),o=Object(n.useCallback)((function(){e.toggleGetTrigger()}),[e]);return Object(n.useEffect)((function(){if(null!=t)return null!==e.goals&&e.triggerSave?(e.toggleSaveTrigger(!1),t.emit("add-goal",{goal:e.goals[e.index],project_id:e.projectId}),"simple"===e.projectId?(t.on("saving-simple",s),function(){return t.off("saving-simple")}):(t.on("goal-saved",o),function(){return t.off("saving-complete")})):void 0}),[t,e,s]),Object(n.useEffect)((function(){e.switchWorld(a)}),[a]),Object(m.jsx)(m.Fragment,{})};var xe=function(e){var t=N();return Object(n.useEffect)((function(){null!=t&&e.triggerGoalsChecked&&(t.emit("check-goals",{project:e.projectId}),e.swapTriggerGoalsChecked(!1))}),[t,e]),Object(m.jsx)(m.Fragment,{})},pe=function(e){Object(L.a)(r,e);var t=Object(W.a)(r);function r(){var e;Object(E.a)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={modalClassic:!1,goals:[],receivedGoals:[],editedGoals:[],currentGoalIndex:0,numChildren:0,patterns:[],saveTrigger:!1,deletionIndex:null},e.onAddChild=function(){var t=JSON.parse(JSON.stringify(e.state.goals));t.push(JSON.parse(JSON.stringify(he))),e.setState({editedGoals:t},(function(){return e.setModalClassic(!0,t.length-1)}))},e.setModalClassic=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;e.setState({modalClassic:t}),-1!==r&&e.setState({currentGoalIndex:r})},e.deleteGoal=function(t){e.setState({deletionIndex:t})},e.editCurrentGoal=function(t){e.setState((function(r){return{editedGoals:r.editedGoals.map((function(r,n){return n===e.state.currentGoalIndex?t:r}))}}))},e.saveCurrentGoal=function(t){e.setState((function(r){return{goals:r.goals.map((function(r,n){return n===e.state.currentGoalIndex?t:r}))}}),(function(){return e.toggleSaveTrigger(!0)})),e.setModalClassic(!1)},e.getGoals=function(t){for(var r=[],n=[],i=0;i<t.length;i++){var a=JSON.parse(t[i]);a.hasOwnProperty("group")&&"new"===a.group||r.push(a),n.push(a)}e.setState({goals:r,receivedGoals:r,editedGoals:r,numChildren:r.length}),e.props.setGoals(n)},e.getPatterns=function(t){e.setState({patterns:JSON.parse(t)},(function(){return e.props.setPatterns(e.state.patterns)}))},e.toggleSaveTrigger=function(t){e.setState({saveTrigger:t})},e.deleteTrigger=function(){e.setState({deletionIndex:null},(function(){return e.props.toggleGetTrigger()}))},e.switchWorld=function(t){e.props.setProject(t),e.props.toggleGetTrigger()},e}return Object(M.a)(r,[{key:"render",value:function(){for(var e=this,t=[],r=0;r<this.state.numChildren;r+=1)t.push(Object(m.jsx)(q,{number:r,title:this.state.receivedGoals[r].name,description:this.state.receivedGoals[r].description,contextChecked:this.state.receivedGoals[r].context,context:this.props.listOfWorldVariables[3],contract:this.state.receivedGoals[r].contract,patterns:this.state.patterns,statIconName:this.props.info.goalComponent.editIconName,statSecondIconName:this.props.info.goalComponent.deleteIconName,statIconColor:this.props.info.goalComponent.iconColor,modify:this.setModalClassic,delete:this.deleteGoal},r));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(xe,{projectId:this.props.project,triggerGoalsChecked:this.props.triggerGoalsChecked,swapTriggerGoalsChecked:this.props.swapTriggerGoalsChecked}),Object(m.jsx)(ue,{projectId:this.props.project,session:this.props.id,updateGoals:this.getGoals,deleteIndex:this.state.deletionIndex,triggerGoals:this.props.triggerGetGoals,deleteTrigger:this.deleteTrigger,switchWorld:this.switchWorld}),Object(m.jsx)(fe,{patterns:this.getPatterns}),Object(m.jsx)(me,{projectId:this.props.project,index:this.state.currentGoalIndex,goals:this.state.editedGoals,triggerSave:this.state.saveTrigger,toggleSaveTrigger:this.toggleSaveTrigger,toggleGetTrigger:this.props.toggleGetTrigger,switchWorld:this.switchWorld}),Object(m.jsx)(je,{addChild:this.onAddChild,children:t}),Object(m.jsx)(S.g,{isOpen:this.state.modalClassic,toggle:function(){return e.setModalClassic(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:Object(m.jsx)(de,Object(c.a)({tmpedited:this.state.editedGoals,tmpindex:this.state.currentGoalIndex,goal:this.state.editedGoals[this.state.currentGoalIndex],listOfWorldVariables:this.props.listOfWorldVariables,patterns:this.state.patterns,edit:this.editCurrentGoal,save:this.saveCurrentGoal,close:function(){return e.setModalClassic(!1)}},be))})]})}}]),r}(i.a.Component);pe.defaultProps={contract:""};var je=function(e){return Object(m.jsx)("section",{className:"mt-5 mt-xl-2 pt-2 relative",children:Object(m.jsx)("div",{className:"px-4 md:px-10 mx-auto w-full",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)("div",{onClick:e.addChild,className:"w-full lg:w-6/12 xl:w-3/12 mt-8 ml-4 mr-4 px-4 relative flex flex-col min-w-0 break-words bg-lightBlue-600 rounded mb-6 xl:mb-0 shadow-lg cursor-pointer opacity-1 transform duration-300 transition-all ease-in-out",children:Object(m.jsx)(X,{statText:"Add a Goal",statIconName:"fas fa-plus-square",statIconColor:"text-lightBlue-700"})})}),Object(m.jsx)("div",{className:"flex flex-wrap justify-center",children:e.children})]})})})};function ge(e){var t=e.statTitle,r=e.statIconName,n=e.statIconColor,i=e.state,a=i?"text-blueGray-700":"text-blueGray-300",l=i?n:"bg-blueGray-200";return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"relative flex justify-center break-words bg-white rounded-lg mb-6 shadow-lg text-center",children:Object(m.jsx)("div",{className:"p-3 ",children:Object(m.jsxs)("div",{className:"flex flex-row ",children:[Object(m.jsx)("div",{className:"pr-4 flex justify-center items-center ",children:Object(m.jsx)("span",{className:"font-bold text-base uppercase "+a,children:t})}),Object(m.jsx)("div",{className:"relative w-auto ",children:Object(m.jsx)("div",{className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full "+l,children:Object(m.jsx)("i",{className:r})})})]})})})})}function ve(e){var t=e.cards,r=e.color,n=e.states;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"relative pt-8 pb-12 "+{light:"bg-blueGray-200",dark:"bg-blueGray-800",blueGray:"bg-blueGray-500",red:"bg-red-500",orange:"bg-orange-500",amber:"bg-amber-500",emerald:"bg-emerald-500",teal:"bg-teal-500",lightBlue:"bg-lightBlue-500",indigo:"bg-indigo-500",purple:"bg-purple-500",pink:"bg-pink-500"}[r],children:Object(m.jsx)("div",{className:"px-12 mx-8 w-40",children:Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"flex flex-wrap justify-center ",children:t.map((function(e,t){return Object(m.jsx)("div",{className:"flex-initial w-64 px-3 ",children:Object(m.jsx)(ge,Object(c.a)(Object(c.a)({},e),{},{state:n[t]}))},t)}))})})})})})}ge.defaultProps={statArrow:"up"},ve.defaultProps={cards:[],color:"blueGray"};var Oe={color:"lightBlue",cards:[{statTitle:"World Modeling",statIconName:"fas fa-globe",statIconColor:"bg-red-500"},{statTitle:"Goal Modeling",statIconName:"fas fa-bullseye",statIconColor:"bg-orange-500"},{statTitle:"Analysis",statIconName:"fas fa-spinner",statIconColor:"bg-pink-500"},{statTitle:"Simulation",statIconName:"fas fa-check-circle",statIconColor:"bg-lightBlue-500"}]};function we(e){var t=e.copyright,r=e.links;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("footer",{className:"block py-4 w-full absolute bottom-0",children:Object(m.jsxs)("div",{className:"container mx-auto px-4",children:[Object(m.jsx)("hr",{className:"mb-4 border-b-1 border-blueGray-200"}),Object(m.jsxs)("div",{className:"flex flex-wrap items-center md:justify-between justify-center",children:[Object(m.jsx)("div",{className:"w-full md:w-4/12 px-4",children:Object(m.jsxs)("div",{className:"text-center mb-2 md:text-left md:mb-0",children:[t&&t.to&&Object(m.jsx)(s.b,Object(c.a)(Object(c.a)({},t),{},{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left"})),t&&void 0===t.to&&Object(m.jsx)("a",Object(c.a)(Object(c.a)({},t),{},{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left"}))]})}),Object(m.jsx)("div",{className:"w-full md:w-8/12 px-4",children:Object(m.jsx)("ul",{className:"flex flex-wrap list-none md:justify-end  justify-center",children:r.map((function(e,t){return Object(m.jsxs)("li",{children:[e.to&&Object(m.jsx)(s.b,Object(c.a)(Object(c.a)({},e),{},{className:"text-blueGray-700 hover:text-blueGray-900 text-sm font-semibold block py-1 px-3"})),void 0===e.to&&Object(m.jsx)("a",Object(c.a)(Object(c.a)({},e),{},{className:"text-blueGray-700 hover:text-blueGray-900 text-sm font-semibold block py-1 px-3"}))]},t)}))})})]})]})})})}we.defaultProps={copyright:{},links:[]};var ye={copyright:{href:"https://www.creative-tim.com/?ref=npr-footeradmin",target:"_blank",children:"Copyright \xa9 "+(new Date).getFullYear()+" Creative Tim"},links:[{href:"https://www.creative-tim.com?ref=npr-footeradmin",target:"_blank",children:"Creative Tim"},{href:"https://www.creative-tim.com/presentation?ref=npr-footeradmin",target:"_blank",children:"About Us"},{href:"https://www.creative-tim.com/blog/?ref=npr-footeradmin",target:"_blank",children:"Blog"},{href:"https://www.creative-tim.com/license?ref=npr-footeradmin",target:"_blank",children:"Licenses"}]};var Ce=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{onClick:e.onClick,className:"w-full lg:w-6/12 xl:w-5/12 mt-8 ml-4 mr-4 px-4 relative flex cursor-pointer flex-col min-w-0 break-words border-lightBlue-700 bg-white rounded mb-6 xl:mb-0 shadow-lg opacity-1 transform duration-300 transition-all ease-in-out "+(e.selected?"world-border-8":"world-border-0"),children:Object(m.jsxs)("div",{className:"flex-auto p-4 pr-0",children:[Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(m.jsx)("div",{className:"flex flex-wrap",children:Object(m.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:e.title})})}),Object(m.jsxs)("div",{className:"flex flex-col flex-wrap w-full",children:[Object(m.jsx)("div",{className:"relative w-full pr-4 mt-2 mb-2 max-w-full flex-grow flex-1",children:Object(m.jsx)("span",{className:"text-md text-blueGray-700",children:e.description})}),Object(m.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1"})]}),Object(m.jsx)("div",{className:"w-full",children:Object(m.jsx)("img",{src:"data:image/png;base64,"+(t=e.image,t=t.slice(2,t.length-1)),alt:"World",className:"w-full"})})]}),Object(m.jsxs)("div",{className:"flex flex-col min-content",children:[Object(m.jsx)("div",{className:"relative pl-4 flex justify-end flex-initial",children:Object(m.jsx)(s.b,{to:"/world",className:"hover-no-underline",children:Object(m.jsx)("div",{onClick:function(){return e.modify(e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full cursor-pointer "+e.statIconColor,children:Object(m.jsx)("i",{className:e.statIconName})})})}),0!==e.number&&Object(m.jsx)("div",{className:"relative pl-4 flex mt-2 justify-end flex-initial",children:Object(m.jsx)("div",{onClick:function(){return e.delete(!0,e.number)},id:"deleteButton",className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full cursor-pointer "+e.statIconColor,children:Object(m.jsx)("i",{className:e.statSecondIconName,id:"deleteIcon"})})})]})]}),Object(m.jsx)("div",{className:"flex flex-col mt-4",children:Object(m.jsx)("div",{className:"relative w-full max-w-full flex-grow flex-1",children:Object(m.jsx)("div",{className:"overflow-hidden relative flex flex-col min-w-0 break-words bg-white w-full border-b border-blueGray-200"})})})]})})});var t};var Ne=function(e){var t=N(),r=Object(n.useState)(0),i=Object(d.a)(r,2),a=i[0],l=i[1],s=Object(n.useState)(!1),o=Object(d.a)(s,2),c=o[0],u=o[1],h=Object(n.useCallback)((function(e){l(e)}),[l]);return Object(n.useEffect)((function(){if(null!=t)return t.emit("get-projects"),t.on("receive-projects",h),function(){return t.off("receive-projects")}}),[t,h,e.projectAdded,c]),Object(n.useEffect)((function(){e.worlds(a)}),[a]),Object(n.useEffect)((function(){if(e.deletionConfirmation)return t.emit("delete-project",{index:e.deletionIndex}),e.deletionChanger(!1),t.on("deletion-complete",u(!c)),function(){return t.off("deletion-complete")}}),[e.deletionConfirmation,e.deletionIndex,e.deletionChanger,t]),Object(m.jsx)(m.Fragment,{})},ke=function(e){Object(L.a)(r,e);var t=Object(W.a)(r);function r(){var e;Object(E.a)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={worlds:[],info:[],images:[],selectedWorldIndex:0,selectedWorldToDelete:0,numChildren:0,modalDeletionConfirmation:!1,deletionConfirmation:!1,worldSelected:null},e.getWorlds=function(t){for(var r=[],n=[],i=[],a=[],l=0;l<t.length;l++)for(var s=0;s<t[l].length;s++)"environment"===t[l][s].title?r.push(JSON.parse(t[l][s].content)):"info"===t[l][s].title?(n.push(JSON.parse(t[l][s].content)),i.push(JSON.parse(t[l][s].content).name)):"image"===t[l][s].title&&a.push(t[l][s].content);e.props.setListOfWorldNames(i),e.setState({worlds:r,info:n,images:a,numChildren:r.length})},e.selectWorld=function(t,r){"deleteButton"!==r&&"deleteIcon"!==r&&(t===e.state.worldSelected?(e.setState({worldSelected:null}),e.props.setProject(0)):(e.props.setListOfWorldVariables(e.getListOfWorldVariables(e.state.worlds[t])),e.setState({worldSelected:t}),e.props.setProject(e.state.worlds[t].project_id),e.props.setWorld({environment:e.state.worlds[t],info:e.state.info[t]})))},e.modifyWorld=function(t){e.props.setWorld({environment:e.state.worlds[t],info:e.state.info[t]})},e.clearWorld=function(){e.props.setWorld(null)},e.setModalDeletionConfirmation=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&null!==r&&e.setState({selectedWorldToDelete:r}),e.setState({modalDeletionConfirmation:t})},e.setDeletionConfirmation=function(t){e.setState({deletionConfirmation:t})},e.deleteWorld=function(){e.state.selectedWorldToDelete<e.state.worldSelected&&e.setState({worldSelected:e.state.worldSelected-1}),e.setModalDeletionConfirmation(!1),e.setDeletionConfirmation(!0)},e}return Object(M.a)(r,[{key:"componentDidUpdate",value:function(e,t,r){e.project!==this.props.project&&this.setState({worldSelected:this.getIndexOfProjectId(this.props.project)})}},{key:"getIndexOfProjectId",value:function(e){if(0===e)return null;for(var t=0;t<this.state.worlds.length;t++)if(this.state.worlds[t].project_id===e)return t;return this.state.worlds.length}},{key:"getListOfWorldVariables",value:function(e){for(var t=[[],[],[],[]],r=0;r<e.grid.locations.length;r++)t[0].push(e.grid.locations[r].id);for(var n=0;n<e.actions.length;n++)t[1].push(e.actions[n].name);for(var i=0;i<e.sensors.length;i++)t[2].push(e.sensors[i].name);for(var a=0;a<e.context.length;a++)t[3].push(e.context[a].name);return t}},{key:"render",value:function(){for(var e=this,t=[],r=function(r){t.push(Object(m.jsx)(Ce,{number:r,title:e.state.info[r].name,description:e.state.info[r].description,image:e.state.images[r],statIconName:e.props.info.goalComponent.editIconName,statSecondIconName:e.props.info.goalComponent.deleteIconName,statIconColor:e.props.info.goalComponent.iconColor,selected:e.state.worldSelected===r,onClick:function(t){return e.selectWorld(r,t.target.id)},modify:e.modifyWorld,delete:e.setModalDeletionConfirmation},r))},n=0;n<this.state.numChildren;n+=1)r(n);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ne,{worlds:this.getWorlds,deletionIndex:this.state.selectedWorldToDelete,deletionConfirmation:this.state.deletionConfirmation,deletionChanger:this.setDeletionConfirmation,projectAdded:this.props.projectAdded}),Object(m.jsx)(Ge,{clearWorld:this.clearWorld,children:t}),Object(m.jsxs)(S.g,{isOpen:this.state.modalDeletionConfirmation,toggle:function(){return e.setModalDeletionConfirmation(!1)},className:"custom-modal-dialog sm:c-m-w-70",children:[Object(m.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(m.jsx)("button",{"aria-hidden":!0,className:"close",onClick:function(){return e.setModalDeletionConfirmation(!1)},type:"button",children:Object(m.jsx)("i",{className:this.props.info.modal.close})}),Object(m.jsx)("h4",{className:"title title-up",children:this.props.info.modal.title})]}),Object(m.jsx)("div",{className:"modal-body justify-content-center text-center",children:Object(m.jsxs)("span",{children:[this.props.info.modal.content,void 0!==this.state.info[this.state.selectedWorldToDelete]&&this.state.info[this.state.selectedWorldToDelete].name]})}),Object(m.jsxs)(S.h,{children:[Object(m.jsx)(S.a,{color:this.props.info.modal.cancelColor,onClick:function(){return e.setModalDeletionConfirmation(!1)},children:this.props.info.modal.cancelText}),Object(m.jsx)(S.a,{color:this.props.info.modal.confirmColor,onClick:this.deleteWorld,children:this.props.info.modal.confirmText})]})]})]})}}]),r}(i.a.Component),Ge=function(e){return Object(m.jsx)("section",{className:"mt-5 mt-xl-2 pt-2 relative",children:Object(m.jsx)("div",{className:"px-4 md:px-10 mx-auto w-full",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)("div",{className:"w-full lg:w-6/12 xl:w-3/12 mt-8 ml-4 mr-4 px-4 relative flex flex-col min-w-0 break-words bg-lightBlue-600 rounded mb-6 xl:mb-0 shadow-lg opacity-1 transform duration-300 transition-all ease-in-out",children:Object(m.jsx)(s.b,{to:"/world",className:"hover-no-underline",onClick:e.clearWorld,children:Object(m.jsx)(X,{statText:"Build your Environment",statIconName:"fas fa-plus-square",statIconColor:"text-lightBlue-700"})})})}),Object(m.jsx)("div",{className:"flex flex-wrap justify-center",children:e.children})]})})})},Se={operators:["Conjunction","Composition","Disjunction","Refinement","Extension"],symbols:{conjunction:"circle",composition:"diamond",refinement:"vee"},refinementMessages:["Select the Abstract Goal","Select the Refined Goal","Please select only 2 Goals"],libraryWarning:"Please select only 1 Goal to extend",buttonText:"Apply Operator"};var Ie=function(e){var t=i.a.useState(!1),r=Object(d.a)(t,2),n=r[0],a=r[1],l=[];for(var s in e.goal.contract)e.goal.contract.hasOwnProperty(s)&&(l[Object.keys(e.goal.contract).indexOf(s)]=[],l[Object.keys(e.goal.contract).indexOf(s)].title=s,l[Object.keys(e.goal.contract).indexOf(s)].content=e.goal.contract[s]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"w-full mt-8 px-4 relative flex flex-col min-w-0 break-words bg-white rounded mb-6 opacity-1 transform duration-300 transition-all ease-in-out",children:Object(m.jsxs)("div",{className:"flex-auto p-4 pr-0",children:[Object(m.jsx)("div",{className:"flex",children:Object(m.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(m.jsx)("div",{className:"flex flex-wrap",children:Object(m.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:e.goal.name})})}),Object(m.jsxs)("div",{className:"flex flex-col flex-wrap w-full",children:[Object(m.jsx)("div",{className:"relative w-full pr-4 mt-2 mb-2 max-w-full flex-grow flex-1",children:Object(m.jsx)("span",{className:"text-md text-blueGray-700",children:e.goal.description})}),Object(m.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:e.goal.context.map((function(e,t){return Object(m.jsx)(z,{label:e,name:"context",readOnly:!0,checked:!0},t)}))})]})]})}),Object(m.jsx)("div",{className:"flex flex-col mt-4",children:Object(m.jsx)("div",{className:"relative w-full max-w-full flex-grow flex-1",children:Object(m.jsx)("div",{className:"overflow-hidden relative flex flex-col min-w-0 break-words bg-white w-full border-b border-blueGray-200",children:Object(m.jsx)(V,{contract:l,patterns:e.patterns,color:"lightBlue",setOpen:function(e){a(e)},defaultOpened:n})})})})]})}),Object(m.jsx)(S.h,{children:Object(m.jsx)("div",{className:"w-full flex justify-center",children:Object(m.jsx)(S.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText})})})]})},Fe=r(160),Ae=r.n(Fe),Be=function(e){Object(L.a)(r,e);var t=Object(W.a)(r);function r(){var e;Object(E.a)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={ready:!1,network:null},e.setReady=function(t){e.setState({ready:t})},e}return Object(M.a)(r,[{key:"shouldComponentUpdate",value:function(e,t,r){return this.props.active!==e.active||this.state!==t}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"bg-lightBlue-500 bg-opacity-25 w-50 shadow-md",children:[this.state.ready&&Object(m.jsx)(Ae.a,{graph:this.props.graph,options:this.props.options,events:this.props.events,getNetwork:function(t){e.setState({network:t})}}),this.props.active&&Object(m.jsx)(Te,{callBack:this.setReady})]})}}]),r}(i.a.Component),Te=function(e){Object(L.a)(r,e);var t=Object(W.a)(r);function r(){return Object(E.a)(this,r),t.apply(this,arguments)}return Object(M.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.callBack;setTimeout((function(){e(!0)}),1e3)}},{key:"render",value:function(){return null}}]),r}(i.a.Component);var Ee=function(e){var t=N(),r=Object(n.useCallback)((function(){e.setTrigger(!1)}),[e]),i=Object(n.useCallback)((function(t){e.setGoalsTrigger(t)}),[e]);return Object(n.useEffect)((function(){if(null!=t&&e.trigger)return t.emit("process-goals",{project:e.project}),t.on("cgg-production",r),t.on("cgg-saved",i),function(){return t.off("receive-cgg")}}),[t,e.trigger,e.project,r,i]),Object(m.jsx)(m.Fragment,{})};var Me=function(e){var t=N();return Object(n.useEffect)((function(){if(null!=t&&e.trigger){for(var r=[],n=JSON.parse(JSON.stringify(e.selectedGoals)),i=0;i<e.goals.length;i++)n.includes(i)&&(n.slice(n.indexOf(i),1),r.push(e.goals[i].id));for(var a=0;a<n.length;a++);switch(e.operator.toLowerCase()){case"conjunction":t.emit("apply-conjunction",{goals:e.selectedGoals});break;case"composition":t.emit("apply-composition",{goals:e.selectedGoals});break;case"disjunction":t.emit("apply-disjunction",{goals:e.selectedGoals});break;case"refinement":t.emit("apply-refinement",{abstract:e.selectedGoals[0],refined:e.selectedGoals[1]});break;case"extension":t.emit("apply-extension",{input:e.selectedGoals[0],library:e.library});break;default:return}return t.on("operation-complete",e.setTrigger(!1)),function(){return t.off("operation-complete")}}}),[t,e]),Object(m.jsx)(m.Fragment,{})};var Le=function(){return Object(m.jsxs)("fieldset",{className:"border w-64 mt-5 p-2 bg-white rounded shadow-md min-w-0 break-words absolute left-0 bottom-0",children:[Object(m.jsx)("legend",{className:" pl-2 w-auto",children:"CGG Legend"}),Object(m.jsxs)("div",{className:"flex items-center pl-4 py-1",children:[Object(m.jsx)("div",{className:"box-content bg-indigo-200 border-indigo-500 h-5 w-10 border-2 rounded-lg"}),Object(m.jsx)("span",{className:"ml-4 font-bold uppercase text-blueGray-700",children:"Created goals"})]}),Object(m.jsxs)("div",{className:"flex items-center pl-4 py-1",children:[Object(m.jsx)("div",{className:"box-content bg-white border-emerald-500 h-5 w-10 border-2 rounded-lg"}),Object(m.jsx)("span",{className:"ml-4 font-bold uppercase text-blueGray-700",children:"Initial goals"})]}),Object(m.jsxs)("div",{className:"flex items-center pl-4  ",children:[Object(m.jsxs)("svg",{className:"pl-1 w-10",viewBox:"0 20 80 50",children:[Object(m.jsx)("line",{x1:"0",y1:"50",x2:"50",y2:"50",stroke:"#000",strokeWidth:"6"}),Object(m.jsx)("polygon",{points:"50 35, 50 65, 80 50"})]}),Object(m.jsx)("span",{className:"font-bold ml-4 uppercase text-blueGray-700",children:"Refinement link"})]}),Object(m.jsxs)("div",{className:"flex items-center pl-4 ",children:[Object(m.jsxs)("svg",{className:"pl-1 w-10",viewBox:"0 20 80 50",children:[Object(m.jsx)("line",{x1:"0",y1:"50",x2:"50",y2:"50",stroke:"#000",strokeWidth:"6"}),Object(m.jsx)("circle",{cx:"60",cy:"50",r:"15",stroke:"black",strokeWidth:"3"})]}),Object(m.jsx)("span",{className:"font-bold ml-4 uppercase text-blueGray-700",children:"Composition link"})]}),Object(m.jsxs)("div",{className:"flex items-center pl-4 ",children:[Object(m.jsxs)("svg",{className:"pl-1 w-10",viewBox:"0 20 80 50",children:[Object(m.jsx)("line",{x1:"0",y1:"50",x2:"50",y2:"50",stroke:"#000",strokeWidth:"6"}),Object(m.jsx)("polygon",{points:"40 50, 60 35, 80 50, 60 65"})]}),Object(m.jsx)("span",{className:"font-bold ml-4 uppercase text-blueGray-700",children:"Conjunction link"})]})]})};var We=function(e){var t=i.a.useState(null),r=Object(d.a)(t,2),n=r[0],a=r[1],l=[];if(null!=e.goals)for(var s=function(t){0===t?l.push(Object(m.jsx)("li",{className:"border-b-1 border-t-1 text-blueGray-700 text-lg py-1 hover:bg-blueGray-100 cursor-pointer",onClick:function(){return e.clickOnGoal2(t)},children:e.goals[t].name},t)):l.push(Object(m.jsx)("li",{className:"border-b-1 text-blueGray-700 text-lg py-1 hover:bg-blueGray-100 cursor-pointer",onClick:function(){return e.clickOnGoal2(t)},children:e.goals[t].name},t))},o=0;o<e.goals.length;o+=1)s(o);for(var c=[],u="",h=function(e){var t=!0;u="border-b-1 text-blueGray-700 text-lg py-1 cursor-pointer",0===e&&(u+=" border-t-1"),e===n?(u+=" bg-blueGray-200 hover:bg-blueGray-300",t=!1,console.log(t)):u+="  hover:bg-blueGray-100",c.push(Object(m.jsxs)("li",{className:u,onClick:function(){return r=e,void a({select:t}?r:null);var r},children:["library_",e]},e))},b=0;b<1e3;b+=1)h(b);return Object(m.jsxs)("div",{className:"w-full lg:w-5/12 xl:w-6/12 flex-col",children:[Object(m.jsx)("div",{className:"ml-12 px-3 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg mb-12",children:Object(m.jsxs)("div",{className:"flex flex-col justify-center p-4 pr-0",children:[Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:"Input Goals"}),Object(m.jsx)("div",{className:"overflow-auto max-h-200-px pt-3 px-5",children:Object(m.jsx)("ul",{children:l})}),Object(m.jsx)("div",{className:"flex flex-col m-auto py-2 uppercase",children:Object(m.jsx)(j,{onClick:function(){return e.callCGG("auto")},children:"Build CGG"})})]})}),Object(m.jsx)("div",{className:"ml-12 px-3 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg",children:Object(m.jsxs)("div",{className:"flex flex-col justify-center p-4 pr-0",children:[Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:"Libraries"}),Object(m.jsx)("div",{className:"overflow-auto max-h-200-px pt-3 px-5",children:Object(m.jsx)("ul",{children:c})}),Object(m.jsx)("div",{className:"flex flex-col m-auto py-2 uppercase ",children:Object(m.jsx)(j,{children:"Map to library"})})]})})]})},Pe=r(161),ze=r.n(Pe),De=function(e){Object(L.a)(r,e);var t=Object(W.a)(r);function r(){var e;Object(E.a)(this,r);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={modalGoal:!1,modalNode:!1,parentNodes:null,currentGoalIndex:0,cgg:!1,cggTab:null,operator:null,selectedGoals:[],selectedLibrary:null,library:null,triggerOperation:!1,triggerCGG:!1},e.setModalGoal=function(t){e.setState({modalGoal:t})},e.setModalNode=function(t){e.setState({modalNode:t})},e.setCurrentGoalIndex=function(t){e.setState({currentGoalIndex:t})},e.setParentNodes=function(t){e.setState({parentNodes:t})},e.callCGG=function(t){"auto"===t&&e.setState({triggerCGG:!0})},e.setOperator=function(t){e.setState({operator:t})},e.setSelectedGoals=function(t){e.setState({selectedGoals:t})},e.setLibrary=function(t){e.setState({selectedLibrary:t})},e.applyOperator=function(){e.setTriggerOperation(!0)},e.setTriggerOperation=function(t){t||e.setTriggerCGG(!0),e.setState({triggerOperation:t})},e.setTriggerCGG=function(t){e.setState({triggerCGG:t})},e.setGoalsTrigger=function(t){e.setState({cggTab:t}),e.setState({triggerCGG:!1,cgg:!0},(function(){return e.props.toggleGoalsTrigger()}))},e.addGoalAlreadyHere=function(e,t){for(var r=0;r<e.goals.length;r++)t.push({id:e.goals[r].id,label:e.goals[r].name}),t[t.length-1].group=e.goals[r].hasOwnProperty("group")?e.goals[r].group:"input"},e.addCombinedGoal=function(t){for(var r=0,n=0;n<e.state.cggTab.nodes.length;n++){for(var i=0;i<t.length;i++)t[i].id===e.state.cggTab.nodes[n].id&&(r=1);0===r&&t.push({id:e.state.cggTab.nodes[n].id,label:"goal"+n}),r=0}},e.clickOnGoal2=function(t){console.log("wsh"),e.setModalGoal(!0),e.setCurrentGoalIndex(t)},e.addEdges=function(t){for(var r=0;r<e.state.cggTab.edges.length;r++)t.push({from:e.state.cggTab.edges[r].from,to:e.state.cggTab.edges[r].to,arrows:{to:{type:Se.symbols[e.state.cggTab.edges[r].link.toLowerCase()]}}})},e}return Object(M.a)(r,[{key:"render",value:function(){var e=this,t=this;function r(e){if(null!==t.props.goals)for(var r=0;r<t.props.goals.length;r++)if(t.props.goals[r].id===e)return{index:r,goal:t.props.goals[r]}}var n=[],i=[];this.state.cgg&&(this.addGoalAlreadyHere(t.props,n),this.addCombinedGoal(n),this.addEdges(i));var a={nodes:n,edges:i},l={doubleClick:function(e){console.log(e),0!==e.nodes.length&&function(e){var n=r(e[0]);if(console.log(n),void 0===n||n.goal.hasOwnProperty("group")){var i=e[0].split("/\\"),a=r(i[0]),l=r(i[1]);console.log(a),t.setModalNode(!0),t.setParentNodes([a,l])}else t.setModalGoal(!0),t.setCurrentGoalIndex(n.index)}(e.nodes)}};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ee,{session:this.props.id,project:this.props.project,trigger:this.state.triggerCGG,setTrigger:this.setTriggerCGG,setGoalsTrigger:this.setGoalsTrigger}),Object(m.jsx)(Me,{operator:this.state.operator,goals:this.props.goals,selectedGoals:this.state.selectedGoals,library:this.state.selectedLibrary,trigger:this.state.triggerOperation,setTrigger:this.setTriggerOperation}),this.state.cgg&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"relative flex flex-auto mt-4",children:[Object(m.jsx)(Be,{active:this.props.active,graph:a,options:{layout:{hierarchical:!0},edges:{color:"#000000",arrows:{to:{scaleFactor:1}}},nodes:{shape:"box"},groups:{input:{color:{border:"#00bb00",background:"#ffffff",highlight:{border:"#88bb88",background:"#ccccee"}}},new:{color:{border:"#00bb00",background:"#00bb00",highlight:{border:"#88bb88",background:"#bbffbb"}}},library:{color:{border:"#ffbb00",background:"#ffffff",highlight:{border:"#ffbb88",background:"#eeeecc"}}}},height:"750px",autoResize:!0},events:l}),Object(m.jsx)(We,{callCGG:this.callCGG,clickOnGoal2:this.clickOnGoal2,goals:this.props.goals}),Object(m.jsx)(Le,{})]}),Object(m.jsx)(S.g,{isOpen:this.state.modalNode,toggle:function(){return e.setModalNode(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:null!==this.props.goals&&this.state.parentNodes&&Object(m.jsxs)(m.Fragment,{children:["This goal is generated with ",this.state.parentNodes[0].goal.name," and ",this.state.parentNodes[1].goal.name]})})]}),!this.state.cgg&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"flex flex-auto mt-4",children:[Object(m.jsx)("div",{className:"bg-lightBlue-500 bg-opacity-25 w-50 shadow-md flex items-center justify-center",style:{width:750,height:750},children:this.state.triggerCGG&&Object(m.jsx)(ze.a,{type:"spinningBubbles",color:"#fff"})}),Object(m.jsx)(We,{callCGG:this.callCGG,clickOnGoal2:this.clickOnGoal2,goals:this.props.goals})]})}),Object(m.jsx)(S.g,{isOpen:this.state.modalGoal,toggle:function(){return e.setModalGoal(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:null!==this.props.goals&&void 0!==this.props.goals[this.state.currentGoalIndex]&&Object(m.jsx)(Ie,Object(c.a)({goal:this.props.goals[this.state.currentGoalIndex],close:function(){return e.setModalGoal(!1)},patterns:this.props.patterns},be))})]})}}]),r}(i.a.Component),Re={colors:["#0000FF","#FF0000","#8FF484","#FF00FF","#FFFF00","#00FFFF","#FF8800","#0088FF","#66FFB2","#8800FF","#FF0088","#445588","#660066","#FF0044","#44FF00","#FF4400","#004499","#00FF44","#F8844F","#F8F484","#488F4F","#484FF8","#8F484F","#00FF00","#F4488F","#F48F84","#8F844F","#336688","#F0B666","#D96547","#2277DD","#886633"]},Ye={mainTitle:"Build Your Environment",gridSize:"Size of the Grid",errorMsg:{gridTooSmall:"The retracted size is too small, clear before decreasing the size",wallInsideBlock:"You can't create a wall within a block",wallLine:"Select a line or a column where you want to put a wall",splitLocations:"You can't have a location that would be split"},help:{title:"How to do?",messages:[{title:"How to create a Location?",content:"Click on a first cell, then click on the opposite corner of the location you want. You will need to enter the id of the location you just created to see it appear."},{title:"How to delete a Location?",content:"In the list of locations, click on the cross corresponding to the location you want to delete."},{title:"How to create a Wall?",content:"Click on a first wall, then click on the opposite side of the wall you want to create."},{title:"How to delete a Wall?",content:"Create a new wall on top of the one you want to delete."}]},componentsList:[{content:[],title:"Locations"},{content:[],title:"Actions",displayAddButton:!0},{content:[],title:"Sensors",displayAddButton:!0},{content:[],title:"Context",displayAddButton:!0}],buttons:{clear:"Clear",save:"Save",update:"Update",back:{text:"Back to Crome",color:"white",icon:"fas fa-long-arrow-alt-left"}},modal:{world:{title:"Edit Element",modal:{mutex:"Exclusive with :",close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",saveText:"Save",saveColor:"info"}},saving:{title:"Save Environment",modal:{close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",saveText:"Save",saveColor:"info"}},inputId:{title:"Enter Location ID",modal:{close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",saveText:"Save",saveColor:"info"}}}};function Je(e,t){return"number"===typeof e?e:t}var Ue=Math.floor,Ve=function(e,t){return JSON.stringify(e)===JSON.stringify(t)};function Qe(e,t,r){this.x=e,this.y=t,this.backgroundColor=r||null,this.blocked=!1}function qe(e,t,r,n){n=n||{},this.canvas=e,this.ctx=e.getContext("2d"),this.width=2*Ue(t),this.height=2*Ue(r);var i=n.padding;if("undefined"===typeof i&&(i=0),this.padding="number"===typeof i?{top:i,right:i,bottom:i,left:i}:i,this.cellSize=Je(n.cellSize,25),this.cellSizeWall=Je(n.cellSize,5),this.cellSpacing=Je(n.cellSpacing,2),this.drawBorder=!!n.drawBorder,this.borderColor=n.borderColor||"lightgrey",this.backgroundColor=n.backgroundColor||"white",this.nodeDown=void 0,this.countUp=0,this.drag=!1,this.locations=new Map,n.resizeCanvas){var a=this.padding.left+this.padding.right,l=this.padding.top+this.padding.bottom;a+=this.width*(this.cellSize+this.cellSizeWall+this.cellSpacing),l+=this.height*(this.cellSize+this.cellSizeWall+this.cellSpacing)-2*this.cellSize,this.drawBorder&&(a+=2*this.cellSpacing,l+=2*this.cellSpacing),this.canvas.width=a,this.canvas.height=l}this.nodes=[];for(var s=0;s<this.height+1;++s)for(var o=0;o<this.width+1;++o)this.nodes.push(new Qe(o,s,null));var c=this;function d(e,t){e-=c.padding.left,t-=c.padding.top,c.drawBorder&&(e-=2*c.cellSpacing,t-=2*c.cellSpacing);for(var r=2*c.cellSpacing+2*c.cellSizeWall,n=[r],i=[r],a=0;a<c.width;a+=2)r+=2*c.cellSize,n.push(r),i.push(r),r+=2*c.cellSizeWall+c.cellSpacing,n.push(r),i.push(r),r+=c.cellSpacing;var l=0;for(e>n[0]&&(l=1);e>=n[l];)l++;var s=0;for(t>i[0]&&(s=1);t>=i[s];)s++;return l>=0&&l<c.width+3*c.cellSizeWall&&s>=0&&s<c.height+3*c.cellSizeWall?c.nodes[s*(c.width+1)+l]:null}this.onclick=n.onclick,e.addEventListener("mousedown",(function(e){if(c.onclick){var t=d(e.offsetX,e.offsetY);t.y%2===0&&t.x%2===0||(c.drag=!0,c.nodeDown||t&&(c.nodeDown=t,c.onclick(t)))}})),e.addEventListener("mouseup",(function(e){if(c.onclick){var t=d(e.offsetX,e.offsetY);c.drag=!1,t&&(t.y%2===0&&t.x%2===0&&0===c.countUp?c.restoreColorNode():c.nodeDown!==t||1===c.countUp?(c.nodeDown=void 0,c.restoreColorNode(),c.countUp=0,c.onclick(t)):c.countUp=1),c.draw()}})),e.addEventListener("mousemove",(function(e){if(c.drag){var t=d(e.offsetX,e.offsetY);c.restoreColorNode();var r=t.x,n=t.x,i=t.y,a=t.y;if(r<c.nodeDown.x?n=c.nodeDown.x:r=c.nodeDown.x,i<c.nodeDown.y?a=c.nodeDown.y:i=c.nodeDown.y,c.nodeDown.x%2===0){if(c.nodeDown.x===t.x){i%2!==1&&i++,a%2!==1&&a--;for(var l=i;l<=a;l++)c.nodes[l*(c.width+1)+t.x].backgroundColor="lightgray"}}else if(c.nodeDown.y%2===0){if(c.nodeDown.y===t.y){r%2!==1&&r++,n%2!==1&&n--;for(var s=r;s<=n;s++)c.nodes[t.y*(c.width+1)+s].backgroundColor="lightgray"}}else{r%2!==1&&r++,n%2!==1&&n--,i%2!==1&&i++,a%2!==1&&a--;for(var o=r;o<=n;o++)for(var u=i;u<=a;u++)c.nodes[u*(c.width+1)+o].backgroundColor="lightgray"}c.draw()}}))}Qe.prototype={toString:function(){return"<node x="+this.x+" y="+this.y+" blocked="+this.blocked+">"}};var Xe,He,Ke=[],Ze=Re.colors,_e=new Array(Ze.length).fill(!1),$e=[],et=[],tt=[],rt=[],nt={x:!1,y:!1},it=[];qe.prototype={draw:function(){var e=this.cellSize,t=this.cellSizeWall,r=this.cellSpacing,n=this.ctx,i=0,a=this.drawBorder?this.cellSpacing:-this.cellSpacing,l=this.drawBorder?this.cellSpacing:0;n.save(),n.fillStyle=this.borderColor,n.fillRect(this.padding.left,this.padding.top,(e+t+r)*this.width+2*t+2*r+a,(e+t+r)*this.height+2*t+2*r+a);for(var s=this.padding.top+l,o=0;o<this.height+1;++o){for(var c=this.padding.left+l,d=0;d<this.width+1;++d){var u=this.nodes[i++];n.fillStyle=u.backgroundColor||this.backgroundColor,c=o%2===1?this.drawNode(d,n,c,s,r,2*e,2*e,2*t,2*e):this.drawNode(d,n,c,s,r,2*e,2*t,2*t,2*t)}s+=o%2===1?2*e+r:2*t+r}},drawNode:function(e,t,r,n,i,a,l,s,o){return e%2===1?(t.fillRect(r,n,a,l),r+=a+i):(t.fillRect(r,n,s,o),r+=s+i),r},get:function(e,t){return this.nodes[t*(this.width+1)+e]},getStart:function(){return $e},getStartWall:function(){return tt},getEnd:function(){return et},getEndWall:function(){return rt},getPreviousStartColor:function(){return He},getPreviousColorWall:function(){return Xe},getBackgroundColor:function(e,t){return this.nodes[t*(this.width+1)+e].backgroundColor},getIdTable:function(){return Ke},setPreviousStartColor:function(e){He=e},setPreviousColorWall:function(e){Xe=e},setBackgroundColor:function(e,t,r){this.nodes[t*(this.width+1)+e].backgroundColor=r,this.draw()},setBackgroundColorWall:function(e,t,r){"black"===r?this.setColorIdBlocked(e,t,"white",!1,null):this.setColorIdBlocked(e,t,"black",!0,null)},setClickedNode:function(e,t){nt.x=e,nt.y=t},chooseBackgroundColor:function(){for(var e=0;e<_e.length;e++)if(!1===_e[e])return _e[e]=!0,Ze[e];return!1},resetInColorTable:function(){for(var e=0;e<_e.length;e++)_e[e]=!1},setInColorTable:function(e,t){for(var r=0;r<_e.length;r++)Ze[r]===e&&(_e[r]=t)},getRandomColor:function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e},cancelFirstClick:function(){for(var e=this.getLimits(),t=e.minX;t<e.maxX+1;t+=1)for(var r=e.minY;r<e.maxY+1;r+=1)this.setBackgroundColor(t,r,it[t][r-e.minY]);return this.setBackgroundColor($e[0],$e[1],He),this.reset(),this.restoreColorNode(),this.nodes},getLimits:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getStart(),r=this.getEnd();return e&&(r.push(nt.x),r.push(nt.y)),{minX:this.min(t[0],r[0])[0],maxX:this.min(t[0],r[0])[1],minY:this.min(t[1],r[1])[0],maxY:this.min(t[1],r[1])[1]}},getPreviousColorArray:function(){for(var e=[],t=this.getLimits(),r=this.getStart(),n=t.minX;n<t.maxX+1;n+=1){e[n]=[];for(var i=t.minY;i<t.maxY+1;i+=1)e[n].push(this.getBackgroundColor(n,i))}return e[r[0]][r[1]-t.minY]=He,e},setSelectionInGray:function(){for(var e=this.getLimits(!0),t=e.minX;t<e.maxX+1;t+=1){it[t]=[];for(var r=e.minY;r<e.maxY+1;r+=1)it[t].push(this.getBackgroundColor(t,r)),this.setBackgroundColor(t,r,"#9b9b9b")}},askToColor:function(e,t,r,n,i,a,l,s){if(null===e||""===e)return this.cancelFirstClick(),this.reset(),!1;var o,c=this.isID(e);o=!1!==c?Ke[c][1]:this.chooseBackgroundColor();for(var d=[],u=t;u<r+1;u+=1)for(var h=i;h<n+1;h+=1)d.push([e,u,h]);if(this.validMap(l,d,o)){for(var b=t;b<r+1;b+=1)for(var f=i;f<n+1;f+=1)this.checkNeighbour(b,f,o),this.setColorIdBlocked(b,f,o,!0,e);return this.reset(),[o,e]}return this.cancelFirstClick(),s(Ye.errorMsg.splitLocations),this.reset(),!1},isBlocked:function(e,t){return this.nodes[t*(this.width+1)+e].blocked},setBlocked:function(e,t,r){this.nodes[t*(this.width+1)+e].blocked=!!r},setAttribute:function(e,t,r,n){this.nodes[t*(this.width+1)+e][r]=n,!1===this.isID(n)&&"white"!==this.getBackgroundColor(e,t)&&"black"!==this.getBackgroundColor(e,t)&&Ke.push([n,this.getBackgroundColor(e,t)])},removeAttribute:function(e){if(!1!==this.isID(e)){var t=this.isID(e),r=Ke[t][1];this.setInColorTable(r,!1);for(var n=0;n<this.width;n++)for(var i=0;i<this.height;i++)this.getAttribute(n,i,"id")===e&&this.setColorIdBlocked(n,i,"white",!1,null);return this.clearAttribute(e),this.draw(),!0}return!1},isID:function(e){for(var t=0;t<Ke.length;t++)if(Ke[t][0]===e)return t;return!1},clearAttribute:function(e){for(var t=-1,r=0;r<Ke.length;r++)Ke[r][0]===e&&(t=r);var n=Ke[t];Ke[t]=Ke[Ke.length-1],Ke[Ke.length-1]=n,Ke.pop()},getAttribute:function(e,t,r){return this.nodes[t*(this.width+1)+e][r]},clearAttributeTable:function(){Ke=[],_e=new Array(Ze.length).fill(!1)},checkNeighbour:function(e,t,r){var n=[];this.getBackgroundColor(e,t)!==r&&(this.getBackgroundColor(e+1,t)!==r&&"black"!==this.getBackgroundColor(e+1,t)&&"white"!==this.getBackgroundColor(e+1,t)&&(this.setColorIdBlocked(e+1,t,"white",!1,null),n.push(e+1)),this.getBackgroundColor(e-1,t)!==r&&"black"!==this.getBackgroundColor(e-1,t)&&"white"!==this.getBackgroundColor(e-1,t)&&(this.setColorIdBlocked(e-1,t,"white",!1,null),n.push(e-1)),this.getBackgroundColor(e,t-1)!==r&&"black"!==this.getBackgroundColor(e,t-1)&&"white"!==this.getBackgroundColor(e,t-1)&&(this.setColorIdBlocked(e,t-1,"white",!1,null),n.push(t-1)),this.getBackgroundColor(e,t+1)!==r&&"black"!==this.getBackgroundColor(e,t+1)&&"white"!==this.getBackgroundColor(e,t+1)&&(this.setColorIdBlocked(e,t+1,"white",!1,null),n.push(t+1)),2===n.length&&this.setColorIdBlocked(n[0],n[1],"white",!1,null),4===n.length&&(this.setColorIdBlocked(n[0],n[2],"white",!1,null),this.setColorIdBlocked(n[1],n[3],"white",!1,null),this.setColorIdBlocked(n[0],n[3],"white",!1,null),this.setColorIdBlocked(n[1],n[2],"white",!1,null)))},setColorIdBlocked:function(e,t,r,n,i){this.setBackgroundColor(e,t,r),this.setBlocked(e,t,n),null!==i?this.setAttribute(e,t,"id",i):this.setAttribute(e,t,"id",""),this.draw()},errorMessage:function(e,t){this.setBackgroundColor(e[0],e[1],t)},min:function(e,t){var r,n,i=[];return e<t?(r=e,n=t):(r=t,n=e),i.push(r),i.push(n),i},resetCellWall:function(e,t,r,n){this.setBackgroundColor(e[0],e[1],r),null!==t&&this.setBackgroundColor(t[0],t[1],n),this.draw(),this.reset()},reset:function(){$e=[],et=[],tt=[],rt=[]},getListColor:function(e,t){for(var r=[],n=1;n<e.length;n+=2)for(var i=1;i<e[0].length;i+=2)e[n][i][2]===t&&r.push([n,i]);return r},coordInArray:function(e,t){for(var r=0;r<e.length;r++)if(Ve(e[r],t))return!0;return!1},validColor:function(e,t,r){var n=this.getListColor(e,t);if(0!==n.length){for(var i=0;i<r.length;i++)if(this.coordInArray(n,[r[i][1],r[i][2]]))return!0;return!1}return!0},valid:function(e,t){return Ve(e[e.length-1],t)?1:this.coordInArray(e,t)?this.valid(e,[t[0]+2,t[1]])+this.valid(e,[t[0],t[1]+2]):0},validColorSplit:function(e,t){var r=this.getListColor(e,t);return this.valid(r,r[0])>=1},validMap:function(e,t,r){if(!this.validColor(e,t[0][0],t))return!1;for(var n=[],i=0;i<e.length;++i){n[i]=[];for(var a=0;a<e[0].length;++a)n[i].push([e[i][a][0],e[i][a][1],e[i][a][2]])}for(var l=0;l<t.length;l++)n[t[l][1]][t[l][2]]=[r,!0,t[l][0]];for(var s=0;s<Ke.length;s++)if(!this.validColorSplit(n,Ke[s][0]))return!1;return!0},actualiseIsColorTable:function(){for(var e=0;e<Ke.length;e++){var t=Ke[e][1],r=Ze.indexOf(t);_e[r]=!0}},drawCorner:function(e){for(var t=2;t<e.length-1;t+=2)for(var r=2;r<e.length-1;r+=2)"black"!==e[t-1][r][0]&&"black"!==e[t+1][r][0]||"black"!==e[t][r-1][0]&&"black"!==e[t][r+1][0]||this.setColorIdBlocked(t,r,"black",!0,null)},updateMap:function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e[0].length;r++)e[t][r]=[this.getBackgroundColor(t,r),this.isBlocked(t,r),this.getAttribute(t,r,"id")]},addLocation:function(e){this.locations.set(e[1],e[0])},delLocation:function(e){this.locations.delete(e)},restoreColorNode:function(){for(var e=0;e<this.nodes.length;e++)"lightgray"===this.nodes[e].backgroundColor&&(""!==this.nodes[e].id?this.nodes[e].backgroundColor=this.locations.get(this.nodes[e].id):this.nodes[e].backgroundColor="white")}};var at=qe,lt=r.p+"static/media/robot1.39e2b3fc.png",st=r(162),ot=function(e){Object(L.a)(r,e);var t=Object(W.a)(r);function r(e){var n;return Object(E.a)(this,r),(n=t.call(this,e)).state={table:null,running:!1},n.myCanvas=i.a.createRef(),n.map=[],n.world=null,n.tab=[],n.index=0,n.timer=null,n.x=null,n.y=null,n.robotButton=i.a.createRef(),n}return Object(M.a)(r,[{key:"componentDidUpdate",value:function(e,t,r){null!==this.props.world&&(this.generateGridworldWithJSON(),this.generate()),this.props.active&&this.drawRobot()}},{key:"generateGridworldWithJSON",value:function(){var e,t,r,n,i=this.props.world.environment,a=i.grid.locations;this.map=this.buildMap(this.map,i.size.width/2);for(var l=0;l<a.length;l++)for(var s=0;s<a[l].coordinates.length;s++)e=2*a[l].coordinates[s].x-1,t=2*a[l].coordinates[s].y-1,this.map[e][t]=[a[l].color,!0,a[l].id];this.displayWall("horizontal",i),this.displayWall("vertical",i);for(var o=1;o<i.size.width;o++)for(var c=1;c<i.size.width;c++)o%2===1&&c%2===1||this.checkNeighbour(this.map,o,c);for(var d=2;d<i.size.width;d+=2)for(var u=2;u<i.size.width;u+=2)this.checkNeighbour(this.map,d,u);for(var h=2;h<i.size.width;h+=2)(n=this.map[h-1][0][0])===this.map[h+1][0][0]&&"white"!==n&&(this.map[h][0]=this.map[h-1][0]);for(var b=2;b<i.size.width;b+=2)(r=this.map[0][b-1][0])===this.map[0][b+1][0]&&"white"!==r&&(this.map[0][b]=this.map[0][b-1]);this.world=this.buildGrid(this.myCanvas.current,i.size.width/2,this.map)}},{key:"buildMap",value:function(e,t){e=[];for(var r=0;r<2*t+1;r++){e[r]=[];for(var n=0;n<2*t+1;n++)e[r].push(["white",!1,null])}return e}},{key:"displayWall",value:function(e){var t,r,n,i,a=this.props.world.environment.grid.walls[e];"horizontal"===e?(n="left",i="right"):(n="up",i="down");for(var l=0;l<a.length;l++)t=(2*a[l][n].x-1+(2*a[l][i].x-1))/2,r=(2*a[l][n].y-1+(2*a[l][i].y-1))/2,this.map[t][r]=["black",!0,null]}},{key:"checkNeighbour",value:function(e,t,r){var n=this.map[t-1][r][0],i=this.map[t][r-1][0];n===this.map[t+1][r][0]&&"white"!==n?this.map[t][r]=this.map[t-1][r]:i===this.map[t][r+1][0]&&"white"!==i&&(this.map[t][r]=this.map[t][r-1])}},{key:"launchRobot",value:function(){this.timer=setInterval(this.robot,1e3)}},{key:"drawRobot",value:function(){document.getElementsByClassName("line")[this.index].style.background="yellow";var e=new Image;e.src=lt;var t=document.getElementById("canvas").getContext("2d");this.x=32*Math.trunc(this.tab[this.index][0]-1)+24,this.y=32*Math.trunc(this.tab[this.index][1]-1)+24,t.drawImage(e,this.x,this.y,50,50)}},{key:"robot",value:function(e){var t=document.getElementsByClassName("line"),r=document.getElementById("canvas").getContext("2d");if(1===this.index&&-1===e&&this.drawPreviousCase(r,1),t[this.index].style.background="transparent",this.index+=e,this.index===this.tab.length)return this.drawPreviousCase(r,1),this.clear(),void(null!==this.timer&&(clearInterval(this.timer),this.timer=null));if(this.index>0)this.drawPreviousCase(r,this.index-1);else if(this.index<0)return void this.clear();this.drawRobot()}},{key:"run",value:function(){var e=this;this.state.running?(clearInterval(this.timer),this.timer=null,this.setState({running:!1})):(this.timer=setInterval((function(){e.robot(1)}),1e3),this.setState({running:!0}))}},{key:"drawPreviousCase",value:function(e,t){e.fillRect(this.x,this.y,50,50),this.world.setBackgroundColor(this.tab[t][0],this.tab[t][1],this.map[this.tab[t][0]][this.tab[t][1]][0])}},{key:"clear",value:function(){var e=document.getElementsByClassName("line"),t=document.getElementById("canvas").getContext("2d");this.index===this.tab.length?(this.drawPreviousCase(t,this.index-1),e[this.index-1].style.background="transparent"):this.index<0?(this.drawPreviousCase(t,this.index+1),e[this.index+1].style.background="transparent"):(this.drawPreviousCase(t,this.index),e[this.index].style.background="transparent"),this.index=0,this.robot(0)}},{key:"buildGrid",value:function(e,t,r){0===r.length&&(this.map=this.buildMap(r,t));var n=new at(e,t,t,{padding:{top:10,left:10,right:10,bottom:60},resizeCanvas:!0,drawBorder:!0});n.onclick=function(e){};for(var i=0;i<2*t+1;i++)for(var a=0;a<2*t+1;a++)n.setColorIdBlocked(i,a,r[i][a][0],r[i][a][1],r[i][a][2]);return n}},{key:"generate",value:function(){var e=this.props.world.environment.grid.locations,t=st.a,r="<tr> <th>T</th> <th>CONTEXT</th> <th>CONTROLLER</th> <th>INPUTS</th> <th>OUTPUTS</th> </tr>";this.tab=[];for(var n=0;n<t.length;n++){r+="<tr class='line' ><td>"+t[n].t+"</td>",r+="<td>"+t[n].context+"</td>",r+="<td>"+t[n].controller+"</td>",r+="<td>"+t[n].inputs+"</td>",r+="<td>"+t[n].outputs+"</td></tr>";for(var i=t[n].outputs.split(",")[0],a=0;a<e.length;a++)if(e[a].id===i){var l=e[a].coordinates[0].x,s=e[a].coordinates[e[a].coordinates.length-1].x,o=e[a].coordinates[0].y,c=e[a].coordinates[e[a].coordinates.length-1].y;this.tab.push([l+s-1,o+c-1])}}document.getElementById("synthesisTable").innerHTML=r}},{key:"render",value:function(){var e=this;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)("div",{className:"flex flex-col items-center",children:Object(m.jsxs)("div",{className:"w-full ml-4 flex",children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{children:Object(m.jsx)("canvas",{className:"shifted-canvas-margin",ref:this.myCanvas,id:"canvas"})}),Object(m.jsxs)("div",{className:"flex mt-4 justify-end items-center",children:[Object(m.jsxs)("div",{className:"flex h-fit",children:[Object(m.jsx)(j,{color:"amber",className:"text-xl",onClick:function(){return e.clear()},children:"Reset"}),Object(m.jsx)(j,{color:"emerald",onClick:function(){return e.run()},children:Object(m.jsx)("i",{className:"text-xl "+(this.state.running?this.props.info.buttons.pause:this.props.info.buttons.run)})})]}),Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)(j,{color:"lightBlue",onClick:function(){return e.robot(-1)},children:Object(m.jsx)("i",{className:"text-xl "+this.props.info.buttons.up})}),Object(m.jsx)(j,{color:"red",onClick:function(){return e.robot(1)},children:Object(m.jsx)("i",{className:"text-xl "+this.props.info.buttons.down})})]})]})]}),Object(m.jsx)("div",{children:Object(m.jsx)("table",{id:"synthesisTable",className:"ml-4"})})]})})})})})}}]),r}(i.a.Component),ct={textColor:"text-white",iconColor:"text-orange-300",iconNameBack:"fas fa-chevron-left",iconNameContinue:"fas fa-chevron-right",backText:"Back",continueText:"Continue"};function dt(e){var t,r,n=e.toggleNew,i=e.open,a=e.itemsLength,l=e.type,s=e.noProject;return"back"===l?(t=0===i,r=i-1<0?a-1:i-1):(t=3===i||s,r=i+1>a-1?0:i+1),Object(m.jsx)("a",{href:"#/index",className:(t?"hover:no-underline cursor-default ":"")+ct.textColor+" text-center opacity-85 hover:opacity-100 transition-opacity duration-150 ease-linear w-12 text-xl z-50",onClick:function(e){return n(e,r)},children:Object(m.jsxs)("div",{children:["back"===l&&Object(m.jsx)("i",{className:ct.iconColor+" "+ct.iconNameBack+" mr-2"}),Object(m.jsx)("span",{className:(t?"opacity-40 ":"hover:underline ")+"text-2xl",children:"back"===l?ct.backText:ct.continueText}),"continue"===l&&Object(m.jsx)("i",{className:ct.iconColor+" "+ct.iconNameContinue+" ml-2"})]})})}function ut(e){var t=e.world,r=e.items,n=e.defaultOpened,a=e.id,l=e.setWorld,s=e.setListOfWorldNames,o=i.a.useState(n),u=Object(d.a)(o,2),h=u[0],f=u[1],x=i.a.useState(!1),p=Object(d.a)(x,2),j=p[0],g=p[1],v=i.a.useState(!1),O=Object(d.a)(v,2),w=O[0],y=O[1],C=i.a.useState(null),N=Object(d.a)(C,2),k=N[0],G=N[1],I=i.a.useState(null),F=Object(d.a)(I,2),E=F[0],M=F[1],L=i.a.useState(null),W=Object(d.a)(L,2),P=W[0],z=W[1],D=i.a.useState(!1),R=Object(d.a)(D,2),Y=R[0],J=R[1],U=i.a.useState(!1),V=Object(d.a)(U,2),Q=V[0],q=V[1],X=i.a.useState(null),H=Object(d.a)(X,2),K=H[0],Z=H[1],_=i.a.useState(!1),$=Object(d.a)(_,2),ee=$[0],te=$[1],re=i.a.useState(!1),ne=Object(d.a)(re,2),ie=ne[0],ae=ne[1],le=i.a.useState([!0,!1,!1,!1]),se=Object(d.a)(le,2),oe=se[0],ce=se[1];function de(e){G(e),J(!Y)}function ue(){te(!ee)}function he(e){ae(e)}function be(e){M(e)}var fe=function(e,t){if(1===h&&2===t&&he(!0),(1!==t||0!==k)&&(0!==h||3!==t)&&(3!==h||0!==t)&&!Q){q(!0);for(var r=0;r<oe.length;r++)oe[r]=!1;oe[t]=!0,ce(oe),e.preventDefault(),w||j||(g(!0),setTimeout((function(){f(t)}),500),setTimeout((function(){g(!1),y(!0)}),600),setTimeout((function(){y(!1),q(!1)}),1100))}};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ve,Object(c.a)(Object(c.a)({},Oe),{},{states:oe})),Object(m.jsxs)("div",{className:"flex justify-evenly relative top--30 pt-4",children:[Object(m.jsx)("div",{children:Object(m.jsx)(dt,{open:h,toggleNew:fe,itemsLength:r.length,type:"back"})}),Object(m.jsx)("div",{id:"continueArrow",children:Object(m.jsx)(dt,{open:h,toggleNew:fe,itemsLength:r.length,type:"continue",noProject:0===k})}),0===k&&Object(m.jsx)(S.n,{delay:0,placement:"bottom",target:"continueArrow",children:Object(m.jsx)("span",{children:"Select an Environment to continue"})})]}),Object(m.jsxs)("div",{className:"px-4 md:px-6 mx-auto w-full -mt-24",children:[Object(m.jsx)("div",{className:"mt-12 relative pb-32",children:Object(m.jsx)("div",{className:"relative w-full overflow-hidden",children:Object(m.jsx)("div",{children:r.map((function(e,r){return Object(m.jsx)("div",{className:b()("p-6 transform duration-300 transition-all ease-in-out mx-auto",{hidden:r!==h,block:r===h,"opacity-0 scale-95":r===h&&j,"opacity-100 scale-100":r===h&&w}),children:Object(m.jsx)("div",{className:"container mx-auto px-4",children:{world:Object(m.jsx)(ke,Object(c.a)({id:a,setListOfWorldNames:s,setListOfWorldVariables:Z,projectAdded:Y,project:k,setProject:G,setWorld:l},B)),goal:Object(m.jsx)(pe,Object(c.a)(Object(c.a)({id:a},A),{},{project:k,setGoals:be,setPatterns:z,triggerGetGoals:ee,toggleGetTrigger:ue,listOfWorldVariables:K,setProject:function(e){return de(e)},triggerGoalsChecked:ie,swapTriggerGoalsChecked:he})),analysis:Object(m.jsx)(De,{id:a,active:oe[2],project:k,goals:E,toggleGoalsTrigger:ue,patterns:P},k),synthesis:Object(m.jsx)(ot,Object(c.a)(Object(c.a)({world:t},T),{},{active:oe[3]}))}[e.component]})},r)}))})})}),Object(m.jsx)(we,Object(c.a)({},ye))]})]})}ut.defaultProps={defaultOpened:0,items:[]};var ht={brand:{text:"CROME",image:r(340).default,link:{href:"#/index"}},activeColor:"lightBlue",items:[{divider:!0},{title:"CROME"},{icon:"fas fa-tv",text:"Run CROME",link:{href:"#/index"}}]},bt={defaultOpened:0,items:[{component:"world"},{component:"goal"},{component:"analysis"},{component:"synthesis"}]};function ft(e,t){var r="CROME-"+e,i=Object(n.useState)((function(){var n=localStorage.getItem(r);if("undefined"===n){var i=Object(v.v4)();return localStorage.setItem(e,JSON.stringify(i)),i}return null!=n?JSON.parse(n):"function"===typeof t?t():t})),a=Object(d.a)(i,2),l=a[0],s=a[1];return Object(n.useEffect)((function(){localStorage.setItem(r,JSON.stringify(l))}),[r,l]),[l,s]}var mt=r(44),xt=r(20),pt={copyright:{href:"https://www.creative-tim.com/?ref=npr-footeradmin",target:"_blank",children:"Copyright \xa9 "+(new Date).getFullYear()+" Creative Tim"},links:[{href:"https://www.creative-tim.com?ref=npr-footeradmin",target:"_blank",children:"Creative Tim"},{href:"https://www.creative-tim.com/presentation?ref=npr-footeradmin",target:"_blank",children:"About Us"},{href:"https://www.creative-tim.com/blog/?ref=npr-footeradmin",target:"_blank",children:"Blog"},{href:"https://www.creative-tim.com/license?ref=npr-footeradmin",target:"_blank",children:"Licenses"}]};function jt(e){var t=e.copyright,r=e.links;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("footer",{className:"block py-4",children:Object(m.jsxs)("div",{className:"container mx-auto px-4",children:[Object(m.jsx)("hr",{className:"mb-4 border-b-1 border-blueGray-200"}),Object(m.jsxs)("div",{className:"flex flex-wrap items-center md:justify-between justify-center",children:[Object(m.jsx)("div",{className:"w-full md:w-4/12 px-4",children:Object(m.jsxs)("div",{className:"text-center mb-2 md:text-left md:mb-0",children:[t&&t.to&&Object(m.jsx)(s.b,Object(c.a)(Object(c.a)({},t),{},{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left"})),t&&void 0===t.to&&Object(m.jsx)("a",Object(c.a)(Object(c.a)({},t),{},{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left"}))]})}),Object(m.jsx)("div",{className:"w-full md:w-8/12 px-4",children:Object(m.jsx)("ul",{className:"flex flex-wrap list-none md:justify-end  justify-center",children:r.map((function(e,t){return Object(m.jsxs)("li",{children:[e.to&&Object(m.jsx)(s.b,Object(c.a)(Object(c.a)({},e),{},{className:"text-blueGray-700 hover:text-blueGray-900 text-sm font-semibold block py-1 px-3"})),void 0===e.to&&Object(m.jsx)("a",Object(c.a)(Object(c.a)({},e),{},{className:"text-blueGray-700 hover:text-blueGray-900 text-sm font-semibold block py-1 px-3"}))]},t)}))})})]})]})})})}jt.defaultProps={copyright:{},links:[]};var gt=function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("i",{className:"text-2xl "+e.statIconName,style:{color:e.color}})}),Object(m.jsx)("td",{className:"text-center",children:e.name}),Object(m.jsx)("td",{children:Object(m.jsx)(S.a,{className:"btn-icon float-right",color:"danger",size:"sm",type:"button",onClick:e.onClick,children:Object(m.jsx)("i",{className:e.deleteIconName})})})]})};var vt=function(e){return Object(m.jsx)("div",{className:"mx-12 my-3 px-4 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg",children:Object(m.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(m.jsxs)(S.k,{responsive:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("th",{colSpan:e.colspan,className:"title-up text-center",children:e.title})})}),Object(m.jsx)("tbody",{children:e.content})]}),e.displayAddButton&&Object(m.jsx)("div",{className:"flex flex-col m-auto pb-2",children:Object(m.jsx)(j,{color:"lightBlue",onClick:e.addLine,children:Object(m.jsx)("i",{className:"text-xl fas fa-plus-square"})})})]})})},Ot={colors:[["#F8844F","#F8F484","#488F4F","#484FF8","#8F484F","#00FF00","#F4488F","#F48F84","#8F844F","#004499","#00FF44","#336688","#F0B666","#D96547","#2277DD","#886633","#0000FF","#FF0000","#8FF484","#FF00FF","#FFFF00","#00FFFF","#FF8800","#0088FF","#66FFB2","#8800FF","#FF0088","#445588","#660066","#FF0044","#44FF00","#FF4400"],["#0088FF","#66FFB2","#8800FF","#8F484F","#00FF00","#F4488F","#F48F84","#8F844F","#336688","#F0B666","#D96547","#FF0088","#445588","#660066","#FF0044","#44FF00","#FF4400","#004499","#00FF44","#F8844F","#F8F484","#488F4F","#484FF8","#2277DD","#886633","#0000FF","#FF0000","#8FF484","#FF00FF","#FFFF00","#00FFFF","#FF8800"],["#8FF484","#FF00FF","#FFFF00","#00FFFF","#FF8800","#0088FF","#66FFB2","#8800FF","#445588","#660066","#FF0044","#44FF00","#FF4400","#FF0088","#F8844F","#F8F484","#488F4F","#484FF8","#8F484F","#00FF00","#F4488F","#F48F84","#8F844F","#004499","#00FF44","#336688","#F0B666","#D96547","#2277DD","#886633","#0000FF","#FF0000"]]};var wt=function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("div",{className:"grid grid-template-2",children:e.colors.map((function(t,r){return Object(m.jsxs)("span",{children:[Object(m.jsx)("i",{id:"tooltipMutex"+e.list+"-"+e.number+"-"+r,className:"text-2xl "+e.statIconName,style:{color:Ot.colors[e.list][t]}}),Object(m.jsx)(S.n,{delay:0,placement:"left",target:"tooltipMutex"+e.list+"-"+e.number+"-"+r,children:Object(m.jsxs)("div",{className:"flex flex-col text-left",children:["Mutex group ",t]})})]},r)}))})}),Object(m.jsx)("td",{className:"text-break",children:e.name}),Object(m.jsx)("td",{className:"whitespace-nowrap w-1 pr-0",children:Object(m.jsx)(S.a,{className:"btn-icon mr-1 float-right",color:"info",size:"sm",type:"button",onClick:e.onEdit,children:Object(m.jsx)("i",{className:e.editIconName})})}),Object(m.jsx)("td",{children:Object(m.jsx)(S.a,{className:"btn-icon float-right",color:"danger",size:"sm",type:"button",onClick:e.onDelete,children:Object(m.jsx)("i",{className:e.deleteIconName})})})]})};var yt=function(e){var t=e.element,r=JSON.parse(JSON.stringify(e.mutexList));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(m.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(m.jsx)("i",{className:e.info.modal.close})}),Object(m.jsx)("h4",{className:"title title-up",children:e.info.title})]}),Object(m.jsxs)("div",{className:"modal-body justify-content-center",onKeyPress:function(n){"Enter"===n.key&&e.validName(t)&&e.save(t,r)},children:[Object(m.jsx)(Z,{type:"text",placeholder:"Name *",autoComplete:"off",name:"name",value:t||"",onChange:function(r){if("name"===r.target.name)t=r.target.value;e.edit(t)},autoFocus:!0}),(e.list.length>1||e.number>0)&&Object(m.jsx)("h4",{className:"title title-up mb-3",children:e.info.modal.mutex}),Object(m.jsx)("div",{className:"flex flex-col mt-1",children:e.list.map((function(t,n){return n!==e.number&&Object(m.jsx)(z,{label:t,name:"mutex",checked:r.includes(e.list[n]),onChange:function(){return function(t){r.includes(e.list[t])?r.splice(r.indexOf(e.list[t]),1):r.push(e.list[t]),r.sort(),e.editMutex(r)}(n)}},n)}))})]}),Object(m.jsxs)(S.h,{children:[Object(m.jsx)(S.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText}),Object(m.jsx)(S.a,{color:e.info.modal.saveColor,disabled:!e.validName(t),onClick:function(){return e.save(t,r)},children:e.info.modal.saveText})]})]})};function Ct(e,t){return e.length===t.length&&e.every((function(e,r){return e===t[r]}))}var Nt=function(e){var t=i.a.useState(JSON.parse(JSON.stringify(e.element))),r=Object(d.a)(t,1)[0];function n(t){switch(t.target.name){case"name":r.name=t.target.value;break;case"description":r.description=t.target.value}e.edit(r)}function a(e,t){if("simple gridworld"===t.toLowerCase())return!0;if(null!=e)for(var r=0;r<e.length;r++)if(e[r].toLowerCase()===t.toLowerCase())return!0;return!1}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(m.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(m.jsx)("i",{className:e.info.modal.close})}),Object(m.jsx)("h4",{className:"title title-up",children:e.info.title})]}),Object(m.jsxs)("div",{className:"modal-body justify-content-center",onKeyPress:function(t){"Enter"!==t.key||""===r||a(e.listOfNames,r.name)||e.save(r)},children:[Object(m.jsx)(Z,{type:"text",placeholder:"Name *",autoComplete:"off",name:"name",value:r.name,onChange:n}),Object(m.jsx)("span",{className:"text-red-500 "+(a(e.listOfNames,r.name)?"ml-2":""),children:a(e.listOfNames,r.name)?"This project name already exists":""}),Object(m.jsx)(Z,{type:"textarea",placeholder:"Description",autoComplete:"off",name:"description",value:r.description,onChange:n})]}),Object(m.jsxs)(S.h,{children:[Object(m.jsx)(S.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText}),Object(m.jsx)(S.a,{color:e.info.modal.saveColor,disabled:""===r.name||a(e.listOfNames,r.name),onClick:function(){return e.save(r)},children:e.info.modal.saveText})]})]})};var kt=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(m.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(m.jsx)("i",{className:e.info.modal.close})}),Object(m.jsx)("h4",{className:"title title-up",children:e.info.title})]}),Object(m.jsx)("div",{className:"modal-body justify-content-center",onKeyPress:function(t){"Enter"===t.key&&e.validName(e.element,!0)&&e.save()},children:Object(m.jsx)(Z,{type:"text",placeholder:"Name *",autoComplete:"off",name:"name",value:e.element,onChange:function(t){return e.edit(t.target.value)},autoFocus:!0})}),Object(m.jsxs)(S.h,{children:[Object(m.jsx)(S.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText}),Object(m.jsx)(S.a,{color:e.info.modal.saveColor,disabled:!e.validName(e.element,!0),onClick:function(){return e.save()},children:e.info.modal.saveText})]})]})},Gt=r(163);function St(e){var t=Object(n.createRef)(),r=Object(n.createRef)(),i=N(),a=Object(Gt.a)({type:"image/jpeg",quality:1}),l=Object(d.a)(a,2),s=(l[0],l[1]);Object(n.useEffect)((function(){null===e.currentRef&&null!==t.current&&e.setRef(t)}),[t]),Object(n.useEffect)((function(){null!==e.project&&c()}),[e.project]);var o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.emit("save-image",{image:t.split(",")[1],project:e.project}),e.resetProject(),e.goToIndex()},c=function(){return s(r.current).then(o)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{children:Object(m.jsx)("div",{ref:r,children:Object(m.jsx)("canvas",{className:"shifted-canvas-margin",ref:t,id:"canvas"})})})})}var It=function(e){Object(L.a)(r,e);var t=Object(W.a)(r);function r(e){var n;return Object(E.a)(this,r),(n=t.call(this,e)).state={lists:[[],[],[],[]],editedLists:[[],[],[],[]],mutexGroups:[[],[],[]],mutexList:[],colors:[],numChildren:[0,0,0,0],errorMsg:"",warningPop:!1,currentList:0,currentIndex:0,savingInfos:{name:"",description:""},currentIdInput:"",modalClassic:!1,modalSaving:!1,modalLocationId:!1,node:!1,gridJson:null,environmentToBeSaved:null,myCanvas:null,started:!1,locations:[]},n.setModalClassic=function(e){e||n.setState({editedLists:n.state.lists}),n.setState({modalClassic:e})},n.setModalSaving=function(e){e||(null===n.props.world?n.setState({savingInfos:{name:"",description:""}}):n.setState({savingInfos:n.props.world.info})),n.setState({modalSaving:e})},n.setModalLocationId=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)n.world.setSelectionInGray();else if(n.setState({currentIdInput:""}),!t){for(var r=n.world.cancelFirstClick(),i=0;i<n.map.length;i++)for(var a=0;a<n.map.length;a++)n.map[i][a][0]=r[i*n.map.length+a].backgroundColor;n.world.draw()}n.setState({modalLocationId:e})},n.callbackMap=function(e){n.map=e},n.updateErrorMsg=function(e){""!==e?(n.setState({errorMsg:e,warningPop:!0}),setTimeout((function(){n.setState({warningPop:!1})}),4e3)):n.setState({warningPop:!1})},n.editSavingInfos=function(e){n.setState({savingInfos:e})},n.saveWorld=function(){n.setModalSaving(!1),n.props.saveEnvironment(n.state.savingInfos,n.state.environmentToBeSaved)},n.goToIndex=function(){n.inputElement.click()},n.getListWithoutElement=function(e,t){var r=JSON.parse(JSON.stringify(e));return r.splice(r.indexOf(t),1),r},n.onAddLocation=function(e,t){var r=n.state.lists,i=n.state.colors;if(!r[0].includes(e)){r[0].push(e),i.push(t);var a=n.state.numChildren;a[0]++,n.setState({lists:r,editedLists:r,colors:i,numChildren:a})}},n.onAddLine=function(e){var t=JSON.parse(JSON.stringify(n.state.lists));t[e].push(""),n.setState({editedLists:t},(function(){return n.editLine(e,n.state.numChildren[e])}))},n.editLine=function(e,t){n.setState({currentList:e,currentIndex:t},(function(){return n.setState({mutexList:n.getMutexElements(n.state.editedLists[e][t])},(function(){return n.setModalClassic(!0)}))}))},n.addAllLocations=function(e){var t=n.state.lists,r=[];t[0]=[];for(var i=0;i<e.length;i++)t[0].includes(e[i].id)||(t[0].push(e[i].id),r.push(e[i].color));var a=n.state.numChildren;a[0]=e.length,n.setState({lists:t,colors:r,numChildren:a})},n.addAllElements=function(e,t){var r=n.state.lists,i=n.state.mutexGroups;r[t]=[],i[t-1]=[];for(var a=0;a<e.length;a++)if(r[t].push(e[a].name),void 0!==e[a].mutex_group&&Array.isArray(e[a].mutex_group))for(var l=0;l<e[a].mutex_group.length;l++)void 0===i[t-1][e[a].mutex_group[l]]&&(i[t-1][e[a].mutex_group[l]]=[]),i[t-1][e[a].mutex_group[l]].push(e[a].name);var s=n.state.numChildren;s[t]=e.length,n.setState({lists:r,numChildren:s,mutexGroups:i})},n.editCurrentElement=function(e){n.setState((function(t){return{editedLists:t.editedLists.map((function(t,r){return r===n.state.currentList?t.map((function(t,r){return r===n.state.currentIndex?e:t})):t}))}}))},n.saveCurrentElement=function(e,t){if(n.state.currentIndex>=n.state.numChildren[n.state.currentList]){var r=n.state.lists,i=n.state.numChildren;r[n.state.currentList].push(""),i[n.state.currentList]++,n.setState({lists:r,numChildren:i})}n.setState((function(t){return{lists:t.lists.map((function(t,r){return r===n.state.currentList?t.map((function(t,r){return r===n.state.currentIndex?(n.deleteEveryMutexOccurrenceOf(t),e):t})):t}))}}),(function(){n.setState({editedLists:n.state.lists}),n.updateMutexArray(e,t)})),n.setModalClassic(!1)},n.deleteElement=function(e,t){var r=n.state.lists,i=n.state.numChildren;if(0===e){var a=n.state.colors;a.splice(t,1),n.setState({colors:a}),n.removeId(n.state.lists[e][t]),n.state.locations=n.state.locations.filter((function(r){return r[1]!==n.state.lists[e][t]})),n.world.delLocation(n.state.lists[e][t])}else n.deleteEveryMutexOccurrenceOf(n.state.lists[e][t],e);n.componentsList[e].content.splice(t,1),r[e].splice(t,1),i[e]--,n.setState({lists:r,editedLists:r,numChildren:i,currentList:e},(function(){0!==e&&n.cleanMutexGroups()}))},n.deleteAllElements=function(){for(var e=n.state.lists,t=n.state.numChildren,r=0;r<e[0].length;r++)n.removeId(e[0][r]);for(var i=0;i<e.length;i++)e[i]=[],t[i]=0,n.componentsList[i].content=[];n.setState({lists:e,editedLists:e,mutexGroups:[[],[],[]],colors:[],numChildren:t})},n.clearEnvironment=function(){n.deleteAllElements(),n.clearGridworld()},n.editCurrentIdInput=function(e){n.setState({currentIdInput:e})},n.validName=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(""===e)return!1;for(var r=n.state.lists,i=t?1:0,a=t?0:n.state.currentList;i<r.length;i++)for(var l=0;l<r[i].length;l++)if(r[i][l]===e&&(i!==a||l!==n.state.currentIndex))return!1;return!0},n.updateMutexArray=function(e,t){n.deleteEveryMutexOccurrenceOf(e);for(var r=!0,i=n.state.mutexGroups[n.state.currentList-1],a=0;a<i.length;a++)if(i[a].sort(),Ct(i[a],t)){i[a].push(e),r=!1;break}if(r)if(0===t.length)i.push([e]);else for(var l=0;l<t.length;l++)i.push([e,t[l]]);n.cleanMutexGroups()},n.deleteEveryMutexOccurrenceOf=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t||n.state.currentList,i=n.state.mutexGroups[r-1],a=0;a<i.length;a++){var l=i[a].indexOf(e);-1!==l&&i[a].splice(l,1)}},n.cleanMutexGroups=function(){for(var e=n.state.mutexGroups,t=e[n.state.currentList-1],r=[],i={},a=0;a<t.length;a++){var l=JSON.stringify(t[a]);i[l]||"[]"===l||(r.push(t[a]),i[l]=!0)}r=function(e){var t,r,n,i=[];for(var a in e){for(var l in t=!0,e)a!==l&&e.hasOwnProperty(l)&&e.hasOwnProperty(a)&&(r=e[l],n=e[a],r.join("|").includes(n.join("|"))&&(t=!1));t&&e.hasOwnProperty(a)&&i.push(e[a])}return i}(r),e[n.state.currentList-1]=r,n.setState({mutexGroups:e})},n.getMutexElements=function(e){var t=[],r=n.state.mutexGroups[n.state.currentList-1];if(n.state.currentList>0)for(var i=0;i<r.length;i++)if(r[i].includes(e))for(var a=0;a<r[i].length;a++)t.includes(r[i][a])||r[i][a]===e||t.push(r[i][a]);return t},n.setMutexList=function(e){n.setState({mutexList:e})},n.getEveryIndexOf=function(e,t){for(var r=[],i=n.state.mutexGroups[t-1],a=0;a<i.length;a++)i[a].includes(e)&&i[a].length>1&&r.push(a);return r},n.setRef=function(e){n.setState({myCanvas:e.current})},n.drawLocation=function(){var e=n.world.getLimits(),t=n.world.getPreviousColorArray(),r=n.world.askToColor(n.state.currentIdInput,e.minX,e.maxX,e.maxY,e.minY,t,n.map,n.updateErrorMsg);if(n.world.updateMap(n.map),n.world.addLocation(r),!1!==r){var i=r[0],a=r[1];null!==document.getElementById(a)&&""!==document.getElementById(a).innerHTML||(n.onAddLocation(a,i),n.removeCoveredLocations(e,a),n.state.locations.push([e,a]))}n.setModalLocationId(!1,!0)},n.setNode=function(e){n.setState({node:e},(function(){return n.setModalLocationId(!0)}))},n.test=i.a.createRef(),n.saveInToJSON=n.saveInToJSON.bind(Object(xt.a)(n)),n.map=[],n.clearGridworld=n.clearGridworld.bind(Object(xt.a)(n)),n.removeId=n.removeId.bind(Object(xt.a)(n)),n.world=null,n.size=8,n.componentsList=[],n.projectId=null,n}return Object(M.a)(r,[{key:"starting",value:function(){this.setState({started:!0}),this.map=this.buildMap(this.map,this.size),this.deleteAllElements(),null!==this.props.world?(this.setState({savingInfos:this.props.world.info}),this.generateGridworldWithJSON()):this.generateGridworld()}},{key:"componentDidUpdate",value:function(e,t,r){null===this.state.myCanvas||this.state.started||(this.starting(),this.setState({started:!0})),this.listOfNames=[],null!==this.props.world&&(this.listOfNames=this.getListWithoutElement(this.props.worldNames,this.props.world.info.name)),null!==this.props.returnedProjectId&&this.inputElement.scrollIntoView()}},{key:"componentWillUnmount",value:function(){}},{key:"generateGridworld",value:function(){null!==this.world&&(this.world.onclick=null),this.world=this.buildGrid(this.state.myCanvas,this.size,this.map,this.onAddLocation,this.callbackMap,this.updateErrorMsg,this.setNode),this.world.clearAttributeTable()}},{key:"generateGridworldWithJSON",value:function(){var e,t,r,n,i=this.props.world.environment,a=i.grid.locations,l=i.actions,s=i.sensors,o=i.context;this.map=this.buildMap(this.map,i.size.width/2);for(var c=0;c<a.length;c++)for(var d=0;d<a[c].coordinates.length;d++)e=2*a[c].coordinates[d].x-1,t=2*a[c].coordinates[d].y-1,this.map[e][t]=[a[c].color,!0,a[c].id];this.displayWall("horizontal",i),this.displayWall("vertical",i);for(var u=1;u<i.size.width;u++)for(var h=1;h<i.size.width;h++)u%2===1&&h%2===1||this.checkNeighbour(this.map,u,h);for(var b=2;b<i.size.width;b+=2)for(var f=2;f<i.size.width;f+=2)this.checkNeighbour(this.map,b,f);for(var m=2;m<i.size.width;m+=2)(n=this.map[m-1][0][0])===this.map[m+1][0][0]&&"white"!==n&&(this.map[m][0]=this.map[m-1][0]);for(var x=2;x<i.size.width;x+=2)(r=this.map[0][x-1][0])===this.map[0][x+1][0]&&"white"!==r&&(this.map[0][x]=this.map[0][x-1]);this.projectId=i.project_id,this.addAllLocations(a),this.addAllElements(l,1),this.addAllElements(s,2),this.addAllElements(o,3),null!==this.world&&(this.world.onclick=null),this.size=i.size.width/2,this.world=this.buildGrid(this.state.myCanvas,i.size.width/2,this.map,this.onAddLocation,this.callbackMap,this.updateErrorMsg,this.setNode),this.world.actualiseIsColorTable()}},{key:"buildGrid",value:function(e,t,r,n,i,a,l){0===r.length&&(this.map=this.buildMap(r,t));var s=new at(e,t,t,{padding:{top:10,left:10,right:10,bottom:60},resizeCanvas:!0,drawBorder:!0});s.clearAttributeTable(),s.onclick=function(e){a("");var t=s.getStart(),n=s.getStartWall(),o=s.getEndWall(),c=s.getPreviousStartColor(),d=s.getPreviousColorWall();if(0===n.length||0===t.length){if(e.x%2===1&&e.y%2===1)if(0!==t.length)s.setClickedNode(e.x,e.y),l(e);else{if(0!==n.length)return void s.resetCellWall(n,null,d,null);t.push(e.x),t.push(e.y),s.setPreviousStartColor(s.getBackgroundColor(t[0],t[1])),s.setBackgroundColor(e.x,e.y,"lightgray")}else if(e.x%2===0&&e.y%2===1||e.x%2===1&&e.y%2===0)if(0!==n.length){var u,h;if(o.push(e.x),o.push(e.y),n[0]===o[0]&&n[1]===o[1])"black"===d?(s.setColorIdBlocked(n[0],n[1],"white",!1,null),s.reset(),s.updateMap(r)):"white"!==d&&null!==d||(s.setColorIdBlocked(n[0],n[1],"black",!0,null),s.reset(),s.updateMap(r));else if(n[0]===o[0]){if(n[0]%2===1)return a(Ye.errorMsg.wallLine),s.errorMessage(n,d),void s.resetCellWall(n,null,d,null);u=s.min(n[1],o[1])[0],h=s.min(n[1],o[1])[1];for(var b=u;b<h+1;b+=1)if(s.isBlocked(n[0],b)&&"black"!==s.getBackgroundColor(n[0],b)&&"black"!==d)return a(Ye.errorMsg.wallInsideBlock),s.errorMessage(n,d),void s.resetCellWall(n,null,d,null);for(var f=u;f<h+1;f+=1)s.setBackgroundColorWall(n[0],f,d);s.updateMap(r)}else if(n[1]===o[1]){if(n[1]%2===1)return a(Ye.errorMsg.wallLine),s.errorMessage(n,d),void s.resetCellWall(n,null,d,null);u=s.min(n[0],o[0])[0],h=s.min(n[0],o[0])[1];for(var m=u;m<h+1;m+=1)if(s.isBlocked(m,n[1])&&"black"!==s.getBackgroundColor(m,n[1])&&"black"!==d)return a(Ye.errorMsg.wallInsideBlock),s.errorMessage(n,d),void s.resetCellWall(n,null,d,null);for(var x=u;x<h+1;x+=1)s.setBackgroundColorWall(x,n[1],d);s.updateMap(r)}else s.setBackgroundColor(n[0],n[1],"white"),a(Ye.errorMsg.wallLine);s.reset()}else{if(0!==t.length)return void s.resetCellWall(t,null,c,null);if(n.push(e.x),n.push(e.y),s.setPreviousColorWall(s.getBackgroundColor(n[0],n[1])),"white"!==s.getBackgroundColor(e.x,e.y)&&"black"!==s.getBackgroundColor(e.x,e.y))return a(Ye.errorMsg.wallInsideBlock),void s.reset();s.setBackgroundColor(e.x,e.y,"lightgray")}s.drawCorner(r),i(r),s.updateMap(r)}else s.resetCellWall(t,n,c,d)},a("");for(var o=0;o<2*t+1;o++)for(var c=0;c<2*t+1;c++)s.setColorIdBlocked(o,c,r[o][c][0],r[o][c][1],r[o][c][2]);return s}},{key:"buildMap",value:function(e,t){e=[];for(var r=0;r<2*t+1;r++){e[r]=[];for(var n=0;n<2*t+1;n++)e[r].push(["white",!1,null])}return e}},{key:"replaceLocation",value:function(e,t){var r,n=Object(mt.a)(this.state.locations);try{for(n.s();!(r=n.n()).done;){var i=r.value;t===i[1]&&((e.minX<i[0].minX||e.minY<i[0].minY)&&(i[0].minX=e.minX,i[0].minY=e.minY),(e.maxX>i[0].maxX||e.maxY>i[0].maxY)&&(i[0].maxX=e.maxX,i[0].maxY=e.maxY),this.removeCoveredLocations(i[0],i[1]))}}catch(a){n.e(a)}finally{n.f()}}},{key:"removeCoveredLocations",value:function(e,t){var r,n=Object(mt.a)(this.state.locations);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(t!==i[1]&&e.minX<=i[0].minX&&e.minY<=i[0].minY&&e.maxX>=i[0].maxX&&e.maxY>=i[0].maxY){var a=this.state.locations.indexOf(i);this.deleteElement(0,a)}}}catch(l){n.e(l)}finally{n.f()}}},{key:"modifyGridSize",value:function(e){this.size+=e;for(var t=this.map,r=0,n=this.map.length,i=this.map[0].length,a=0,l=0;l<this.map.length;l++)for(var s=0;s<this.map[0].length;s++)"white"!==this.map[l][s][0]&&(n=this.end(n,l,this.map[l][s][0],n>=l),i=this.end(i,s,this.map[l][s][0],i>=s),r=this.end(r,l,this.map[l][s][0],r<=l),a=this.end(a,s,this.map[l][s][0],a<=s));var o=r-n+1,c=a-i+1,d=2*this.size+1-o,u=2*this.size+1-c;if(d<=0||u<=0)this.updateErrorMsg(Ye.errorMsg.gridTooSmall),this.size-=e;else{var h=Math.trunc(d/2),b=Math.trunc(u/2);h=this.shift(h,n),b=this.shift(b,i),this.map=[],this.map=this.buildMap(this.map,this.size);for(var f=h;f<h+o;f++)for(var m=b;m<b+c;m++)this.map[f][m]=t[n+f-h][i+m-b];this.world.onclick=null,this.world=this.buildGrid(this.state.myCanvas,this.size,this.map,this.onAddLocation,this.callbackMap,this.updateErrorMsg,this.setNode)}}},{key:"end",value:function(e,t,r,n){return!n||e===t&&"black"===r||(e=t),e}},{key:"shift",value:function(e,t){return e%2!==t%2&&e++,e}},{key:"checkNeighbour",value:function(e,t,r){var n=this.map[t-1][r][0],i=this.map[t][r-1][0];n===this.map[t+1][r][0]&&"white"!==n?this.map[t][r]=this.map[t-1][r]:i===this.map[t][r+1][0]&&"white"!==i&&(this.map[t][r]=this.map[t][r-1])}},{key:"displayWall",value:function(e,t){var r,n,i,a,l=t.grid.walls[e];"horizontal"===e?(i="left",a="right"):(i="up",a="down");for(var s=0;s<l.length;s++)r=(2*l[s][i].x-1+(2*l[s][a].x-1))/2,n=(2*l[s][i].y-1+(2*l[s][a].y-1))/2,this.map[r][n]=["black",!0,null]}},{key:"removeId",value:function(e){this.world.removeAttribute(e),this.world.updateMap(this.map),this.world.reset()}},{key:"clearGridworld",value:function(){this.world.clearAttributeTable(),this.world.resetInColorTable(),this.state.myCanvas.getContext("2d").clearRect(0,0,this.state.myCanvas.width,this.state.myCanvas.height),this.map=this.buildMap(this.map,this.size),this.world.onclick=null,this.world=this.buildGrid(this.state.myCanvas,this.size,this.map,this.onAddLocation,this.callbackMap,this.updateErrorMsg,this.setNode)}},{key:"saveInToJSON",value:function(){var e=this,t=this.world.getIdTable(),r={filetype:"environment",project_id:this.projectId};r.size={width:2*this.size,height:2*this.size},r.grid={locations:[],walls:{horizontal:[],vertical:[]}};for(var n=0;n<t.length;n++)r.grid.locations.push({coordinates:[],color:t[n][1],id:t[n][0]});for(var i=0;i<this.map.length;i++)for(var a=0;a<this.map[0].length;a++)if("white"!==this.map[i][a][0]&&null!==this.map[i][a][2]&&i%2===1&&a%2===1){var l=this.world.isID(this.map[i][a][2]);r.grid.locations[l].coordinates.push({x:Math.trunc(i/2)+1,y:Math.trunc(a/2)+1})}else"black"===this.map[i][a][0]&&(i%2===1&&a%2===0?r.grid.walls.vertical.push({up:{x:Math.trunc(i/2)+1,y:a/2},down:{x:Math.trunc(i/2)+1,y:a/2+1}}):i%2===0&&a%2===1&&r.grid.walls.horizontal.push({left:{x:i/2,y:Math.trunc(a/2)+1},right:{x:i/2+1,y:Math.trunc(a/2)+1}}));for(var s=0;s<t.length;s++)r.grid.locations[s].adjacency=this.getAdjacencyTable(r.grid.locations,s);for(var o=["actions","sensors","context"],c=1;c<this.state.lists.length;c++){r[o[c-1]]=[];for(var d=0;d<this.state.lists[c].length;d++){r[o[c-1]][d]={name:this.state.lists[c][d]};var u=this.getEveryIndexOf(this.state.lists[c][d],c);u.length>0&&(r[o[c-1]][d].mutex_group=u)}}this.setState({environmentToBeSaved:r},(function(){return e.setModalSaving(!0)}))}},{key:"getAdjacencyTable",value:function(e,t){for(var r=[],n=0;n<e.length;n++)t!==n&&this.isAdjacent(e[t].coordinates,e[n].coordinates)&&r.push(e[n].id);return r}},{key:"isAdjacent",value:function(e,t){for(var r=0;r<e.length;r++)for(var n=0;n<t.length;n++)if(Math.abs(e[r].x-t[n].x)+Math.abs(e[r].y-t[n].y)===1)return!0;return!1}},{key:"render",value:function(){var e=this;this.componentsList=Ye.componentsList;for(var t=function(t){var r=[];r[1]=e.state.lists[0][t],r[0]=e.state.colors[t],e.world.addLocation(r),e.componentsList[0].content[t]=Object(m.jsx)(gt,{name:e.state.lists[0][t],onClick:function(){return e.deleteElement(0,t)},color:e.state.colors[t],statIconName:"fas fa-square",deleteIconName:"now-ui-icons ui-1_simple-remove"},t)},r=0;r<this.state.numChildren[0];r+=1)t(r);for(var n=function(t){for(var r=function(r){e.componentsList[t].content[r]=Object(m.jsx)(wt,{number:(t-1)*e.state.numChildren[t]+r,name:e.state.lists[t][r],list:t-1,onEdit:function(){return e.editLine(t,r)},onDelete:function(){return e.deleteElement(t,r)},colors:e.getEveryIndexOf(e.state.lists[t][r],t),statIconName:"far fa-circle",editIconName:"fas fa-pen",deleteIconName:"now-ui-icons ui-1_simple-remove"},(t-1)*e.state.numChildren[t]+r)},n=0;n<e.state.numChildren[t];n+=1)r(n)},i=1;i<this.state.lists.length;i++)n(i);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(s.b,{to:"/index",ref:function(t){return e.inputElement=t}}),Object(m.jsx)("div",{className:"relative pt-32 pb-32 bg-orange-500",children:Object(m.jsx)("div",{className:"px-4 md:px-6 mx-auto w-full",children:Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"flex flex-wrap justify-center",children:Object(m.jsx)("h1",{className:"display-3 title-up text-white font-semibold text-center",children:Ye.mainTitle})})})})}),Object(m.jsxs)("div",{className:"px-4 md:px-6 mx-auto w-full -mt-24",children:[Object(m.jsx)("div",{className:"mt-6 relative",children:Object(m.jsx)("div",{className:"relative w-full overflow-hidden",children:Object(m.jsx)("div",{children:Object(m.jsx)("div",{id:"body",className:"flex justify-center items-center",children:Object(m.jsxs)("div",{className:"flex container px-4 justify-center",children:[Object(m.jsxs)("div",{className:"flex justify-center",children:[Object(m.jsx)("div",{className:"w-full mt-4",children:Object(m.jsx)("div",{className:"mx-12 my-3 px-4 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg ",children:Object(m.jsxs)("div",{className:"flex flex-col pl-1 pt-3 pb-3 inline-block",children:[Object(m.jsxs)(j,{color:"amber",size:"regular2",onClick:this.clearEnvironment,children:[Object(m.jsx)("i",{className:"text-xl mr-2 fas fa-trash-alt"}),Ye.buttons.clear]}),Object(m.jsx)("div",{className:"mt-2"}),Object(m.jsxs)(j,{color:"emerald",size:"regular2",onClick:this.saveInToJSON,children:[Object(m.jsx)("i",{className:"text-xl mr-2 fas fa-check-square"}),null===this.projectId?Ye.buttons.save:Ye.buttons.update]})]})})}),Object(m.jsxs)("div",{className:"flex flex-col items-center",children:[Object(m.jsx)("div",{className:"w-full ml-4",children:Object(m.jsx)(s.b,{to:"/index",className:"hover-no-underline",children:Object(m.jsxs)(j,{color:Ye.buttons.back.color,outline:!0,children:[Object(m.jsx)("i",{className:Ye.buttons.back.icon+" mr-2"}),Ye.buttons.back.text]})})}),Object(m.jsx)("div",{children:Object(m.jsx)(St,{currentRef:this.state.myCanvas,setRef:this.setRef,project:this.props.returnedProjectId,resetProject:this.props.resetProject,goToIndex:this.goToIndex})}),Object(m.jsxs)(S.m,{placement:window.innerWidth>991?"left":"top",target:"canvas",className:"popover-info",isOpen:this.state.warningPop,children:[Object(m.jsx)(S.j,{children:"Warning!"}),Object(m.jsx)(S.i,{children:this.state.errorMsg})]}),Object(m.jsxs)("div",{className:"m-4 px-16 pt-2 pb-2 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg",children:[Object(m.jsx)("span",{className:"font-semibold text-xs mb-1 text-center uppercase text-blueGray-700",children:Ye.gridSize}),Object(m.jsxs)("div",{className:"flex pl-2",children:[Object(m.jsx)(j,{color:"red",onClick:function(){return e.modifyGridSize(-1)},children:Object(m.jsx)("i",{className:"text-xl fas fa-minus-square"})}),Object(m.jsx)(j,{color:"lightBlue",onClick:function(){return e.modifyGridSize(1)},children:Object(m.jsx)("i",{className:"text-xl fas fa-plus-square"})})]})]})]})]}),Object(m.jsxs)("div",{className:"w-full lg:w-4/12 xl:w-3/12 flex-col mt-4",children:[Object(m.jsx)("div",{id:"tooltipHelpBuild",className:"mx-12 my-3 px-4 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg",children:Object(m.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(m.jsxs)("div",{className:"flex justify-center items-center title-up text-center my-2",children:[Ye.help.title,Object(m.jsx)("i",{className:"ml-1 text-lightBlue-700 text-lg fas fa-info-circle"})]}),Object(m.jsx)(S.n,{delay:0,placement:"right",target:"tooltipHelpBuild",children:Object(m.jsx)("div",{className:"flex flex-col text-left",children:Ye.help.messages.map((function(e,t){return Object(m.jsxs)("div",{className:"mb-2",children:[Object(m.jsx)("h4",{className:"font-bold",children:e.title}),Object(m.jsx)("div",{children:e.content})]},t)}))})})]})}),this.componentsList.map((function(t,r){return Object(m.jsx)(vt,{displayAddButton:!0===t.displayAddButton,addLine:function(){return e.onAddLine(r)},content:t.content,colspan:4,title:t.title},r)}))]})]})})})})}),Object(m.jsx)(jt,Object(c.a)({},pt))]}),Object(m.jsx)(S.g,{isOpen:this.state.modalClassic,autoFocus:!1,toggle:function(){return e.setModalClassic(!1)},className:"custom-modal-dialog sm:c-m-w-70",children:Object(m.jsx)(yt,{element:this.state.editedLists[this.state.currentList][this.state.currentIndex],number:this.state.currentIndex,list:this.state.lists[this.state.currentList],mutexList:this.state.mutexList,editMutex:this.setMutexList,edit:this.editCurrentElement,save:this.saveCurrentElement,close:function(){return e.setModalClassic(!1)},validName:this.validName,info:Ye.modal.world})}),Object(m.jsx)(S.g,{isOpen:this.state.modalSaving,toggle:function(){return e.setModalSaving(!1)},className:"custom-modal-dialog sm:c-m-w-70",children:Object(m.jsx)(Nt,{element:this.state.savingInfos,listOfNames:null===this.projectId?this.props.worldNames:this.listOfNames,edit:this.editSavingInfos,save:this.saveWorld,close:function(){return e.setModalSaving(!1)},info:Ye.modal.saving})}),Object(m.jsx)(S.g,{isOpen:this.state.modalLocationId,autoFocus:!1,toggle:function(){return e.setModalLocationId(!1)},className:"custom-modal-dialog sm:c-m-w-70",children:Object(m.jsx)(kt,{element:this.state.currentIdInput,edit:this.editCurrentIdInput,save:this.drawLocation,close:function(){return e.setModalLocationId(!1)},validName:this.validName,info:Ye.modal.inputId})})]})}}]),r}(i.a.Component),Ft=function(e){Object(L.a)(r,e);var t=Object(W.a)(r);function r(e){var n;return Object(E.a)(this,r),(n=t.call(this,e)).state={sidebarShow:"y-translate-100",logoState:"fas fa-chevron-up"},n.customText=e.customText,n.text=e.text,n.consoleRef=i.a.createRef(),n}return Object(M.a)(r,[{key:"componentDidUpdate",value:function(e,t,r){this.consoleRef.current.scrollTop=this.consoleRef.current.scrollHeight}},{key:"render",value:function(){var e=this;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("nav",{className:"block py-4 px-6 bottom-0 w-full bg-blueGray-800 shadow-xl right-0 fixed flex-row flex-nowrap xxl:z-10 z-9999 transition-all duration-300 ease-in-out transform "+this.state.sidebarShow,children:[Object(m.jsx)("button",{className:"flex items-center justify-center cursor-pointer text-blueGray-700 w-10 h-6 border-l-0 border-r border-t border-b border-solid border-blueGray-100 text-xl leading-none focus:outline-none bg-white rounded-r border border-solid border-transparent absolute left-9/10 top--10 z-9998",onClick:function(){"y-translate-100"===e.state.sidebarShow?e.setState({sidebarShow:"y-translate-0",logoState:"fas fa-chevron-down"}):e.setState({sidebarShow:"y-translate-100",logoState:"fas fa-chevron-up"})},children:Object(m.jsx)("i",{className:this.state.logoState})}),Object(m.jsx)("div",{className:"console",children:Object(m.jsx)("textarea",{className:"bg-blueGray-800 no-resize text-white w-full border-0",ref:this.consoleRef,rows:5,readOnly:!0,value:this.props.customText||this.props.text})})]})})}}]),r}(i.a.Component);Ft.defaultProps={};var At={text:""},Bt=r(102);r(341);var Tt=function(e){var t=N(),r=Object(n.useState)(""),i=Object(d.a)(r,2),a=i[0],l=i[1],s=Object(n.useCallback)((function(e){l(e)}),[l]),o=Object(n.useCallback)((function(e){Bt.b[e.crometypes](e.content)}),[]);return Object(n.useEffect)((function(){if(null!=t)return t.on("send-message",s),function(){t.off("send-message")}}),[t,s,e.session]),Object(n.useEffect)((function(){if(null!=t)return t.on("send-notification",o),function(){t.off("send-message")}}),[t,o,e.session]),Object(n.useEffect)((function(){e.modifyMessage(a)}),[a]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Bt.a,{})})};var Et=function(e){var t=N(),r=Object(n.useCallback)((function(t){e.returnProjectId(t)}),[e]);return Object(n.useEffect)((function(){if(null!=t&&null!==e.world&&e.trigger){if(e.world.environment.session_id=e.session,e.world.info.session_id=e.session,null===e.world.environment.project_id){var n=function(e){var t=Math.floor(9e5*Math.random())+1e5;return e.replaceAll(" ","").toLowerCase()+"_"+t}(e.world.info.name);e.world.environment.project_id=n,e.world.info.project_id=n}else e.world.info.project_id=e.world.environment.project_id;return t.emit("save-project",{world:e.world}),e.setTrigger(!1),t.on("project-saved",r),function(){return t.off("saving-complete")}}}),[t,e.world,e,r]),Object(m.jsx)(m.Fragment,{})};function Mt(e){var t=Object(o.g)(),r=ft("id"),n=Object(d.a)(r,2),a=n[0],l=n[1],s=ft("cookie"),u=Object(d.a)(s,2),h=u[0],b=(u[1],sessionStorage.tabID?sessionStorage.tabID:sessionStorage.tabID=Math.random()),f=i.a.useState(""),x=Object(d.a)(f,2),p=x[0],j=x[1],g=i.a.useState(null),v=Object(d.a)(g,2),O=v[0],w=v[1],y=i.a.useState(null),C=Object(d.a)(y,2),N=C[0],S=C[1],I=i.a.useState(null),A=Object(d.a)(I,2),B=A[0],T=A[1],E=i.a.useState(null),M=Object(d.a)(E,2),L=M[0],W=M[1],P=i.a.useState(!1),z=Object(d.a)(P,2),D=z[0],R=z[1];function Y(e){w(e)}function J(e,t){S({info:e,environment:t}),R(!0)}function U(e){T(e)}return i.a.useEffect((function(){window.scrollTo(0,0)}),[t]),Object(m.jsxs)(k,{id:a,cookie:h,tabId:b,children:[Object(m.jsx)(G,{setId:l}),Object(m.jsx)(F,Object(c.a)(Object(c.a)({},ht),{},{currentRoute:"#"+t.pathname,id:a,setId:l,cookie:h})),Object(m.jsx)(Ft,Object(c.a)(Object(c.a)({},At),{},{customText:p})),Object(m.jsx)(Tt,{modifyMessage:function(e){return t=e,void j(""===p?t:p+"\n"+t);var t},session:a}),Object(m.jsx)(Et,{session:a,world:N,trigger:D,returnProjectId:W,setTrigger:R}),Object(m.jsx)("div",{className:"relative xxl:ml-64 bg-blueGray-100 min-h-screen",children:"world"===e.page?Object(m.jsx)(It,{world:O,session:a,worldNames:B,returnedProjectId:L,resetProject:function(){return W(null)},saveEnvironment:J}):Object(m.jsx)(ut,Object(c.a)(Object(c.a)({world:O},bt),{},{setWorld:Y,setListOfWorldNames:U,id:a}))})]})}l.a.render(Object(m.jsx)(s.a,{children:Object(m.jsxs)(o.d,{children:[Object(m.jsx)(o.b,{exact:!0,path:"/:id",render:function(e){return Object(m.jsx)(Mt,{page:e.match.params.id})}}),Object(m.jsx)(o.a,{from:"*",to:"/index"})]})}),document.getElementById("root"))},53:function(e,t,r){}},[[342,1,2]]]);
//# sourceMappingURL=main.1f318cb4.chunk.js.map