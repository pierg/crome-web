/*!

=========================================================
* Notus PRO React - v1.0.0 based on Notus React and Tailwind Stater Kit by Creative Tim
=========================================================

* Product Page: https://www.creative-tim.com/product/notus-pro-react
* Copyright 2021 Creative Tim (https://www.creative-tim.com)

* Tailwind Starter Kit Page: https://www.creative-tim.com/learning-lab/tailwind-starter-kit/presentation

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
(this["webpackJsonp@notus-pro/react"]=this["webpackJsonp@notus-pro/react"]||[]).push([[0],{113:function(e,t,o){},171:function(e){e.exports=JSON.parse('{"edges":[{"arrows":{"to":{"type":"diamond"}},"from":"default-simple-0003","id":"b65169bd-cef4-489f-9efe-1cc9873c4464","to":"default-simple-0003||default-simple-0002"},{"arrows":{"to":{"type":"diamond"}},"from":"default-simple-0002","id":"6cf54926-ec49-4792-81fc-07de1a9cc884","to":"default-simple-0003||default-simple-0002"},{"arrows":{"to":{}},"from":"default-simple-0003||default-simple-0002","id":"3b2e1d23-59ad-49d8-b416-e408f3739478","to":"default-simple-0003||default-simple-0002**default-simple-0000"},{"arrows":{"to":{}},"from":"default-simple-0000","id":"a7c9fa64-cd8b-4429-a283-f2c988c12f35","to":"default-simple-0003||default-simple-0002**default-simple-0000"},{"arrows":{"to":{}},"from":"default-simple-0001","id":"c3765fe1-ef6e-41b6-855c-7f7150d8f445","to":"default-simple-0001**default-simple-0002"},{"arrows":{"to":{}},"from":"default-simple-0002","id":"95dda34b-35ba-407c-be16-89e760be39e2","to":"default-simple-0001**default-simple-0002"},{"arrows":{"to":{"type":"circle"}},"from":"default-simple-0003||default-simple-0002**default-simple-0000","id":"f9c6e86e-52f7-4b56-9075-4942f91dfb1b","to":"default-simple-0003||default-simple-0002**default-simple-0000/\\\\default-simple-0001**default-simple-0002"},{"arrows":{"to":{"type":"circle"}},"from":"default-simple-0001**default-simple-0002","id":"33fc167e-6057-44c0-b0f4-519ed39b1070","to":"default-simple-0003||default-simple-0002**default-simple-0000/\\\\default-simple-0001**default-simple-0002"}],"nodes":[{"group":"input","id":"default-simple-0003","label":"Register Person"},{"id":"default-simple-0003||default-simple-0002","label":"goal1"},{"id":"default-simple-0002","group":"input","label":"Greet Person"},{"id":"default-simple-0003||default-simple-0002**default-simple-0000","label":"goal3"},{"id":"default-simple-0000","group":"input","label":"Day patrolling"},{"id":"default-simple-0001","group":"input","label":"Night Patrolling"},{"id":"default-simple-0001**default-simple-0002","label":"goal6"},{"id":"default-simple-0003||default-simple-0002**default-simple-0000/\\\\default-simple-0001**default-simple-0002","label":"goal7"}]}')},184:function(e,t,o){},185:function(e,t,o){},186:function(e,t,o){},187:function(e,t,o){},188:function(e,t,o){},189:function(e,t,o){},190:function(e,t,o){},203:function(e,t,o){},353:function(e,t,o){"use strict";o.r(t),t.default="data:image/png;base64,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"},355:function(e,t,o){"use strict";o.r(t);var r=o(2),s=o.n(r),n=o(18),a=o.n(n),i=o(15),l=o(13),c=(o(184),o(185),o(186),o(187),o(188),o(42),o(189),o(190),o(4)),d=o(5),u=o(37),h=o(3),b=o.n(h),f=o(11),m=o(0),g=["outline","worldModeling","size","color","children","fullWidth","contracts"],j=s.a.forwardRef((function(e,t){var o=e.outline,r=(e.worldModeling,e.size),s=e.color,n=e.children,a=e.fullWidth,i=e.contracts,l=Object(f.a)(e,g),d="inline-block outline-none focus:outline-none align-middle transition-all duration-150 ease-in-out uppercase border border-solid font-bold last:mr-0 mr-2 ";return d=(d=d+" "+{facebook:"text-white bg-facebook-regular border-facebook-regular active:bg-facebook-active active:border-facebook-active","facebook-outline":"text-facebook-regular border-facebook-regular active:bg-facebook-active active:border-facebook-active active:text-white",twitter:"text-white bg-twitter-regular border-twitter-regular active:bg-twitter-active active:border-twitter-active","twitter-outline":"text-twitter-regular border-twitter-regular active:bg-twitter-active active:border-twitter-active active:text-white",instagram:"text-white bg-instagram-regular border-instagram-regular active:bg-instagram-active active:border-instagram-active","instagram-outline":"text-instagram-regular border-instagram-regular active:bg-instagram-active active:border-instagram-active active:text-white",github:"text-white bg-github-regular border-github-regular active:bg-github-active active:border-github-active","github-outline":"text-github-regular border-github-regular active:bg-github-active active:border-github-active active:text-white",pinterest:"text-white bg-pinterest-regular border-pinterest-regular active:bg-pinterest-active active:border-pinterest-active","pinterest-outline":"text-pinterest-regular border-pinterest-regular active:bg-pinterest-active active:border-pinterest-active active:text-white",youtube:"text-white bg-youtube-regular border-youtube-regular active:bg-youtube-active active:border-youtube-active","youtube-outline":"text-youtube-regular border-youtube-regular active:bg-youtube-active active:border-youtube-active active:text-white",vimeo:"text-white bg-vimeo-regular border-vimeo-regular active:bg-vimeo-active active:border-vimeo-active","vimeo-outline":"text-vimeo-regular border-vimeo-regular active:bg-vimeo-active active:border-vimeo-active active:text-white",slack:"text-white bg-slack-regular border-slack-regular active:bg-slack-active active:border-slack-active","slack-outline":"text-slack-regular border-slack-regular active:bg-slack-active active:border-slack-active active:text-white",dribbble:"text-white bg-dribbble-regular border-dribbble-regular active:bg-dribbble-active active:border-dribbble-active","dribbble-outline":"text-dribbble-regular border-dribbble-regular active:bg-dribbble-active active:border-dribbble-active active:text-white",reddit:"text-white bg-reddit-regular border-reddit-regular active:bg-reddit-active active:border-reddit-active","reddit-outline":"text-reddit-regular border-reddit-regular active:bg-reddit-active active:border-reddit-active active:text-white",tumblr:"text-white bg-tumblr-regular border-tumblr-regular active:bg-tumblr-active active:border-tumblr-active","tumblr-outline":"text-tumblr-regular border-tumblr-regular active:bg-tumblr-active active:border-tumblr-active active:text-white",linkedin:"text-white bg-linkedin-regular border-linkedin-regular active:bg-linkedin-active active:border-linkedin-active","linkedin-outline":"text-linkedin-regular border-linkedin-regular active:bg-linkedin-active active:border-linkedin-active active:text-white",white:"text-blueGray-800 bg-white border-white active:bg-blueGray-100 active:border-blueGray-100","white-outline":"text-white border-white active:bg-blueGray-100 active:border-blueGray-100 active:text-blueGray-800",light:"text-blueGray-800 bg-blueGray-200 border-blueGray-200 active:bg-blueGray-300 active:border-blueGray-300","light-outline":"text-blueGray-200 border-blueGray-200 active:bg-blueGray-300 active:border-blueGray-300 active:text-blueGray-800",dark:"text-white bg-blueGray-800 border-blueGray-800 active:bg-blueGray-900 active:border-blueGray-900","dark-outline":"text-blueGray-800 border-blueGray-800 active:bg-blueGray-900 active:border-blueGray-900 active:text-white",blueGray:"text-white bg-blueGray-500 border-blueGray-500 active:bg-blueGray-600 active:border-blueGray-600","blueGray-outline":"text-blueGray-500 border-blueGray-500 active:bg-blueGray-600 active:border-blueGray-600 active:text-white",red:"text-white bg-red-500 border-red-500 active:bg-red-600 active:border-red-600","red-outline":"text-red-500 border-red-500 active:bg-red-600 active:border-red-600 active:text-white",orange:"text-white bg-orange-500 border-orange-500 active:bg-orange-600 active:border-orange-600","orange-outline":"text-orange-500 border-orange-500 active:bg-orange-600 active:border-orange-600 active:text-white",amber:"text-white bg-amber-500 border-amber-500 active:bg-amber-600 active:border-amber-600","amber-outline":"text-amber-500 border-amber-500 active:bg-amber-600 active:border-amber-600 active:text-white",emerald:"text-white bg-emerald-500 border-emerald-500 active:bg-emerald-600 active:border-emerald-600","emerald-outline":"text-emerald-500 border-emerald-500 active:bg-emerald-600 active:border-emerald-600 active:text-white",teal:"text-white bg-teal-500 border-teal-500 active:bg-teal-600 active:border-teal-600","teal-outline":"text-teal-500 border-teal-500 active:bg-teal-600 active:border-teal-600 active:text-white",lightBlue:"text-white bg-lightBlue-500 border-lightBlue-500 active:bg-lightBlue-600 active:border-lightBlue-600","lightBlue-outline":"text-lightBlue-500 border-lightBlue-500 active:bg-lightBlue-600 active:border-lightBlue-600 active:text-white",indigo:"text-white bg-indigo-500 border-indigo-500 active:bg-indigo-600 active:border-indigo-600","indigo-outline":"text-indigo-500 border-indigo-500 active:bg-indigo-600 active:border-indigo-600 active:text-white",purple:"text-white bg-purple-500 border-purple-500 active:bg-purple-600 active:border-purple-600","purple-outline":"text-purple-500 border-purple-500 active:bg-purple-600 active:border-purple-600 active:text-white",pink:"text-white bg-pink-500 border-pink-500 active:bg-pink-600 active:border-pink-600","pink-outline":"text-pink-500 border-pink-500 active:bg-pink-600 active:border-pink-600 active:text-white",gray:"text-black bg-blueGray-200 border-blueGray-200 active:bg-blueGray-300 active:border-blueGray-300","gray-outline":"text-lightBlue-700 border-blueGray-200 active:bg-blueGray-300 active:border-blueGray-300 active:text-white"}[s+(o?"-outline":"")])+" "+{sm:"text-xs px-3 py-2 shadow-sm hover:shadow-md rounded-md",regular:"text-sm px-6 py-2 shadow hover:shadow-lg rounded-md",regular2:"w-100 text-sm px-6 py-2 shadow hover:shadow-lg rounded-md",lg:"text-sm px-6 py-3 shadow-md hover:shadow-lg rounded-lg ",customLg:"text-sm px-6 py-3 shadow-md hover:shadow-lg rounded-lg transition ease-in-out duration-400 hover:custom-transform",xl:"text-sm px-10 py-3 shadow-md hover:shadow-lg rounded-lg",worldModeling:"w-64 text-sm py-1 shadow-md hover:shadow-lg rounded-lg whitespace-nowrap break-all border-1"}[r],i?Object(m.jsx)(m.Fragment,{}):(a&&(d+=" w-full text-center"),l.hasOwnProperty("href")?Object(m.jsx)("a",Object(c.a)(Object(c.a)({},l),{},{ref:t,className:d,children:n})):Object(m.jsx)("button",Object(c.a)(Object(c.a)({},l),{},{ref:t,className:d,children:n})))}));j.defaultProps={outline:!1,color:"blueGray",fullWidth:!1,size:"regular"};var p=j,x=o(363),v=o(364),O=o(362),w=o(365),y=o(174),N=s.a.createContext();function C(){return Object(r.useContext)(N)}function G(e){var t=e.id,o=e.cookie,s=e.tabId,n=e.children;Object(r.useEffect)((function(){console.log("Connecting merged"),console.log(t);var e=Object(y.a)("http://127.0.0.1:5000",{query:{id:t,cookie:o,tabId:s}});return c(e),function(){return e.close()}}),[t,o,s]);var a=Object(r.useState)(),i=Object(d.a)(a,2),l=i[0],c=i[1];return Object(m.jsx)(N.Provider,{value:l,children:n})}function k(e){var t=e.setId,o=Object(r.useCallback)((function(e){e||t(Object(v.a)())}),[t]),s=C();return Object(r.useEffect)((function(){null!=s&&s.on("is-connected",o)})),Object(m.jsx)(m.Fragment,{})}o(36);var F=o(12);function S(e){var t=e.id,o=e.onIdSubmit,s=(e.cookie,Object(r.useRef)()),n=C(),a=Object(r.useState)(""),i=Object(d.a)(a,2),l=i[0],c=i[1],u=Object(r.useCallback)((function(e){e?o(s.current.value):c("This session doesn't exist or it is being used.")}),[o]);var h=Object(r.useCallback)((function(){o(Object(v.a)())}),[o]);Object(r.useEffect)((function(){s.current.value=""}),[t]),Object(r.useEffect)((function(){void 0===t&&h()}),[h,t]);var b=Object(r.useState)(!0),f=Object(d.a)(b,2),g=f[0],j=f[1],y=Object(r.useState)("text-lightBlue-700"),N=Object(d.a)(y,2),G=N[0],k=N[1];var S=function(e){g!==e&&j(e),e||(k("text-white"),setTimeout((function(){k("text-lightBlue-700")}),300))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("p",{className:"text-center mt-4",children:"Your Session ID is:"}),void 0!==t&&Object(m.jsx)(O.a,{mode:"out-in",children:Object(m.jsx)(w.a,{classNames:"fade",addEndListener:function(e,t){e.addEventListener("transitionend",t,!1)},children:Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(F.Tooltip,{html:Object(m.jsx)("div",{children:g?"Click to Copy ID":"ID Copied!"}),position:"bottom",arrow:"true",children:Object(m.jsx)("p",{className:"text-center font-semibold hover:text-lightBlue-500 cursor-pointer transition-all duration-300 ease-in-out "+G,onClick:function(){navigator.clipboard.writeText(t).then((function(){return S(!1)}))},onMouseOut:function(){return setTimeout((function(){S(!0)}),500)},children:t.split("-")[0]+"-"+t.split("-")[1]+"..."})})})},t.split("-")[0]+"-"+t.split("-")[1]+"...")}),Object(m.jsxs)(x.a,{onSubmit:function(e){return e.preventDefault(),n.emit("session-existing",{session:s.current.value}),n.on("receive-answer",u),function(){n.off("receive-answer")}},className:"w-full mt-4",children:[Object(m.jsxs)(x.a.Group,{children:[Object(m.jsx)(x.a.Control,{type:"text",className:"border-lightBlue-200",ref:s,id:"inputSession",required:!0,onChange:function(){return c("")},placeholder:"Load another session"}),Object(m.jsx)("span",{className:"text-red-500 text-xs mt-1",children:l})]}),Object(m.jsxs)("div",{className:"flex w-full justify-center p-2",children:[Object(m.jsx)(p,{onClick:h,color:"teal",variant:"secondary",type:"reset",children:"Reset"}),Object(m.jsx)(p,{type:"submit",color:"lightBlue",id:"loadButton",children:"Load"})]})]})]})}function I(e){var t=e.brand,o=e.items,n=e.activeColor,a=e.currentRoute,l=e.id,h=e.setId,f=e.cookie,g=e.page,j=s.a.useState("-translate-x-full"),p=Object(d.a)(j,2),x=p[0],v=p[1],O={red:"text-red-500 hover:text-red-700",orange:"text-orange-500 hover:text-orange-700",amber:"text-amber-500 hover:text-amber-700",emerald:"text-emerald-500 hover:text-emerald-700",teal:"text-teal-500 hover:text-teal-700",lightBlue:"text-lightBlue-500 hover:text-lightBlue-700",indigo:"text-indigo-500 hover:text-indigo-700",purple:"text-purple-500 hover:text-purple-700",pink:"text-pink-500 hover:text-pink-700"};return"index"===g?Object(m.jsx)(m.Fragment,{}):Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("nav",{className:"block py-4 px-6 top-0 bottom-0 w-64 bg-white shadow-xl left-0 fixed flex-row flex-nowrap xxl:z-10 z-9999 transition-all duration-300 ease-in-out transform xxl:translate-x-0 "+x,children:[Object(m.jsx)("button",{className:"xxl:hidden flex items-center justify-center cursor-pointer text-blueGray-700 w-6 h-10 border-l-0 border-r border-t border-b border-solid border-blueGray-100 text-xl leading-none bg-white rounded-r border border-solid border-transparent absolute top-1/2 -right-24-px focus:outline-none z-9998",onClick:function(){v(""===x?"-translate-x-full":"")},children:Object(m.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(m.jsx)("div",{className:"flex-col min-h-full px-0 flex flex-wrap items-center justify-between w-full mx-auto overflow-y-auto overflow-x-hidden",children:Object(m.jsxs)("div",{className:"flex bg-white flex-col items-stretch opacity-100 relative mt-4 overflow-y-auto overflow-x-hidden h-auto z-40 items-center flex-1 rounded w-full",children:[t&&t.link&&t.link.to&&Object(m.jsxs)(i.b,Object(c.a)(Object(c.a)({},t),{},{className:"xxl:flex items-center flex-col text-center xxl:pb-2 text-blueGray-700 mr-0 inline-flex whitespace-nowrap text-sm uppercase font-bold p-4 px-0",children:[t&&t.image&&Object(m.jsx)("img",{src:t.image,alt:"...",className:"max-w-full rounded"}),t&&t.text&&Object(m.jsx)("span",{children:t.text})]})),t&&t.link&&void 0===t.link.to&&Object(m.jsxs)("a",Object(c.a)(Object(c.a)({},t),{},{href:t.link.href,className:"xxl:flex items-center flex-col text-center xxl:pb-2 text-blueGray-700 mr-0 inline-flex whitespace-nowrap text-sm uppercase font-bold ",children:[t&&t.image&&Object(m.jsx)("img",{src:t.image,alt:"...",className:"max-w-full rounded"}),t&&t.text&&Object(m.jsx)("span",{children:t.text})]})),Object(m.jsx)("div",{className:"xxl:flex-col xxl:min-w-full flex flex-col list-none",children:Object(m.jsx)(S,{id:l,onIdSubmit:h,cookie:f})}),Object(m.jsx)("div",{className:"xxl:flex-col xxl:min-w-full flex flex-col list-none",children:o.map((function(e,t){return e.divider?Object(m.jsx)("hr",{className:"my-4 xxl:min-w-full"},t):e.titleCrome?Object(m.jsx)("h6",{className:"xxl:min-w-full text-blueGray-500 text-xs uppercase font-bold inline",children:e.titleCrome},t):e.titleContracts?Object(m.jsx)("h6",{className:"xxl:min-w-full text-blueGray-500 text-xs uppercase font-bold inline mt-3 ",children:e.titleContracts},t):Object(r.createElement)("a",Object(c.a)(Object(c.a)({},e.link),{},{key:t,className:b()("text-xs uppercase py-3 font-bold block focus:outline-none",(o={},Object(u.a)(o,O[n],a.toUpperCase().includes(e.name)),Object(u.a)(o,"text-blueGray-800 hover:text-blueGray-500",!a.toUpperCase().includes(e.name)),o))}),Object(m.jsx)("i",{className:b()(e.icon,"mr-2 text-sm",{"opacity-75":e.link.href===a,"text-blueGray-400":e.link.href!==a})}),e.text,"indexCrome"!==g&&"crome"!==g&&"Run CROME"===e.text&&Object(m.jsx)("i",{className:"fas fa-arrow-right ml-2"}),"indexContracts"!==g&&"contracts"!==g&&"Run CONTRACTS"===e.text&&Object(m.jsx)("i",{className:"fas fa-arrow-right ml-2"}));var o}))})]})})]})})}I.defaultProps={items:[],activeColor:"pink"};var A={info:{title:"Edit a Goal",goalComponent:{editIconName:"fas fa-pen",downloadIconName:"fas fa-arrow-down",deleteIconName:"fas fa-trash-alt",iconColor:"bg-lightBlue-600"},contract:[{title:"assumptions",color:"lightBlue"},{title:"guarantees",color:"lightBlue"}],buttons:{uploadGoal:{text:"Upload goals",color:"gray",icon:"fas fa-arrow-up"},downloadGoals:{text:"Download goals",color:"gray",icon:"fas fa-arrow-down"}},modal:{close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",saveText:"Save",saveColor:"info"}}},T={info:{goalComponent:{editIconName:"fas fa-pen",downloadIconName:"fas fa-arrow-down",deleteIconName:"fas fa-trash-alt",iconColor:"bg-lightBlue-600"},contract:[{title:"assumptions",color:"lightBlue"},{title:"guarantees",color:"lightBlue"}],modal:{title:"Confirm Deletion",content:"The following World will be deleted : ",close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",confirmText:"Confirm",confirmColor:"info"}}},L=o(7),B=o(8),M=o(9),E=o(10),D=(o(56),o(203),o(6));function W(e){if("string"===typeof e)return e;for(var t="",o=0;o<e.length-1;o++)t+=e[o]+",";return t+=e[e.length-1]}function P(e,t){for(var o=0;o<t.length;o++)if(t[o].name===e.name){for(var r=t[o].arguments,s=0;s<r.length;s++)r[s].value=void 0===e.arguments[s]?"":e.arguments[s].value;return r}return[]}var R=o(165),z=o.n(R),J=function(e){var t=e.contract,o=e.color,r=e.setOpen,n=e.defaultOpened,a=e.patterns,i=e.modal,l=s.a.useState(n),c=Object(d.a)(l,2),u=c[0],h=c[1],f=s.a.useState(n),g=Object(d.a)(f,2),j=g[0],x=g[1],v=s.a.useState(void 0),O=Object(d.a)(v,2),w=O[0],y=O[1],N=s.a.useState(!1),C=Object(d.a)(N,2),G=C[0],k=C[1],S=s.a.useState(!0),I=Object(d.a)(S,2),A=I[0],T=I[1],L=s.a.useRef(null);s.a.useEffect((function(){n||(y(L.current.scrollHeight),x(!1),setTimeout((function(){y(0)}),10),setTimeout((function(){k(!1),h(!1)}),310))}),[n]),s.a.useEffect((function(){y(L.current.scrollHeight)}),[A]);for(var B=[],M=0,E=0;E<t.length;E+=1){B[E]=[];for(var R=0;R<t[E].content.length;R+=1)A?(B[E].push(Object(m.jsx)("tr",{children:Object(m.jsx)("td",{children:t[E].content[R].ltl_value})},M)),M++):void 0!==t[E].content[R].pattern&&(B[E].push(Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("tr",{children:Object(m.jsxs)("td",{className:"flex flex-col items-start",children:[Object(m.jsx)(F.Tooltip,{title:"Edit",position:"right",arrow:"true",html:a[R].description,children:Object(m.jsx)("p",{id:"dropDownMenu",children:t[E].content[R].pattern.name})}),P(t[E].content[R].pattern,a).map((function(e,t){return Object(m.jsx)("p",{children:e.name+" : "+W(e.value)},t)}))]})},M)})),M++)}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"bg-transparent first:rounded-t px-4 py-3",children:Object(m.jsx)("a",{href:"#openCollapse",onClick:function(e){e.preventDefault(),G||(k(!0),x(!j),u?function(){r(!1);var e=0;u&&void 0===w&&(y(L.current.scrollHeight),e=10),setTimeout((function(){y(0)}),e),setTimeout((function(){k(!1),h(!1)}),310)}():(r(!0),u||void 0!==w||y(0),h(!0),setTimeout((function(){y(L.current.scrollHeight)}),10),setTimeout((function(){k(!1)}),310)))},children:Object(m.jsxs)("h5",{className:{blueGray:"text-blueGray-700 hover:text-blueGray-900",red:"text-red-500 hover:text-red-700",orange:"text-orange-500 hover:text-orange-700",amber:"text-amber-500 hover:text-amber-700",emerald:"text-emerald-500 hover:text-emerald-700",teal:"text-teal-500 hover:text-teal-700",lightBlue:"text-lightBlue-500 hover:text-lightBlue-700",indigo:"text-indigo-500 hover:text-indigo-700",purple:"text-purple-500 hover:text-purple-700",pink:"text-pink-500 hover:text-pink-700"}[o]+" mb-0 font-semibold text-center duration-300 transition-all ease-in-out",children:["Show Contract",Object(m.jsx)("i",{className:b()("text-sm mr-2 float-right fas fa-chevron-down duration-300 transition-all ease-in-out transform",{"rotate-180":j})})]})})}),Object(m.jsxs)("div",{className:b()("duration-300 transition-all ease-in-out",{block:u,hidden:!u}),style:{height:"auto",maxHeight:w},ref:L,children:[Object(m.jsx)("div",{className:"flex justify-end",children:Object(m.jsx)(z.a,{offText:"Pattern",onText:"LTL",onChange:function(e){return T(e.state.value)}})}),t.map((function(e,t){return Object(m.jsx)("div",{className:"text-blueGray-500 px-4 flex-auto leading-relaxed",children:Object(m.jsxs)(D.k,{responsive:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:Object(m.jsx)("th",{className:"title-up font-semibold-important",children:e.title})})}),Object(m.jsx)("tbody",{children:B[t]})]})},t)})),void 0!==i&&Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)(p,{onClick:function(){return i(!0)},children:"Show Details"})})]})]})};J.defaultProps={defaultOpened:!1,setOpen:function(){}};var V=J;var U=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(m.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(m.jsx)("i",{className:"now-ui-icons ui-1_simple-remove"})}),Object(m.jsx)("h4",{className:"title title-up",children:"Contract Details"})]}),Object(m.jsx)("div",{className:"modal-body justify-content-center",children:Object(m.jsx)("div",{children:"Content not available yet"})}),Object(m.jsx)(D.h,{children:Object(m.jsx)(D.a,{onClick:e.close,children:"Cancel"})})]})};var Y=function(e){var t=[],o=s.a.useState(!1),n=Object(d.a)(o,2),a=n[0],i=n[1],l=s.a.useState(!1),c=Object(d.a)(l,2),u=c[0],h=c[1];for(var b in e.contract)e.contract.hasOwnProperty(b)&&(t[Object.keys(e.contract).indexOf(b)]=[],t[Object.keys(e.contract).indexOf(b)].title=b,t[Object.keys(e.contract).indexOf(b)].content=e.contract[b]);return Object(r.useEffect)((function(){i(!1)}),[e.contract]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"w-full lg:w-6/12 xl:w-5/12 mt-8 ml-4 mr-4 px-4 relative flex flex-col min-w-0 break-words bg-white rounded mb-6 xl:mb-0 shadow-lg opacity-1 transform duration-300 transition-all ease-in-out h-fit",children:Object(m.jsxs)("div",{className:"flex-auto p-4 pr-0",children:[Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(m.jsx)("div",{className:"flex flex-wrap",children:Object(m.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:e.title})})}),Object(m.jsxs)("div",{className:"flex flex-col flex-wrap w-full",children:[Object(m.jsx)("div",{className:"relative w-full pr-4 mt-2 mb-2 max-w-full flex-grow flex-1",children:Object(m.jsx)("span",{className:"text-md text-blueGray-700",children:e.description})}),Object(m.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(m.jsxs)("div",{children:[Object(m.jsx)("b",{children:"Context :"})," ",e.contextChecked.formula]})})]})]}),Object(m.jsxs)("div",{className:"flex flex-col min-content",children:[Object(m.jsx)("div",{className:"relative pl-4 flex justify-end flex-initial",children:Object(m.jsx)(F.Tooltip,{title:"Edit",position:"right",arrow:"true",children:Object(m.jsx)("div",{onClick:function(){return e.modify(!0,e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow rounded-full cursor-pointer "+e.statIconColor,children:Object(m.jsx)("i",{className:e.statIconName})})})}),Object(m.jsx)("div",{className:"relative pl-4 flex mt-2 justify-end flex-initial",children:Object(m.jsx)(F.Tooltip,{title:"Delete",position:"right",arrow:"true",children:Object(m.jsx)("div",{onClick:function(){return e.delete(e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow rounded-full cursor-pointer "+e.statIconColor,children:Object(m.jsx)("i",{className:e.statSecondIconName})})})}),Object(m.jsx)(F.Tooltip,{title:"Download",position:"right",arrow:"true",children:Object(m.jsx)("div",{className:"relative pl-4 flex mt-2 justify-end flex-initial",children:Object(m.jsx)("div",{onClick:function(){return e.download(e.number)},id:"downloadButton-"+e.number,className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow rounded-full cursor-pointer bg-emerald-400",children:Object(m.jsx)("i",{className:e.statDownloadIconName,id:"downloadIcon"})})})})]})]}),Object(m.jsx)("div",{className:"flex flex-col mt-4",children:Object(m.jsx)("div",{className:"relative w-full max-w-full flex-grow flex-1",children:Object(m.jsx)("div",{className:"overflow-hidden relative flex flex-col min-w-0 "+(a?"pb-4 ":"")+"break-words bg-white w-full border-b border-blueGray-200",children:Object(m.jsx)(V,{contract:t,patterns:e.patterns,color:"lightBlue",setOpen:function(e){i(e)},defaultOpened:a,modal:h})})})})]})}),Object(m.jsx)(D.g,{isOpen:u,toggle:function(){return h(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:Object(m.jsx)(U,{close:function(){return h(!1)}})})]})};var Q=function(e){return Object(m.jsx)("div",{className:"flex-auto p-4 flex flex-col justify-center items-center",children:Object(m.jsxs)("div",{className:"flex flex-wrap flex-col",children:[Object(m.jsx)("div",{className:"relative w-full pb-2 max-w-full text-center flex-grow flex-1",children:Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-white",children:e.statText})}),Object(m.jsx)("div",{className:"relative w-auto flex flex-initial justify-center",children:Object(m.jsx)("div",{className:"bg-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full "+e.statIconColor,children:Object(m.jsx)("i",{className:e.statIconName})})})]})})},q=["border","size","leftIcon","rightIcon","type"],H=s.a.forwardRef((function(e,t){var o=e.border,r=e.size,s=e.leftIcon,n=e.rightIcon,a=e.type,i=Object(f.a)(e,q),l={sm:"px-2 py-2 text-sm ",lg:"px-3 py-3 text-sm ",regular:"px-3 py-2 text-sm "}[r]+" w-full placeholder-blueGray-200 text-blueGray-700 relative bg-white rounded-md outline-none focus:ring focus:ring-lightBlue-500 focus:ring-1 focus:border-lightBlue-500 border border-solid transition duration-200 ";l={border:"border-blueGray-300",borderless:"border-transparent shadow"}[o]+" "+l;var d=null,u=null,h="mb-3 pt-0";return s&&(l+="pl-10 ",h="relative flex w-full flex-wrap items-stretch mb-3",d=Object(m.jsx)("span",{className:"z-10 h-full flex absolute text-center text-blueGray-300 text-sm items-center w-8 pl-3",children:Object(m.jsx)("i",{className:s})})),n&&(l+="pr-10 ",h="relative flex w-full flex-wrap items-stretch mb-3",u=Object(m.jsx)("span",{className:"z-10 h-full flex absolute text-center text-blueGray-300 text-sm items-center w-8 right-0",children:Object(m.jsx)("i",{className:n})})),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:h,ref:t,children:[d,a&&"textarea"===a?Object(m.jsx)("textarea",Object(c.a)(Object(c.a)({},i),{},{type:a,className:l})):Object(m.jsx)("input",Object(c.a)(Object(c.a)({},i),{},{type:a,className:l})),u]})})}));H.defaultProps={border:"border",size:"regular"};var K=H,X=o(108),Z=o(167),_=o(35),$=o.n(_);function ee(e){var t=e.placeholder,o=e.defaultValue,r=e.patterns,n=e.changeSelector,a=e.name,i=s.a.useState(!1),l=Object(d.a)(i,2),c=l[0],u=l[1],h=/constructor/i.test(window.HTMLElement)||"[object SafariRemoteNotification]"===(!window.safari||"undefined"!==typeof window.safari).toString(),b=function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"relative w-100",children:[""===o?t:o,Object(m.jsx)("i",{className:"fa-solid fa-square-caret-down absolute right-0"})]})})},f=function(){u(!1)},g=function(){var e=Object(Z.a)(Object(X.a)().mark((function e(t,o,r){return Object(X.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.target.name=o,n(t,r),u(!0),e.next=5,new Promise((function(e){return setTimeout(e,500)}));case 5:document.getElementById("dropdown").click();case 6:case"end":return e.stop()}}),e)})));return function(t,o,r){return e.apply(this,arguments)}}(),j=function(){var e,t=[],o=[],s=[];return r.map((function(r,n){return e=h?Object(m.jsxs)("div",{children:[Object(m.jsx)(D.n,{placement:"right",target:"surveillance_"+n,children:r.description}),Object(m.jsx)($.a.Item,{id:"surveillance_"+n,onClick:function(e){return g(e,a,r.name)},children:r.name})]},n):Object(m.jsx)(F.Tooltip,{html:r.description,position:"right",arrow:"true",children:Object(m.jsx)($.a.Item,{onClick:function(e){return g(e,a,r.name)},children:r.name})},n),1===r.arguments.length&&"locations"===r.arguments[0].name?t.push(e):2===r.arguments.length&&"trigger"===r.arguments[0].name&&"reaction"===r.arguments[1].name?o.push(e):s.push(e),""})),Object(m.jsxs)($.a,{id:"dropdown",title:Object(m.jsx)(b,{}),menuClassName:c?"hidden bg-gray-500":"bg-gray-500",position:"right",wrapperClassName:"w-100",buttonClassName:"w-100 text-left",onClick:f,children:[Object(m.jsxs)($.a.Item,{className:"focus:outline-none",children:[Object(m.jsxs)("div",{className:"relative w-100",children:["Surveillance",Object(m.jsx)("i",{className:"fa-solid fa-caret-right absolute right-0 bottom-0"})]}),Object(m.jsx)($.a.Submenu,{style:{width:"110%"},className:"bg-gray-500",position:"right",children:t})]}),Object(m.jsxs)($.a.Item,{className:"focus:outline-none",children:[Object(m.jsxs)("div",{className:"relative w-100",children:["Reaction",Object(m.jsx)("i",{className:"fa-solid fa-caret-right absolute right-0 bottom-0"})]}),Object(m.jsx)($.a.Submenu,{style:{width:"110%"},className:"bg-gray-500",position:"right",children:o})]}),Object(m.jsxs)($.a.Item,{className:"focus:outline-none",children:[Object(m.jsxs)("div",{className:"relative w-100",children:["Others",Object(m.jsx)("i",{className:"fa-solid fa-caret-right absolute right-0 bottom-0"})]}),Object(m.jsx)($.a.Submenu,{style:{width:"110%"},className:"bg-gray-500",position:"right",children:s})]})]})};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"mb-2 mt-2 ml-2 pt-0 relative",children:Object(m.jsx)(j,{})})})}ee.defaultProps={border:"border",size:"regular",closeOnSelect:!0,defaultValue:""};var te=function(e){var t=e.border,o=e.size,r=e.content,s=e.changeParameter,n=e.infos,a=e.presentPattern,i={sm:"px-2 py-2 text-sm ",lg:"px-3 py-3 text-sm ",regular:"px-3 py-2 text-sm "}[o]+" w-full placeholder-blueGray-200 bg-white rounded-md outline-none border border-solid transition duration-200 ";i={border:"border-blueGray-300",borderless:"border-transparent shadow"}[t]+" "+i;for(var l=[],c=0;c<a.arguments.length;c++)l[c]="",Array.isArray(a.arguments[c].value)?l[c]=a.arguments[c].value.join(","):l[c]=a.arguments[c].value;return Object(m.jsx)(m.Fragment,{children:r.map((function(e,t){return Object(m.jsxs)("div",{className:"grid grid-template-25-75 items-center",children:[Object(m.jsx)("div",{className:"mr-4 text-right whitespace-nowrap",children:e.name[0].toUpperCase()+e.name.slice(1)+" : "}),Object(m.jsx)(F.Tooltip,{title:'To enter several values, separate them with ","',position:"right",arrow:"true",children:Object(m.jsx)("input",{type:"text",autoComplete:"off",className:i,placeholder:"list"===e.format?n.placeholders.listOfValues:n.placeholders.singleValues,value:l[t]||"",name:"subValue",onChange:function(e){return s(e,t)}})})]},t)}))})},oe=te;te.defaultProps={border:"border",size:"regular"};o(113);var re=o(168),se=o.n(re);var ne=function(e){function t(t){return function(e){var t="",o=0;return e.split(/([()])/).forEach((function(e){"("===e?(o++,t=t+'<span class="'+"l".concat(o)+'">'+e+"</span>"):")"===e?(t=t+'<span class="'+"l".concat(o)+'">'+e+"</span>",o--):t+=e})),t.toString()}(t=function(e){for(var t=["G","F","X","U","R","W","M"],o=["<->","->","&","|"],r=0;r<t.length;r++)e=e.replaceAll(t[r],"<strong>"+t[r]+"</strong>");for(var s=0;s<o.length;s++)e=e.replaceAll(o[s],"<strong>"+o[s]+"</strong>");return e}(t=function(t){var o=[],r="",s="",n="",a="";o=e.inputsValue.replaceAll(" ","").split(","),e.goalEdit||(o=o.concat(e.outputsValue.replaceAll(" ","").split(","))),o=o.filter((function(e){return e}));var i=t.split(/(\s+)/);if(o)for(var l=0;l<i.length;l++){for(n="",a="",r=i[l];r&&("!"===r.charAt(0)||"("===r.charAt(0));)n+=r.charAt(0),r=r.substring(1);for(;r&&")"===r.charAt(r.length-1);)a+=r.charAt(r.length-1),r=r.substring(0,1*r.length-1);o.includes(r)&&(r="<span class='text-emerald-500'>"+r+"</span>"),s=s+n+r+a}return s}(t))).split("\n").map((function(e,t){return"<span class='editorLineNumber'>".concat(t+1,"</span>").concat(e)})).join("\n")}return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(se.a,{value:e.value,onValueChange:function(t){return e.changeParameter(t)},highlight:function(e){return t(e)},padding:10,className:"editor border-blueGray-300 textareaResizeNone text-blueGray-700 relative bg-white rounded-md outline-none focus:ring focus:ring-lightBlue-500 focus:ring-1 focus:border-lightBlue-500 border border-solid transition duration-200",textareaId:"codeArea",style:{fontFamily:'"Fira code", "Fira Mono", monospace',fontSize:e.size,outline:0}})})},ae=["border","size","leftIcon","rightIcon","type","changeParameter","value","listOfWorldVariables","setLTLWorldValues"],ie=s.a.forwardRef((function(e,t){e.border,e.size;var o=e.leftIcon,r=e.rightIcon,s=(e.type,e.changeParameter),n=e.value,a=e.listOfWorldVariables,i=(e.setLTLWorldValues,Object(f.a)(e,ae),null),l=null,c="mb-2 mt-2 ml-2 pt-0";return o&&(c="relative flex w-full flex-wrap items-stretch mb-3",i=Object(m.jsx)("span",{className:"z-10 h-full flex absolute text-center text-blueGray-300 text-sm items-center w-8 pl-3",children:Object(m.jsx)("i",{className:o})})),r&&(c="relative flex w-full flex-wrap items-stretch mb-3",l=Object(m.jsx)("span",{className:"z-10 h-full flex absolute text-center text-blueGray-300 text-sm items-center w-8 right-0",children:Object(m.jsx)("i",{className:r})})),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:c+" relative",ref:t,children:[i,Object(m.jsx)(ne,{goalEdit:!0,value:n,changeParameter:s,size:12,inputsValue:a.toString()}),l]})})}));ie.defaultProps={border:"border",size:"regular"};var le=ie;function ce(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o].name);return t}function de(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o].description);return t}function ue(e){var t=e.items,o=e.patterns,r=e.color,n=e.changeParameter,a=e.deleteContent,i=e.addContent,l=e.contractType,c=e.listOfWorldVariables,u=e.setLTLWorldValues,h=e.infos,b=s.a.useState(),f=Object(d.a)(b,2),g=f[0],j=f[1],p=function(e){j(e)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{children:Object(m.jsx)(D.b,{className:"card-plain",children:Object(m.jsx)(D.c,{className:"overflow-x-initial",children:Object(m.jsxs)(D.k,{responsive:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{children:h.titles.map((function(e,t){return Object(m.jsx)("th",{children:e},t)}))})}),Object(m.jsxs)("tbody",{children:[t.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:t+1}),Object(m.jsx)("td",{className:"w-32",children:Object(m.jsxs)(D.l,{children:[Object(m.jsx)(D.f,{caret:!0,className:"btn-round btn-block",color:h.dropdownColor,children:void 0===e.pattern?h.types[0]:h.types[1]}),Object(m.jsx)(D.e,{children:h.types.map((function(e,o){return Object(m.jsx)(D.d,{name:"type",onClick:function(o){return n(o,l,t,e)},children:e},o)}))})]})}),void 0===e.pattern&&Object(m.jsx)("td",{className:"w-9/12",colSpan:2,children:Object(m.jsx)(le,{value:e.ltl_value,placeholder:h.placeholders.ltl,changeParameter:function(e){return function(e,t){var o={target:{name:"",value:""}};o.target.name="ltl_value",o.target.value=e,n(o,l,t)}(e,t)},listOfWorldVariables:c,setLTLWorldValues:function(e){return u(t,l,e)}})}),void 0!==e.pattern&&Object(m.jsx)("td",{className:"w-5/12",children:Object(m.jsx)(ee,{items:ce(o),placeholder:h.placeholders.pattern,defaultValue:e.pattern.name,patternDescription:de(o),patterns:o,name:"contentName",changeSelector:function(e,o){return n(e,l,t,o)}})}),void 0!==e.pattern&&Object(m.jsx)("td",{className:"w-4/12",children:Object(m.jsx)(oe,{title:h.details,content:P(e.pattern,o),color:r,setOpen:function(){return p(t)},changeParameter:function(e,o){return n(e,l,t,!1,o)},number:t,infos:h,defaultOpened:t===g,presentPattern:e.pattern})}),Object(m.jsx)("td",{children:Object(m.jsx)(D.a,{className:"btn-icon",color:h.deleteButton.color,size:"sm",type:"button",onClick:function(){return a(t,l)},children:Object(m.jsx)("i",{className:h.deleteButton.icon})})})]},t)})),Object(m.jsx)("tr",{children:Object(m.jsx)("td",{colSpan:"5",className:"text-center",children:Object(m.jsx)(D.a,{className:"btn-icon",color:h.addRowButton.color,size:"sm",type:"button",onClick:function(){return i(l)},children:Object(m.jsx)("i",{className:h.addRowButton.icon})})})})]})]})})})})})}ue.defaultProps={items:[],defaultOpened:-1,multiple:!1};var he={infos:{types:["LTL","Pattern"],placeholders:{ltl:"LTL Value",pattern:"Select a pattern",singleValues:"Value",listOfValues:"Values"},dropdownColor:"info",titles:["#","Type","Value"],details:"See Arguments",deleteButton:{icon:"now-ui-icons ui-1_simple-remove",color:"danger"},addRowButton:{icon:"now-ui-icons ui-1_simple-add",color:"info"}}};function be(e){if(Array.isArray(e))return e;for(var t=[""],o=0,r=0;r<e.length;r++)","===e[r]?(t[++o]="",r!==e.length-1&&" "===e[r+1]&&r++):t[o]+=e[r];return 0===o?t[0]:t}var fe=function(e){var t=s.a.useState(null),o=Object(d.a)(t,2),n=o[0],a=o[1],i=s.a.useState(JSON.parse(JSON.stringify(e.goal))),l=Object(d.a)(i,1)[0],u=s.a.useState(e.goal.context.formula),h=Object(d.a)(u,2),b=h[0],f=h[1];function g(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:-1,a=s||t.target.value,i=!!o&&l.contract[o][r];switch(t.target.name){case"name":l.name=a;break;case"description":l.description=a;break;case"context":f(a),l.context.formula=a,l.context.world_values=[];for(var c=a.split(" "),d=0;d<c.length;d++)"!"===c[d].charAt(0)&&(c[d]=c[d].substring(1)),e.listOfWorldVariables[3].includes(c[d])&&(l.context.world_values.includes(c[d])||l.context.world_values.push(c[d]));break;case"ltl_value":i.ltl_value=a;break;case"contentName":i.pattern.name=a,i.pattern.arguments=[];break;case"type":"Pattern"===a?void 0===i.pattern&&(i.pattern={name:"",arguments:[]},delete i.world_values):delete i.pattern;break;case"subValue":i.pattern.arguments[n]={value:be(a)}}e.edit(l)}function j(t,o){l.contract[o].splice(t,1),e.edit(l)}function p(t){l.contract[t].push({ltl_value:""}),e.edit(l)}function x(t,o,r){l.contract[o][t].world_values=r,e.edit(l)}return Object(r.useEffect)((function(){for(var t=b.split(" "),o="",r="",s=0;s<t.length;s++)o=t[s],"!"===t[s].charAt(0)&&(o=t[s].substring(1)),e.listOfWorldVariables[3].includes(o)&&(o="<span class='text-red-500'>"+o+"</span>"),"!"===t[s].charAt(0)&&(o="!"+o),r+=o+" ";a(r)}),[b,e.listOfWorldVariables]),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(m.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(m.jsx)("i",{className:e.info.modal.close})}),Object(m.jsx)("h4",{className:"title title-up",children:e.info.title})]}),Object(m.jsxs)("div",{className:"modal-body justify-content-center",children:[Object(m.jsx)(K,{type:"text",placeholder:"Title of the Goal",name:"name",value:l.name,onChange:g}),Object(m.jsx)(K,{type:"textarea",placeholder:"Description of the Goal",name:"description",value:l.description,onChange:g}),Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"m-auto w-50",children:Object(m.jsxs)(D.k,{responsive:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsx)("tr",{className:"text-center",children:Object(m.jsx)("th",{colSpan:2,children:"Atomic propositions"})})}),Object(m.jsx)("tbody",{children:e.listOfWorldVariables.map((function(t,o){return o!==e.listOfWorldVariables.length&&Object(m.jsxs)("tr",{children:[Object(m.jsxs)("td",{className:"font-semibold text-center",children:[e.info.lists.title," ",e.info.lists.elements[o]," :"]}),Object(m.jsx)("td",{className:"text-left",children:t.map((function(e,o){return Object(m.jsxs)("span",{children:[" "+e,o!==t.length-1?", ":""]},o)}))})]},o)}))})]})})}),Object(m.jsxs)("div",{className:"mt-4",children:[Object(m.jsxs)("h4",{className:"font-bold title-up mb-2 inline",children:[e.info.context.title," : "]}),Object(m.jsx)("input",{type:"text",placeholder:"write boolean",name:"context",className:"ml-4 border-blueGray-300 text-sm placeholder-blueGray-200 bg-white rounded-md border border-solid",value:e.goal.context.formula,onChange:g}),Object(m.jsx)("div",{className:"w-64 ml-12 center inline",dangerouslySetInnerHTML:{__html:"Formula : "+n}})]}),e.info.contract.map((function(t,o){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h4",{className:"title title-up",children:t.title}),Object(m.jsx)(ue,Object(c.a)({items:l.contract[t.title],patterns:e.patterns,color:t.color,changeParameter:g,deleteContent:j,addContent:p,contractType:t.title,listOfWorldVariables:e.listOfWorldVariables,setLTLWorldValues:x,keyType:o},he))]},o)}))]}),Object(m.jsx)(D.h,{children:Object(m.jsxs)("div",{className:"flex flex-col w-full",children:[0===l.contract.guarantees.length&&Object(m.jsx)("div",{className:"flex justify-end mb-2",children:Object(m.jsx)("span",{className:"text-red-500 ",children:e.info.modal.warningGuarantees})}),Object(m.jsxs)("div",{className:"flex w-full justify-between",children:[Object(m.jsx)(D.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText}),Object(m.jsx)(D.a,{color:e.info.modal.saveColor,disabled:0===l.contract.guarantees.length,onClick:function(){return e.save(l)},children:e.info.modal.saveText})]})]})})]})},me={name:"",description:"",context:{formula:"",world_values:[]},contract:{assumptions:[],guarantees:[]}},ge={info:{title:"Edit a Goal",context:{title:"Context"},contract:[{title:"assumptions",color:"lightBlue"},{title:"guarantees",color:"lightBlue"}],modal:{close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",warningGuarantees:"A Goal must have at least 1 Guarantee",saveText:"Save",saveColor:"info"},lists:{title:"List of",elements:["Locations","Actions","Sensors","Contexts"]}}};var je=function(e){var t=C(),o=Object(r.useState)(0),s=Object(d.a)(o,2),n=s[0],a=s[1],i=Object(r.useCallback)((function(e){a(e.robotic)}),[a]);return Object(r.useEffect)((function(){if(null!=t)return t.emit("get-patterns"),t.on("receive-patterns",i),function(){return t.off("receive-patterns")}}),[t,i]),Object(r.useEffect)((function(){void 0!==e.patterns&&e.patterns(n)}),[n]),Object(m.jsx)(m.Fragment,{})};var pe=function(e){var t=C(),o=Object(r.useState)(0),s=Object(d.a)(o,2),n=s[0],a=s[1],i=Object(r.useCallback)((function(e){a(e)}),[a]),l=Object(r.useCallback)((function(){if(e.toggleGetTrigger(),e.contracts)return function(){return t.off("contract-goals-saved")}}),[e,t]);return Object(r.useEffect)((function(){if(null!=t&&null!==e.goals&&e.triggerSave){if(e.toggleSaveTrigger(!1),!e.contracts)return t.emit("add-goal",{goal:e.goals[e.index],project_id:e.projectId}),"simple"===e.projectId?(t.on("saving-simple",i),function(){return t.off("saving-simple")}):(t.on("goal-saved",l),function(){return t.off("saving-complete")});t.emit("modify-contracts-goals",{goal:e.goals[e.index],project:e.projectId}),t.on("contract-goals-saved",l)}}),[t,e,i]),Object(r.useEffect)((function(){e.switchWorld(n)}),[n]),Object(m.jsx)(m.Fragment,{})};var xe=function(e){var t=C();return Object(r.useEffect)((function(){null!=t&&e.triggerGoalsChecked&&(t.emit("check-goals",e.projectId),e.swapTriggerGoalsChecked(!1))}),[t,e]),Object(m.jsx)(m.Fragment,{})},ve=o(55),Oe=o(175);var we=function(e){var t=Object(Oe.a)({readAs:"DataURL",accept:".json",multiple:!1,limitFilesConfig:{max:1}}),o=Object(d.a)(t,2),s=o[0],n=o[1].filesContent,a=Object(r.useState)(!1),i=Object(d.a)(a,2),l=i[0],c=i[1],u=Object(r.useState)(null),h=Object(d.a)(u,2),b=h[0],f=h[1];return Object(r.useEffect)((function(){!n[0]||l&&b===n[0]||(e.upload(atob(n[0].content.split(",")[1])),c(!0),f(n[0]))}),[e,l,n,b]),e.contracts?Object(m.jsx)(m.Fragment,{}):Object(m.jsx)("div",{children:Object(m.jsxs)(p,{size:e.size,color:e.color,outline:!0,onClick:function(){return s()},children:[Object(m.jsx)("i",{className:e.icon+"mr-2"}),e.text]})})};var ye=function(e){var t=C(),o=Object(r.useState)(0),s=Object(d.a)(o,2),n=s[0],a=s[1],i=Object(r.useState)(0),l=Object(d.a)(i,2),c=l[0],u=l[1],h=Object(r.useCallback)((function(e){u(e)}),[u]),b=Object(r.useCallback)((function(e){a(e)}),[a]);return Object(r.useEffect)((function(){null!=t&&null!==e.deleteIndex&&(t.emit("delete-goal",{goal_id:e.goals[e.deleteIndex].id,project:e.projectId}),e.deleteTrigger(),"simple"===e.projectId&&t.on("deleting-simple",h))}),[t,e.deleteIndex,e.deleteTrigger,e.projectId]),Object(r.useEffect)((function(){if(null!=t)return e.contracts?(t.emit("get-contracts-goals",e.projectId),t.on("receive-contracts-goals",b),function(){return t.off("receive-contracts-goals")}):(t.emit("get-goals",e.projectId),t.on("receive-goals",b),function(){return t.off("receive-goals")})}),[t,b,e.projectId,e.triggerGoals,e.contracts]),Object(r.useEffect)((function(){e.updateGoals(n)}),[n]),Object(r.useEffect)((function(){e.switchWorld(c)}),[c]),Object(m.jsx)(m.Fragment,{})},Ne=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(){var e;Object(L.a)(this,o);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={modalClassic:!1,goals:[],receivedGoals:[],editedGoals:[],currentGoalIndex:0,numChildren:0,patterns:[],saveTrigger:!1,deletionIndex:null},e.downloadGoal=function(t){var o={context:e.state.goals[t].context,contract:e.state.goals[t].contract,description:e.state.goals[t].description,name:e.state.goals[t].name},r=JSON.stringify(o,null,"\t"),s=new Blob([r],{type:"text/json;charset=utf-8"}),n=new File([s],e.state.goals[t].name+".json");Object(ve.saveAs)(n)},e.downloadAllGoals=function(){if(0!==e.state.goals.length){for(var t,o=[],r=0;r<e.state.goals.length;r++)t={context:e.state.goals[r].context,contract:e.state.goals[r].contract,description:e.state.goals[r].description,name:e.state.goals[r].name},o.push(t);var s=JSON.stringify(o,null,"\t"),n=new Blob([s],{type:"text/json;charset=utf-8"}),a=new File([n],e.props.project+"_goals.json");Object(ve.saveAs)(a)}},e.isJsonString=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},e.goalPartOfProject=function(t){if(!t.context.hasOwnProperty("world_values"))return!1;for(var o=0;o<t.context.world_values.length;o++)if(!e.props.listOfWorldVariables[3].includes(t.context.world_values[o]))return!1;if(!t.contract.hasOwnProperty("assumptions"))return!1;if(t.contract.assumptions[0]&&t.contract.assumptions[0].hasOwnProperty("world_values"))for(var r=0;r<t.contract.assumptions.length;r++)if(t.contract.assumptions[0].world_values[r][0]&&!(e.props.listOfWorldVariables[0].includes(t.contract.assumptions[0].world_values[r][0])||e.props.listOfWorldVariables[1].includes(t.contract.assumptions[0].world_values[r][0])||e.props.listOfWorldVariables[2].includes(t.contract.assumptions[0].world_values[r][0])))return!1;if(!t.contract.hasOwnProperty("guarantees"))return!1;if(t.contract.guarantees[0]&&t.contract.guarantees[0].hasOwnProperty("world_values"))for(var s=0;s<t.contract.guarantees.length;s++)if(t.contract.guarantees[0].world_values[s][0]&&!(e.props.listOfWorldVariables[0].includes(t.contract.guarantees[0].world_values[s][0])||e.props.listOfWorldVariables[1].includes(t.contract.guarantees[0].world_values[s][0])||e.props.listOfWorldVariables[2].includes(t.contract.guarantees[0].world_values[s][0])))return!1;return!0},e.uploadGoals=function(t){e.isJsonString(t)&&function(){var o=JSON.parse(t);if(o.length){o.push(me);for(var r=function(t){setTimeout((function(){e.uploadGoal(o[t])}),2e3)},s=0;s<o.length;s++)r(s)}else e.uploadGoal(o)}()},e.uploadGoal=function(t){if(t.hasOwnProperty("context")&&t.hasOwnProperty("contract")&&t.hasOwnProperty("name")&&t.hasOwnProperty("description")&&e.goalPartOfProject(t)){e.saveCurrentGoal(t);var o=JSON.parse(JSON.stringify(e.state.goals));o.push(JSON.parse(JSON.stringify(t))),e.setState({currentGoalIndex:o.length-1,editedGoals:o})}},e.onAddChild=function(){var t=JSON.parse(JSON.stringify(e.state.goals));t.push(JSON.parse(JSON.stringify(me))),e.setState({editedGoals:t},(function(){return e.setModalClassic(!0,t.length-1)}))},e.setModalClassic=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;e.setState({modalClassic:t}),-1!==o&&e.setState({currentGoalIndex:o})},e.deleteGoal=function(t){e.setState({deletionIndex:t})},e.editCurrentGoal=function(t){e.setState((function(o){return{editedGoals:o.editedGoals.map((function(o,r){return r===e.state.currentGoalIndex?t:o}))}}))},e.saveCurrentGoal=function(t){console.log(t),e.setState((function(o){return{goals:o.goals.map((function(o,r){return r===e.state.currentGoalIndex?t:o}))}}),(function(){return e.toggleSaveTrigger(!0)})),e.setModalClassic(!1)},e.getGoals=function(t){for(var o=[],r=[],s=0;s<t.length;s++){var n=JSON.parse(t[s]);n.hasOwnProperty("group")&&"new"===n.group||o.push(n),r.push(n)}e.setState({goals:o,receivedGoals:o,editedGoals:o,numChildren:o.length}),e.props.setGoals(r)},e.getPatterns=function(t){e.setState({patterns:JSON.parse(t)},(function(){return e.props.setPatterns(e.state.patterns)}))},e.toggleSaveTrigger=function(t){e.setState({saveTrigger:t})},e.deleteTrigger=function(){e.setState({deletionIndex:null},(function(){return e.props.toggleGetTrigger()}))},e.switchWorld=function(t){e.props.contracts||(e.props.setProject(t),e.props.toggleGetTrigger())},e}return Object(B.a)(o,[{key:"render",value:function(){for(var e=this,t=[],o=0;o<this.state.numChildren;o+=1)t.push(Object(m.jsx)(Y,{number:o,title:this.state.receivedGoals[o].name,description:this.state.receivedGoals[o].description,contextChecked:this.state.receivedGoals[o].context,context:this.props.listOfWorldVariables[3],contract:this.state.receivedGoals[o].contract,patterns:this.state.patterns,statIconName:this.props.info.goalComponent.editIconName,statDownloadIconName:this.props.info.goalComponent.downloadIconName,statSecondIconName:this.props.info.goalComponent.deleteIconName,statIconColor:this.props.info.goalComponent.iconColor,modify:this.setModalClassic,download:this.downloadGoal,delete:this.deleteGoal},o));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(xe,{projectId:this.props.project,triggerGoalsChecked:this.props.triggerGoalsChecked,swapTriggerGoalsChecked:this.props.swapTriggerGoalsChecked}),Object(m.jsx)(ye,{projectId:this.props.project,session:this.props.id,updateGoals:this.getGoals,goals:this.state.editedGoals,deleteIndex:this.state.deletionIndex,triggerGoals:this.props.triggerGetGoals,deleteTrigger:this.deleteTrigger,switchWorld:this.switchWorld,contracts:this.props.contracts}),Object(m.jsx)(je,{patterns:this.getPatterns}),Object(m.jsx)(pe,{projectId:this.props.project,index:this.state.currentGoalIndex,goals:this.state.editedGoals,contracts:this.props.contracts,triggerSave:this.state.saveTrigger,toggleSaveTrigger:this.toggleSaveTrigger,toggleGetTrigger:this.props.toggleGetTrigger,switchWorld:this.switchWorld}),Object(m.jsx)(Ce,{uploadGoal:this.uploadGoals,addChild:this.onAddChild,contracts:this.props.contracts,downloadGoals:this.downloadAllGoals,children:t}),Object(m.jsx)(D.g,{isOpen:this.state.modalClassic,toggle:function(){return e.setModalClassic(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:Object(m.jsx)(fe,Object(c.a)({tmpedited:this.state.editedGoals,tmpindex:this.state.currentGoalIndex,goal:this.state.editedGoals[this.state.currentGoalIndex],listOfWorldVariables:this.props.listOfWorldVariables,patterns:this.state.patterns,edit:this.editCurrentGoal,save:this.saveCurrentGoal,close:function(){return e.setModalClassic(!1)}},ge))})]})}}]),o}(s.a.Component);Ne.defaultProps={contract:""};var Ce=function(e){return Object(m.jsxs)("section",{className:"relative",children:[Object(m.jsx)(we,{size:"worldModeling",upload:e.uploadGoal,color:A.info.buttons.uploadGoal.color,text:A.info.buttons.uploadGoal.text,icon:A.info.buttons.uploadGoal.icon,contracts:e.contracts}),Object(m.jsxs)(p,{contracts:e.contracts,size:"worldModeling",color:A.info.buttons.downloadGoals.color,outline:!0,onClick:e.downloadGoals,children:[Object(m.jsx)("i",{className:A.info.buttons.downloadGoals.icon+"mr-2"}),A.info.buttons.downloadGoals.text]}),Object(m.jsxs)("div",{className:"mx-auto w-full",children:[Object(m.jsxs)("div",{className:"flex justify-center",children:[Object(m.jsx)("div",{className:"flex flex-col",children:Object(m.jsx)("div",{className:"mt-2"})}),Object(m.jsx)("div",{onClick:e.addChild,className:"w-full lg:w-6/12 xl:w-3/12 ml-4 mr-4 px-4 relative flex flex-col min-w-0 break-words bg-lightBlue-600 rounded mb-6 xl:mb-0 shadow-lg cursor-pointer opacity-1 transform duration-300 transition-all ease-in-out",children:Object(m.jsx)(Q,{statText:"Add a Goal",statIconName:"fas fa-plus-square",statIconColor:"text-lightBlue-700"})})]}),Object(m.jsx)("div",{className:"flex flex-wrap justify-center",children:e.children})]})]})};function Ge(e){var t=e.statTitle,o=e.statIconName,r=e.statIconColor,s=e.state,n=e.headerKey,a=e.clickable,i=e.onSelectCustomHeader,l=s?"text-blueGray-700":"text-blueGray-300",c=s?r:"bg-blueGray-200",d=a?"cursor-pointer":"cursor-auto";return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{onClick:function(){return i(n,a,t)},className:"relative flex justify-center break-words bg-white rounded-lg mb-6 shadow-lg text-center "+d,children:Object(m.jsx)("div",{className:"p-3 ",children:Object(m.jsxs)("div",{className:"flex flex-row ",children:[Object(m.jsx)("div",{className:"pr-4 flex justify-center items-center ",children:Object(m.jsx)("span",{className:"font-bold text-base uppercase "+l,children:t})}),Object(m.jsx)("div",{className:"relative w-auto ",children:Object(m.jsx)("div",{className:"text-white p-3 text-center inline-flex items-center justify-center w-12 h-12 shadow-lg rounded-full "+c,children:Object(m.jsx)("i",{className:o})})})]})})})})}function ke(e){var t=e.cards,o=e.color,r=e.states,s=e.clickable,n=e.onSelectCustomHeader;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"relative pt-8 pb-12 "+{light:"bg-blueGray-200",dark:"bg-blueGray-800",blueGray:"bg-blueGray-500",red:"bg-red-500",orange:"bg-orange-500",amber:"bg-amber-500",emerald:"bg-emerald-500",teal:"bg-teal-500",lightBlue:"bg-lightBlue-500",indigo:"bg-indigo-500",purple:"bg-purple-500",pink:"bg-pink-500"}[o],children:Object(m.jsx)("div",{className:"px-12 mx-8 w-40",children:Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"flex flex-wrap justify-center ",children:t.map((function(e,t){return Object(m.jsx)("div",{className:"flex-initial w-64 px-3 ",children:Object(m.jsx)(Ge,Object(c.a)(Object(c.a)({},e),{},{clickable:s,headerKey:t,state:r[t],onSelectCustomHeader:n}))},t)}))})})})})})}Ge.defaultProps={statArrow:"up"},ke.defaultProps={cards:[],color:"blueGray",onSelectCustomHeader:function(){}};var Fe={color:"lightBlue",cards:[{statTitle:"World Modeling",statIconName:"fas fa-globe",statIconColor:"bg-red-500"},{statTitle:"Goal Modeling",statIconName:"fas fa-bullseye",statIconColor:"bg-orange-500"},{statTitle:"Analysis",statIconName:"fas fa-spinner",statIconColor:"bg-pink-500"},{statTitle:"Simulation",statIconName:"fas fa-check-circle",statIconColor:"bg-lightBlue-500"}]};function Se(e){var t=e.copyright,o=e.links;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("footer",{className:"block py-4 w-full absolute bottom-0",children:Object(m.jsxs)("div",{className:"container mx-auto px-4",children:[Object(m.jsx)("hr",{className:"mb-4 border-b-1 border-blueGray-200"}),Object(m.jsxs)("div",{className:"flex flex-wrap items-center md:justify-between justify-center",children:[Object(m.jsx)("div",{className:"w-full md:w-4/12 px-4",children:Object(m.jsxs)("div",{className:"text-center mb-2 md:text-left md:mb-0",children:[t&&t.to&&Object(m.jsx)(i.b,Object(c.a)(Object(c.a)({},t),{},{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left"})),t&&void 0===t.to&&Object(m.jsx)("a",Object(c.a)(Object(c.a)({},t),{},{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left"}))]})}),Object(m.jsx)("div",{className:"w-full md:w-8/12 px-4",children:Object(m.jsx)("ul",{className:"flex flex-wrap list-none md:justify-end  justify-center",children:o.map((function(e,t){return Object(m.jsxs)("li",{children:[e.to&&Object(m.jsx)(i.b,Object(c.a)(Object(c.a)({},e),{},{className:"text-blueGray-700 hover:text-blueGray-900 text-sm font-semibold block py-1 px-3"})),void 0===e.to&&Object(m.jsx)("a",Object(c.a)(Object(c.a)({},e),{},{className:"text-blueGray-700 hover:text-blueGray-900 text-sm font-semibold block py-1 px-3"}))]},t)}))})})]})]})})})}Se.defaultProps={copyright:{},links:[]};var Ie={copyright:{href:"https://www.creative-tim.com/?ref=npr-footeradmin",target:"_blank",children:"Copyright \xa9 "+(new Date).getFullYear()+" Creative Tim"},links:[{href:"https://www.creative-tim.com?ref=npr-footeradmin",target:"_blank",children:"Creative Tim"},{href:"https://www.creative-tim.com/presentation?ref=npr-footeradmin",target:"_blank",children:"About Us"},{href:"https://www.creative-tim.com/blog/?ref=npr-footeradmin",target:"_blank",children:"Blog"},{href:"https://www.creative-tim.com/license?ref=npr-footeradmin",target:"_blank",children:"Licenses"}]};var Ae=function(e){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{onClick:e.onClick,className:"w-full sm:w-5/12 md:w-4/12 lg:w-4/12 xl:w-3/12 mt-8 ml-4 mr-4 pl-3 pr-2 relative flex cursor-pointer flex-col min-w-0 break-words border-lightBlue-700 bg-white rounded mb-6 xl:mb-0 shadow-lg opacity-1 transform duration-300 transition-all ease-in-out "+(e.selected?"world-border-8":"world-border-0"),children:Object(m.jsxs)("div",{className:"flex-auto p-3 pt-4 pr-0",children:[Object(m.jsxs)("div",{className:"flex",children:[Object(m.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(m.jsx)("div",{className:"flex flex-wrap",children:Object(m.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:e.title})})}),""!==e.description&&Object(m.jsxs)("div",{className:"flex flex-col flex-wrap w-full",children:[Object(m.jsx)("div",{className:"relative w-full pr-4 mt-2 mb-2 max-w-full flex-grow flex-1 ",children:Object(m.jsx)("span",{className:"text-md text-blueGray-700",children:e.description})}),Object(m.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1"})]}),""===e.description&&Object(m.jsx)("div",{className:"flex flex-col h-8 flex-wrap w-full"}),e.image&&Object(m.jsx)("div",{className:"w-full",children:Object(m.jsx)("img",{src:"data:image/png;base64,"+(t=e.image,t=t.slice(2,t.length-1)),alt:"World",className:"w-full"})})]}),Object(m.jsxs)("div",{className:"flex flex-col min-content",children:[Object(m.jsx)("div",{className:"relative pl-4 flex justify-end flex-initial",children:Object(m.jsx)(i.b,{to:"/world",className:"hover-no-underline",children:Object(m.jsx)(F.Tooltip,{title:"Edit",position:"right",arrow:"true",children:Object(m.jsx)("div",{onClick:function(){return e.modify(e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-10 h-10 shadow-lg rounded-full cursor-pointer "+e.statIconColor,children:Object(m.jsx)("i",{className:e.statIconName})})})})}),0!==e.number&&Object(m.jsx)("div",{className:"relative pl-4 flex mt-2 justify-end flex-initial",children:Object(m.jsx)(F.Tooltip,{title:"Delete",position:"right",arrow:"true",children:Object(m.jsx)("div",{onClick:function(){return e.delete(!0,e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-10 h-10 shadow-lg rounded-full cursor-pointer "+e.statIconColor,children:Object(m.jsx)("i",{className:e.statSecondIconName,id:"deleteIcon"})})})}),Object(m.jsx)("div",{className:"relative pl-4 flex mt-auto justify-end flex-initial ",children:Object(m.jsx)(F.Tooltip,{title:"Download",position:"right",arrow:"true",children:Object(m.jsx)("div",{onClick:function(){return e.download(e.number)},className:"text-white p-3 text-center inline-flex items-center justify-center w-10 h-10 shadow-lg rounded-full cursor-pointer bg-emerald-400",children:Object(m.jsx)("i",{className:e.statDownloadIconName,id:"downloadIcon"})})})})]})]}),Object(m.jsx)("div",{className:"flex flex-col mt-4",children:Object(m.jsx)("div",{className:"relative w-full max-w-full flex-grow flex-1",children:Object(m.jsx)("div",{className:"overflow-hidden relative flex flex-col min-w-0 break-words bg-white w-full border-b border-blueGray-200"})})})]})})});var t};var Te=function(e){var t=C(),o=Object(r.useState)(0),s=Object(d.a)(o,2),n=s[0],a=s[1],i=Object(r.useState)(!1),l=Object(d.a)(i,2),c=l[0],u=l[1],h=Object(r.useCallback)((function(e){a(e)}),[a]);return Object(r.useEffect)((function(){if(null!=t)return t.emit("get-projects"),t.on("receive-projects",h),function(){return t.off("receive-projects")}}),[t,h,e.projectAdded,c]),Object(r.useEffect)((function(){e.worlds(n)}),[n]),Object(r.useEffect)((function(){if(e.uploadConfirmation)return t.emit("get-projects"),e.uploadChange(!1),u(!c),t.on("receive-projects",h),function(){return t.off("receive-projects")}}),[t,e.uploadChange,e.uploadConfirmation,h,e.projectAdded,c]),Object(r.useEffect)((function(){if(e.deletionConfirmation)return console.log(e.listOfWorlds),console.log(e.listOfWorlds[e.deletionIndex].project_id),t.emit("delete-project",e.listOfWorlds[e.deletionIndex].project_id),e.deletionChanger(!1),t.on("deletion-complete",u(!c)),function(){return t.off("deletion-complete")}}),[e.deletionConfirmation,e.deletionIndex,e.deletionChanger,t]),Object(m.jsx)(m.Fragment,{})},Le={mainTitle:"Build Your Environment",gridSize:"Size of the Grid",errorMsg:{gridTooSmall:"The retracted size is too small, clear before decreasing the size",wallInsideBlock:"You can't create a wall within a block",wallLine:"Select a line or a column where you want to put a wall",splitLocations:"You can't have a location that would be split"},help:{title:"How to do?",messages:[{title:"How to create a Location?",content:"Click on a first cell, then click on the opposite corner of the location you want. You will need to enter the id of the location you just created to see it appear."},{title:"How to delete a Location?",content:"In the list of locations, click on the cross corresponding to the location you want to delete."},{title:"How to put a Wall?",content:"Go to wall mode, click on a location and next, click on a neighbour location. A wall will be built."},{title:"How to delete a Wall?",content:"Go to wall mode, click on 2 locations between which there is a wall. The wall will disappear."}]},componentsList:[{content:[],title:"Locations",displayAddWallButton:!1},{content:[],title:"Actions",displayAddButton:!0},{content:[],title:"Sensors",displayAddButton:!0},{content:[],title:"Context",displayAddButton:!0}],buttons:{clear:"Clear",save:"Save",update:"Update",back:{text:"Back to Crome",color:"gray",icon:"fas fa-long-arrow-alt-left"},buildYourEnvironment:{text:"Build your environment",size:"worldModeling",color:"gray",icon:"fas fa-plus-square"},uploadWorld:{text:"Upload a world",size:"worldModeling",color:"gray",icon:"fas fa-arrow-up"}},modal:{world:{title:"Edit Element",modal:{mutex:"Exclusive with :",close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",saveText:"Save",saveColor:"info"}},saving:{title:"Save Environment",modal:{close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",saveText:"Save",saveColor:"info"}},inputId:{title:"Enter Location ID",modal:{close:"now-ui-icons ui-1_simple-remove",cancelText:"Cancel",cancelColor:"danger",saveText:"Save",saveColor:"info"}}}};var Be=function(e){var t=C(),o=Object(r.useCallback)((function(t){e.returnProjectId(t)}),[e]);return Object(r.useEffect)((function(){if(null!=t&&null!==e.world&&e.trigger){if(e.world.environment.session_id=e.session,e.world.info.session_id=e.session,null===e.world.environment.project_id){var r=function(e){var t=Math.floor(9e5*Math.random())+1e5;return e.replaceAll(" ","").toLowerCase()+"_"+t}(e.world.info.name);e.world.environment.project_id=r,e.world.info.project_id=r}else e.world.info.project_id=e.world.environment.project_id;return console.log("emit socket save-project"),t.emit("save-project",{world:e.world}),e.uploadImage&&t.emit("save-image",{image:e.world.image.split("'")[1],project:e.world.environment.project_id}),e.setTrigger(!1),t.on("project-saved",o),function(){return t.off("saving-complete")}}}),[t,e.world,e,o]),Object(m.jsx)(m.Fragment,{})},Me=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(){var e;Object(L.a)(this,o);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={worlds:[],info:[],images:[],selectedWorldIndex:0,selectedWorldToDelete:0,numChildren:0,modalDeletionConfirmation:!1,deletionConfirmation:!1,uploadConfirmation:!1,worldSelected:null,uploadedWorld:null,triggerSave:!1,projectID:null},e.setUploadedWorld=function(t){e.setState({uploadedWorld:t})},e.setProjectID=function(t){e.setState({projectID:t})},e.setTriggerSave=function(t){e.setState({triggerSave:t})},e.setUploadConfirmation=function(t){e.setState({uploadConfirmation:t})},e.getWorlds=function(t){for(var o=[],r=[],s=[],n=[],a=0;a<t.length;a++)for(var i=0;i<t[a].length;i++)"environment"===t[a][i].title?o.push(JSON.parse(t[a][i].content)):"info"===t[a][i].title?(r.push(JSON.parse(t[a][i].content)),s.push(JSON.parse(t[a][i].content).name)):"image"===t[a][i].title&&n.push(t[a][i].content);e.props.setListOfWorldNames(s),e.setState({worlds:o,info:r,images:n,numChildren:o.length})},e.selectWorld=function(t,o){"deleteButton"!==o&&"deleteIcon"!==o&&(t===e.state.worldSelected?(e.setState({worldSelected:null}),e.props.setProject(0)):(e.props.setListOfWorldVariables(e.getListOfWorldVariables(e.state.worlds[t])),e.setState({worldSelected:t}),e.props.setProject(e.state.worlds[t].project_id),e.props.setWorld({environment:e.state.worlds[t],info:e.state.info[t]})))},e.modifyWorld=function(t){e.props.setWorld({environment:e.state.worlds[t],info:e.state.info[t]})},e.downloadWorld=function(t){var o={environment:e.state.worlds[t],info:e.state.info[t],image:e.state.images[t]},r=JSON.stringify(o,null,"\t"),s=new Blob([r],{type:"text/json;charset=utf-8"}),n=new File([s],e.state.worlds[t].project_id+".json");Object(ve.saveAs)(n)},e.isJsonString=function(e){try{JSON.parse(e)}catch(t){return!1}return!0},e.uploadWorld=function(t){if(e.isJsonString(t)){var o=JSON.parse(t);o.hasOwnProperty("environment")&&o.hasOwnProperty("info")&&(e.setUploadedWorld(o),e.setTriggerSave(!0),e.setUploadConfirmation(!0))}},e.clearWorld=function(){e.props.setWorld(null)},e.setModalDeletionConfirmation=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&null!==o&&e.setState({selectedWorldToDelete:o}),e.setState({modalDeletionConfirmation:t})},e.setDeletionConfirmation=function(t){e.setState({deletionConfirmation:t})},e.deleteWorld=function(){e.state.selectedWorldToDelete<e.state.worldSelected&&e.setState({worldSelected:e.state.worldSelected-1}),e.setModalDeletionConfirmation(!1),e.setDeletionConfirmation(!0)},e}return Object(B.a)(o,[{key:"componentDidUpdate",value:function(e,t,o){e.project!==this.props.project&&this.setState({worldSelected:this.getIndexOfProjectId(this.props.project)})}},{key:"getIndexOfProjectId",value:function(e){if(0===e)return null;for(var t=0;t<this.state.worlds.length;t++)if(this.state.worlds[t].project_id===e)return t;return this.state.worlds.length}},{key:"getListOfWorldVariables",value:function(e){for(var t=[[],[],[],[]],o=0;o<e.grid.locations.length;o++)t[0].push(e.grid.locations[o].id);for(var r=0;r<e.actions.length;r++)t[1].push(e.actions[r].name);for(var s=0;s<e.sensors.length;s++)t[2].push(e.sensors[s].name);for(var n=0;n<e.context.length;n++)t[3].push(e.context[n].name);return t}},{key:"render",value:function(){for(var e=this,t=[],o=function(o){t.push(Object(m.jsx)(Ae,{number:o,title:e.state.info[o].name,description:e.state.info[o].description,image:e.state.images[o],statIconName:e.props.info.goalComponent.editIconName,statSecondIconName:e.props.info.goalComponent.deleteIconName,statDownloadIconName:e.props.info.goalComponent.downloadIconName,statIconColor:e.props.info.goalComponent.iconColor,selected:e.state.worldSelected===o,onClick:function(t){return e.selectWorld(o,t.target.id)},modify:e.modifyWorld,download:e.downloadWorld,delete:e.setModalDeletionConfirmation},o))},r=0;r<this.state.numChildren;r+=1)o(r);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Te,{worlds:this.getWorlds,listOfWorlds:this.state.worlds,deletionIndex:this.state.selectedWorldToDelete,deletionConfirmation:this.state.deletionConfirmation,uploadConfirmation:this.state.uploadConfirmation,uploadChange:this.setUploadConfirmation,deletionChanger:this.setDeletionConfirmation,projectAdded:this.props.projectAdded}),Object(m.jsx)(Be,{session:this.props.id,world:this.state.uploadedWorld,trigger:this.state.triggerSave,returnProjectId:this.setProjectID,setTrigger:this.setTriggerSave,uploadImage:this.state.triggerSave}),Object(m.jsx)(Ee,{uploadWorld:this.uploadWorld,clearWorld:this.clearWorld,children:t}),Object(m.jsxs)(D.g,{isOpen:this.state.modalDeletionConfirmation,toggle:function(){return e.setModalDeletionConfirmation(!1)},className:"custom-modal-dialog sm:c-m-w-70",children:[Object(m.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(m.jsx)("button",{"aria-hidden":!0,className:"close",onClick:function(){return e.setModalDeletionConfirmation(!1)},type:"button",children:Object(m.jsx)("i",{className:this.props.info.modal.close})}),Object(m.jsx)("h4",{className:"title title-up",children:this.props.info.modal.title})]}),Object(m.jsx)("div",{className:"modal-body justify-content-center text-center",children:Object(m.jsxs)("span",{children:[this.props.info.modal.content,void 0!==this.state.info[this.state.selectedWorldToDelete]&&this.state.info[this.state.selectedWorldToDelete].name]})}),Object(m.jsxs)(D.h,{children:[Object(m.jsx)(D.a,{color:this.props.info.modal.cancelColor,onClick:function(){return e.setModalDeletionConfirmation(!1)},children:this.props.info.modal.cancelText}),Object(m.jsx)(D.a,{color:this.props.info.modal.confirmColor,onClick:this.deleteWorld,children:this.props.info.modal.confirmText})]})]})]})}}]),o}(s.a.Component),Ee=function(e){return Object(m.jsxs)("section",{className:"relative",children:[Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsx)(we,{upload:e.uploadWorld,size:Le.buttons.uploadWorld.size,color:Le.buttons.uploadWorld.color,text:Le.buttons.uploadWorld.text,icon:Le.buttons.uploadWorld.icon}),Object(m.jsx)(i.b,{to:"/world",className:"mt-2 hover-no-underline",onClick:e.clearWorld,children:Object(m.jsxs)(p,{size:Le.buttons.buildYourEnvironment.size,color:Le.buttons.buildYourEnvironment.color,outline:!0,children:[Object(m.jsx)("i",{className:Le.buttons.buildYourEnvironment.icon+" mr-2"}),Le.buttons.buildYourEnvironment.text]})})]}),Object(m.jsx)("div",{className:"flex flex-wrap justify-center",children:e.children})]})},De={operators:["Conjunction","Composition","Disjunction","Refinement","Extension"],symbols:{conjunction:"circle",composition:"diamond",refinement:"vee"},refinementMessages:["Select the Abstract Goal","Select the Refined Goal","Please select only 2 Goals"],libraryWarning:"Please select only 1 Goal to extend",buttonText:"Apply Operator"};var We=function(e){for(var t=s.a.useState(null),o=Object(d.a)(t,2),r=o[0],n=o[1],a=[],i="",l=function(e){var t=!0;i="border-b-1 text-blueGray-700 text-lg py-1 cursor-pointer",0===e&&(i+=" border-t-1"),e===r?(i+=" bg-blueGray-200 hover:bg-blueGray-300",t=!1,console.log(t)):i+="  hover:bg-blueGray-100",a.push(Object(m.jsxs)("li",{className:i,onClick:function(){return o=e,void n({select:t}?o:null);var o},children:["library_",e]},e))},c=0;c<1e3;c+=1)l(c);return Object(m.jsx)("div",{className:" px-3 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg",children:Object(m.jsxs)("div",{className:"flex flex-col justify-center p-4 pr-0",children:[Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:"Libraries"}),Object(m.jsx)("div",{className:"overflow-auto max-h-200-px pt-3 px-5",children:Object(m.jsx)("ul",{children:a})}),Object(m.jsx)("div",{className:"flex flex-col m-auto py-2 uppercase ",children:Object(m.jsx)(p,{children:"Map to library"})})]})})};var Pe=function(e){var t=s.a.useState(!1),o=Object(d.a)(t,2),r=o[0],n=o[1],a=[];for(var i in e.goal.contract)e.goal.contract.hasOwnProperty(i)&&(a[Object.keys(e.goal.contract).indexOf(i)]=[],a[Object.keys(e.goal.contract).indexOf(i)].title=i,a[Object.keys(e.goal.contract).indexOf(i)].content=e.goal.contract[i]);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"w-full mt-8 px-4 relative flex flex-col min-w-0 break-words bg-white rounded mb-6 opacity-1 transform duration-300 transition-all ease-in-out",children:Object(m.jsxs)("div",{className:"flex-auto p-4 pr-0",children:[Object(m.jsx)("div",{className:"flex",children:Object(m.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(m.jsx)("div",{className:"flex flex-wrap",children:Object(m.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:e.goal.name})})}),Object(m.jsxs)("div",{className:"flex flex-col flex-wrap w-full",children:[Object(m.jsx)("div",{className:"relative w-full pr-4 mt-2 mb-2 max-w-full flex-grow flex-1",children:Object(m.jsx)("span",{className:"text-md text-blueGray-700",children:e.goal.description})}),Object(m.jsxs)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:[Object(m.jsx)("b",{children:"Context : "})," ",e.goal.context.formula]})]})]})}),Object(m.jsx)("div",{className:"flex flex-col mt-4",children:Object(m.jsx)("div",{className:"relative w-full max-w-full flex-grow flex-1",children:Object(m.jsx)("div",{className:"overflow-hidden relative flex flex-col min-w-0 break-words bg-white w-full border-b border-blueGray-200",children:Object(m.jsx)(V,{contract:a,patterns:e.patterns,color:"lightBlue",setOpen:function(e){n(e)},defaultOpened:r})})})}),e.library&&Object(m.jsx)("div",{className:"mt-5",children:Object(m.jsx)(We,{})})]})}),Object(m.jsx)(D.h,{children:Object(m.jsx)("div",{className:"w-full flex justify-center",children:Object(m.jsx)(D.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText})})})]})},Re=o(169),ze=o.n(Re);var Je=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"w-full mt-8 px-4 relative flex flex-col min-w-0 break-words bg-white rounded mb-6 opacity-1 transform duration-300 transition-all ease-in-out",children:Object(m.jsx)("div",{className:"flex-auto p-4 pr-0",children:Object(m.jsx)("div",{className:"flex",children:Object(m.jsxs)("div",{className:"flex flex-wrap w-full",children:[Object(m.jsx)("div",{className:"flex flex-wrap",children:Object(m.jsx)("div",{className:"relative w-full pr-4 max-w-full flex-grow flex-1",children:Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:e.nodeLabel})})}),Object(m.jsx)("div",{className:"flex flex-col flex-wrap w-full",children:Object(m.jsxs)("div",{className:"relative w-full pr-4 mt-2 mb-2 max-w-full flex-grow flex-1",children:[Object(m.jsx)("span",{className:"font-bold text-md uppercase text-blueGray-700",children:"Children : "}),Object(m.jsx)("span",{className:"text-md text-blueGray-700",dangerouslySetInnerHTML:{__html:"generated by "+e.nodeChildren}}),Object(m.jsx)("br",{}),e.nodeParent&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{className:"font-bold text-md uppercase text-blueGray-700",children:"Parent : "}),Object(m.jsx)("span",{className:"text-md text-blueGray-700",dangerouslySetInnerHTML:{__html:"participing in "+e.nodeParent}})]})]})})]})})})}),Object(m.jsx)(D.h,{children:Object(m.jsx)("div",{className:"w-full flex justify-center",children:Object(m.jsx)(D.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText})})})]})},Ve=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(){var e;Object(L.a)(this,o);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={ready:!1,network:null,modalNode:!1,modalGoal:!1,currentGoalIndex:0,nodeLabel:"",nodeChildren:"",nodeParent:""},e.setModalGoal=function(t){e.setState({modalGoal:t})},e.setModalNode=function(t){e.setState({modalNode:t})},e.setCurrentGoalIndex=function(t){e.setState({currentGoalIndex:t})},e.setNodeLabel=function(t){e.setState({nodeLabel:t})},e.setNodeChildren=function(t){e.setState({nodeChildren:t})},e.setNodeParent=function(t){e.setState({nodeParent:t})},e.setReady=function(t){e.setState({ready:t})},e.findGoalIndexById=function(t){if(null!==e.props.goals)for(var o=0;o<e.props.goals.length;o++)if(e.props.goals[o].id===t)return{index:o,goal:e.props.goals[o]}},e.findNodesIndexById=function(t){if(null!==e.props.nodesArray)for(var o=0;o<e.props.nodesArray.length;o++)if(e.props.nodesArray[o].id===t)return e.props.nodesArray[o].label},e.getNodeChildren=function(t){var o="",r=t.split("/\\"),s=t.split("**"),n=t.split("||");return 2===r.length?(o+="a conjunction link between ",o+="<strong>"+e.findNodesIndexById(r[0])+"</strong> and ",o+="<strong>"+e.findNodesIndexById(r[1])+"</strong>"):2===s.length?(o+="a refinement link between ",o+="<strong>"+e.findNodesIndexById(s[0])+"</strong> and ",o+="<strong>"+e.findNodesIndexById(s[1])+"</strong>"):2===n.length&&(o+="a composition link between ",o+="<strong>"+e.findNodesIndexById(n[0])+"</strong> and ",o+="<strong>"+e.findNodesIndexById(n[1])+"</strong>"),o},e.getNodeParent=function(t){var o,r="",s={"/\\":"conjunction","**":"refinement","||":"composition"};if(null!==e.props.edgesArray)for(var n=0;n<e.props.edgesArray.length;n++)if(e.props.edgesArray[n].from===t)for(var a in s)2!==(o=e.props.edgesArray[n].to.split(a)).length||o[0]!==t&&o[1]!==t||(r+=s[a]+" of <strong>"+e.findNodesIndexById(e.props.edgesArray[n].to)+"</strong>\n");return r},e}return Object(B.a)(o,[{key:"shouldComponentUpdate",value:function(e,t,o){return this.props.active!==e.active||this.state!==t}},{key:"render",value:function(){var e=this,t=this,o={layout:{improvedLayout:!0,hierarchical:{enabled:!0,sortMethod:"directed",direction:"DU",shakeTowards:"roots"}},edges:{color:"#000000",arrows:{to:{scaleFactor:1}}},nodes:{shape:"box"},groups:{input:{color:{border:"#00bb00",background:"#ffffff",highlight:{border:"#88bb88",background:"#ccccee"}}},new:{color:{border:"#00bb00",background:"#00bb00",highlight:{border:"#88bb88",background:"#bbffbb"}}},library:{color:{border:"#ffbb00",background:"#ffffff",highlight:{border:"#ffbb88",background:"#eeeecc"}}}},height:this.props.size,autoResize:!0},r={doubleClick:function(e){0!==e.nodes.length&&function(e){var o=t.findGoalIndexById(e[0]);if(void 0===o||o.goal.hasOwnProperty("group")){var r=t.findNodesIndexById(e[0]);t.setNodeLabel(r),t.setNodeChildren(t.getNodeChildren(e[0])),t.setNodeParent(t.getNodeParent(e[0])),t.setModalNode(!0)}else t.setModalGoal(!0),t.setCurrentGoalIndex(o.index)}(e.nodes)}};return Object(m.jsxs)("div",{className:"bg-lightBlue-500 bg-opacity-25 shadow-md",children:[this.state.ready&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ze.a,{graph:this.props.graph,options:o,events:r,getNetwork:function(t){e.setState({network:t})}}),Object(m.jsx)(D.g,{isOpen:this.state.modalGoal,toggle:function(){return e.setModalGoal(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:null!==this.props.goals&&void 0!==this.props.goals[this.state.currentGoalIndex]&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Pe,Object(c.a)({goal:this.props.goals[this.state.currentGoalIndex],library:!0,close:function(){return e.setModalGoal(!1)},patterns:this.props.patterns},ge))})}),Object(m.jsx)(D.g,{isOpen:this.state.modalNode,toggle:function(){return e.setModalNode(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:null!==this.props.goals&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Je,Object(c.a)({nodeChildren:this.state.nodeChildren,nodeLabel:this.state.nodeLabel,nodeParent:this.state.nodeParent,close:function(){return e.setModalNode(!1)}},ge))})})]}),this.props.active&&Object(m.jsx)(Ue,{callBack:this.setReady})]})}}]),o}(s.a.Component),Ue=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(){return Object(L.a)(this,o),t.apply(this,arguments)}return Object(B.a)(o,[{key:"componentDidMount",value:function(){var e=this.props.callBack;setTimeout((function(){e(!0)}),1e3)}},{key:"render",value:function(){return null}}]),o}(s.a.Component);var Ye=function(e){var t=C(),o=Object(r.useCallback)((function(){e.setTrigger(!1)}),[e]),s=Object(r.useCallback)((function(t){e.setGoalsTrigger(t)}),[e]);return Object(r.useEffect)((function(){if(null!=t&&e.trigger)return t.emit("process-goals",e.project),t.on("cgg-production",o),t.on("cgg-saved",s),function(){return t.off("receive-cgg")}}),[t,e.trigger,e.project,o,s]),Object(m.jsx)(m.Fragment,{})};var Qe=function(e){var t=C();return Object(r.useEffect)((function(){if(null!=t&&e.trigger){for(var o=[],r=JSON.parse(JSON.stringify(e.selectedGoals)),s=0;s<e.goals.length;s++)r.includes(s)&&(r.slice(r.indexOf(s),1),o.push(e.goals[s].id));for(var n=0;n<r.length;n++);switch(e.operator.toLowerCase()){case"conjunction":t.emit("apply-conjunction",{goals:e.selectedGoals});break;case"composition":t.emit("apply-composition",{goals:e.selectedGoals});break;case"disjunction":t.emit("apply-disjunction",{goals:e.selectedGoals});break;case"refinement":t.emit("apply-refinement",{abstract:e.selectedGoals[0],refined:e.selectedGoals[1]});break;case"extension":t.emit("apply-extension",{input:e.selectedGoals[0],library:e.library});break;default:return}return t.on("operation-complete",e.setTrigger(!1)),function(){return t.off("operation-complete")}}}),[t,e]),Object(m.jsx)(m.Fragment,{})};var qe=function(e){var t=[];if(null!=e.goals)for(var o=function(o){0===o?t.push(Object(m.jsx)("li",{className:"border-b-1 border-t-1 text-blueGray-700 text-lg py-1 hover:bg-blueGray-100 cursor-pointer",onClick:function(){return e.clickOnGoal2(o)},children:e.goals[o].name},o)):t.push(Object(m.jsx)("li",{className:"border-b-1 text-blueGray-700 text-lg py-1 hover:bg-blueGray-100 cursor-pointer",onClick:function(){return e.clickOnGoal2(o)},children:e.goals[o].name},o))},r=0;r<e.goals.length;r+=1)o(r);return Object(m.jsxs)("div",{className:"w-full lg:w-5/12 xl:w-6/12 flex-col ml-12",children:[Object(m.jsx)("div",{className:" px-3 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg mb-12",children:Object(m.jsxs)("div",{className:"flex flex-col justify-center p-4 pr-0",children:[Object(m.jsx)("span",{className:"font-bold text-xl uppercase text-blueGray-700",children:"Input Goals"}),Object(m.jsx)("div",{className:"overflow-auto max-h-200-px pt-3 px-5",children:Object(m.jsx)("ul",{children:t})}),Object(m.jsx)("div",{className:"flex flex-col m-auto py-2 uppercase",children:Object(m.jsx)(p,{onClick:function(){return e.callCGG("auto")},children:"Build CGG"})})]})}),Object(m.jsx)(We,{})]})},He=o(170),Ke=o.n(He);var Xe=function(){return Object(m.jsxs)("fieldset",{className:"border w-64 p-2 bg-white rounded shadow-md min-w-0 break-words absolute left-0 top-0",children:[Object(m.jsx)("legend",{className:" pl-2 w-auto",children:"CGG Legend"}),Object(m.jsxs)("div",{className:"flex items-center pl-4 py-1",children:[Object(m.jsx)("div",{className:"box-content bg-indigo-200 border-indigo-500 h-5 w-10 border-2 rounded-lg"}),Object(m.jsx)("span",{className:"ml-4 font-bold uppercase text-blueGray-700",children:"Created goals"})]}),Object(m.jsxs)("div",{className:"flex items-center pl-4 py-1",children:[Object(m.jsx)("div",{className:"box-content bg-white border-emerald-500 h-5 w-10 border-2 rounded-lg"}),Object(m.jsx)("span",{className:"ml-4 font-bold uppercase text-blueGray-700",children:"Initial goals"})]}),Object(m.jsxs)("div",{className:"flex items-center pl-4  ",children:[Object(m.jsxs)("svg",{className:"pl-1 w-10",viewBox:"0 20 80 50",children:[Object(m.jsx)("line",{x1:"0",y1:"50",x2:"50",y2:"50",stroke:"#000",strokeWidth:"6"}),Object(m.jsx)("polygon",{points:"50 35, 50 65, 80 50"})]}),Object(m.jsx)("span",{className:"font-bold ml-4 uppercase text-blueGray-700",children:"Refinement link"})]}),Object(m.jsxs)("div",{className:"flex items-center pl-4 ",children:[Object(m.jsxs)("svg",{className:"pl-1 w-10",viewBox:"0 20 80 50",children:[Object(m.jsx)("line",{x1:"0",y1:"50",x2:"50",y2:"50",stroke:"#000",strokeWidth:"6"}),Object(m.jsx)("circle",{cx:"60",cy:"50",r:"15",stroke:"black",strokeWidth:"3"})]}),Object(m.jsx)("span",{className:"font-bold ml-4 uppercase text-blueGray-700",children:"Conjunction link"})]}),Object(m.jsxs)("div",{className:"flex items-center pl-4 ",children:[Object(m.jsxs)("svg",{className:"pl-1 w-10",viewBox:"0 20 80 50",children:[Object(m.jsx)("line",{x1:"0",y1:"50",x2:"50",y2:"50",stroke:"#000",strokeWidth:"6"}),Object(m.jsx)("polygon",{points:"40 50, 60 35, 80 50, 60 65"})]}),Object(m.jsx)("span",{className:"font-bold ml-4 uppercase text-blueGray-700",children:"Composition link"})]})]})},Ze=o(171),_e=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(){var e;Object(L.a)(this,o);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={modalGoal:!1,currentGoalIndex:0,cgg:!1,cggTab:null,operator:null,selectedGoals:[],selectedLibrary:null,library:null,triggerOperation:!1,triggerCGG:!1},e.setModalGoal=function(t){e.setState({modalGoal:t})},e.setCurrentGoalIndex=function(t){e.setState({currentGoalIndex:t})},e.callCGG=function(t){"auto"===t&&e.setState({triggerCGG:!0})},e.setOperator=function(t){e.setState({operator:t})},e.setSelectedGoals=function(t){e.setState({selectedGoals:t})},e.setLibrary=function(t){e.setState({selectedLibrary:t})},e.applyOperator=function(){e.setTriggerOperation(!0)},e.setTriggerOperation=function(t){t||e.setTriggerCGG(!0),e.setState({triggerOperation:t})},e.setTriggerCGG=function(t){e.setState({triggerCGG:t})},e.setGoalsTrigger=function(t){e.setState({cggTab:t}),e.setState({triggerCGG:!1,cgg:!0},(function(){return e.props.toggleGoalsTrigger()}))},e.addGoalAlreadyHere=function(e,t){for(var o=0;o<e.goals.length;o++)t.push({id:e.goals[o].id,label:e.goals[o].name}),t[t.length-1].group=e.goals[o].hasOwnProperty("group")?e.goals[o].group:"input"},e.addCombinedGoal=function(t){for(var o=0,r=0;r<e.state.cggTab.nodes.length;r++){for(var s=0;s<t.length;s++)t[s].id===e.state.cggTab.nodes[r].id&&(o=1);0===o&&t.push({id:e.state.cggTab.nodes[r].id,label:"goal"+r}),o=0}},e.clickOnGoal2=function(t){e.setModalGoal(!0),e.setCurrentGoalIndex(t)},e.addEdges=function(t){for(var o=0;o<e.state.cggTab.edges.length;o++)t.push({from:e.state.cggTab.edges[o].from,to:e.state.cggTab.edges[o].to,arrows:{to:{type:De.symbols[e.state.cggTab.edges[o].link.toLowerCase()]}}})},e}return Object(B.a)(o,[{key:"componentDidMount",value:function(){"simple"!==this.props.project||this.state.cgg||this.setState({cgg:!0})}},{key:"render",value:function(){var e=this,t=[],o=[];this.state.cgg&&"simple"!==this.props.project&&(this.addGoalAlreadyHere(this.props,t),this.addCombinedGoal(t),this.addEdges(o));var r={nodes:t,edges:o};return"simple"===this.props.project&&(t=(r=Ze).nodes,o=r.edges),Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(Ye,{session:this.props.id,project:this.props.project,trigger:this.state.triggerCGG,setTrigger:this.setTriggerCGG,setGoalsTrigger:this.setGoalsTrigger}),Object(m.jsx)(Qe,{operator:this.state.operator,goals:this.props.goals,selectedGoals:this.state.selectedGoals,library:this.state.selectedLibrary,trigger:this.state.triggerOperation,setTrigger:this.setTriggerOperation}),this.state.cgg&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"relative flex flex-auto mt-4",children:[Object(m.jsx)("div",{className:"w-11/12",children:Object(m.jsx)(Ve,{active:this.props.active,graph:r,size:"725px",goals:this.props.goals,patterns:this.props.patterns,nodesArray:t,edgesArray:o})}),Object(m.jsx)(qe,{callCGG:this.callCGG,clickOnGoal2:this.clickOnGoal2,goals:this.props.goals}),Object(m.jsx)(Xe,{})]})}),!this.state.cgg&&Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"flex flex-auto mt-4",children:[Object(m.jsx)("div",{className:"bg-lightBlue-500 bg-opacity-25 w-75 shadow-md flex items-center justify-center",style:{width:750,height:725},children:this.state.triggerCGG&&Object(m.jsx)(Ke.a,{type:"spinningBubbles",color:"#fff"})}),Object(m.jsx)(qe,{callCGG:this.callCGG,clickOnGoal2:this.clickOnGoal2,goals:this.props.goals})]})}),Object(m.jsx)(D.g,{isOpen:this.state.modalGoal,toggle:function(){return e.setModalGoal(!1)},className:"custom-modal-dialog sm:c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:null!==this.props.goals&&void 0!==this.props.goals[this.state.currentGoalIndex]&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Pe,Object(c.a)({goal:this.props.goals[this.state.currentGoalIndex],library:!0,close:function(){return e.setModalGoal(!1)},patterns:this.props.patterns},ge))})})]})}}]),o}(s.a.Component);var $e=function(e){var t=C(),o=Object(r.useCallback)((function(o){t.off("received-inputs"),e.setInputs(o)}),[e,t]);return Object(r.useEffect)((function(){if(null!=t)return e.trigger?(e.setTrigger(!1),"crome"===e.mode&&t.emit("get-inputs-crome",e.name),t.on("received-inputs",o),function(){return t.off("received-inputs-other")}):void 0}),[t,e,o]),Object(m.jsx)(m.Fragment,{})};var et=function(e){var t=C(),o=Object(r.useCallback)((function(o){"crome"===e.mode?t.off("crome-simulated"):"strix"===e.mode&&t.off("mealy-simulated"),e.setLine(o),e.setTriggerGetInput(!0)}),[e,t]);return Object(r.useEffect)((function(){null!=t&&e.trigger&&(e.setTrigger(!1),"crome"===e.mode?(t.emit("simulate-crome",{project_id:e.name,mode:e.mode,input:e.input}),t.on("crome-simulated",o)):"strix"===e.mode&&(t.emit("simulate-controller",{name:e.name,mode:e.mode,input:e.input}),t.on("mealy-simulated",o)))}),[t,e,o]),Object(m.jsx)(m.Fragment,{})};var tt=function(e){var t=C(),o=Object(r.useCallback)((function(o){t.off("reset-done"),e.emptyLines(),e.setTriggerGetInput(!0)}),[e,t]);return Object(r.useEffect)((function(){null!=t&&e.trigger&&(e.setTrigger(!1),"crome"===e.mode&&t.emit("reset-crome",e.name),t.on("reset-done",o))}),[t,e,o]),Object(m.jsx)(m.Fragment,{})};var ot=function(e){var t=C(),o=Object(r.useCallback)((function(o){"crome"===e.mode?t.off("receive-random-simulation-crome"):"strix"===e.mode&&t.off("receive-random-simulation-controller");for(var r=0;r<o.length;r++)e.setLine(o[r]);e.setTriggerGetInput(!0)}),[e,t]);return Object(r.useEffect)((function(){null!=t&&e.trigger&&(e.setTrigger(!1),"crome"===e.mode?(t.emit("random-simulation-crome",{project_id:e.name,mode:e.mode,iterations:e.number}),t.on("receive-random-simulation-crome",o)):"strix"===e.mode&&(t.emit("random-simulation-controller",{name:e.name,mode:e.mode,iterations:e.number}),t.on("receive-random-simulation-controller",o)))}),[t,e,o]),Object(m.jsx)(m.Fragment,{})},rt=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(){var e;Object(L.a)(this,o);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={triggerGetInputs:!0,inputs:[],triggerInputClicked:!1,triggerResetClicked:!1,inputClicked:null,inputNumberRandom:25,triggerRandomClicked:!1,lines:[]},e.setTriggerGetInputs=function(t){e.setState({triggerGetInputs:t})},e.setInputs=function(t){e.setState({inputs:t})},e.setTriggerInputClicked=function(t,o){e.setState({triggerInputClicked:t,inputClicked:o})},e.setLine=function(t){var o=e.state.lines;o.push(t),e.setState({lines:o})},e.setTriggerResetClicked=function(t){e.setState({triggerResetClicked:t})},e.emptyLines=function(){e.setState({lines:[]})},e.handleChange=function(t){var o=e.state.inputNumberRandom;t.target.validity.valid&&(o=t.target.value),e.setState({inputNumberRandom:o})},e.setTriggerRandomClicked=function(t){e.setState({triggerRandomClicked:t})},e}return Object(B.a)(o,[{key:"render",value:function(){var e=this,t=[];if(0!==this.state.inputs.length)for(var o=function(o){t.push(Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row",children:o}),Object(m.jsx)("td",{className:"p-0",children:Object(m.jsx)(p,{size:"sm",color:"gray",outline:!0,fullWidth:!0,onClick:function(){e.setTriggerInputClicked(!0,e.state.inputs[o])},children:e.state.inputs[o]})})]},o))},r=0;r<this.state.inputs.length;r++)o(r);var s=[];if(0!==this.state.lines.length)for(var n=0;n<this.state.lines.length;n++)s.push(Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"row",children:n}),Object(m.jsx)("td",{children:this.state.lines[n][0]}),Object(m.jsx)("td",{children:this.state.lines[n][1]}),Object(m.jsx)("td",{children:this.state.lines[n][2]}),Object(m.jsx)("td",{children:this.state.lines[n][3]})]},n));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)($e,{trigger:this.state.triggerGetInputs,setTrigger:this.setTriggerGetInputs,setInputs:this.setInputs,name:this.props.name,mode:this.props.mode}),Object(m.jsx)(et,{trigger:this.state.triggerInputClicked,setTrigger:this.setTriggerInputClicked,setTriggerGetInput:this.setTriggerGetInputs,setLine:this.setLine,name:this.props.name,mode:this.props.mode,input:this.state.inputClicked}),Object(m.jsx)(tt,{trigger:this.state.triggerResetClicked,setTrigger:this.setTriggerResetClicked,setTriggerGetInput:this.setTriggerGetInputs,emptyLines:this.emptyLines,name:this.props.name,mode:this.props.mode}),Object(m.jsx)(ot,{trigger:this.state.triggerRandomClicked,setTrigger:this.setTriggerRandomClicked,setTriggerGetInput:this.setTriggerGetInputs,setLine:this.setLine,name:this.props.name,mode:this.props.mode,number:this.state.inputNumberRandom}),Object(m.jsxs)("div",{className:"row mt-2",children:[Object(m.jsxs)("div",{className:"col-4 mt-2",children:[Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)("span",{className:"text-right inline-block w-16 mr-1",children:Object(m.jsx)("input",{type:"text",className:"w-full",pattern:"[0-9]*",onInput:this.handleChange,value:this.state.inputNumberRandom})}),Object(m.jsx)("span",{className:"text-left inline-block w-auto ml-1",children:Object(m.jsx)(p,{color:"teal",onClick:function(){e.setTriggerRandomClicked(!0)},children:"Random"})})]})}),Object(m.jsx)("div",{className:"row mt-2",children:Object(m.jsx)("div",{className:"col-10 offset-1",children:Object(m.jsxs)("table",{className:"table",children:[Object(m.jsx)("thead",{className:"mb-2",children:Object(m.jsxs)("tr",{className:"text-center",children:[Object(m.jsx)("th",{scope:"col",children:"#"}),Object(m.jsx)("th",{scope:"col",children:"Inputs"})]})}),Object(m.jsx)("tbody",{className:"text-center",children:t})]})})}),Object(m.jsx)("div",{className:"row",children:Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(p,{size:"sm",color:"gray",onClick:function(){e.setTriggerResetClicked(!0)},children:"RESET"})})})]}),Object(m.jsx)("div",{className:"col-7",children:Object(m.jsx)("div",{className:"row",children:0!==s.length&&Object(m.jsxs)("table",{className:"table table-hover text-center",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{scope:"col",style:{width:"5%"},children:"#"}),Object(m.jsx)("th",{scope:"col",style:{width:"30%"},children:"Inputs"}),Object(m.jsx)("th",{scope:"col",style:{width:"5%"},children:"S"}),Object(m.jsx)("th",{scope:"col",style:{width:"5%"},children:"S'"}),Object(m.jsx)("th",{scope:"col",style:{width:"55%"},children:"outputs"})]})}),Object(m.jsx)("tbody",{children:s})]})})})]})]})}}]),o}(s.a.Component),st=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(){return Object(L.a)(this,o),t.apply(this,arguments)}return Object(B.a)(o,[{key:"render",value:function(){return Object(m.jsx)(m.Fragment,{children:this.props.active&&Object(m.jsx)(rt,{name:this.props.project,mode:"crome"})})}}]),o}(s.a.Component),nt={textColor:"text-white",iconColor:"text-orange-300",iconNameBack:"fas fa-chevron-left",iconNameContinue:"fas fa-chevron-right",backText:"Back",continueText:"Continue"};function at(e){var t,o,r=e.toggleNew,s=e.open,n=e.itemsLength,a=e.type,i=e.noProject,l=e.href;return"back"===a?(t=0===s,o=s-1<0?n-1:s-1):(t=s===n-1||i,o=s+1>n-1?0:s+1),Object(m.jsx)("a",{href:l,className:(t?"hover:no-underline cursor-default ":"")+nt.textColor+" text-center opacity-85 focus:outline-none hover:opacity-100 transition-opacity duration-150 ease-linear w-12 text-xl z-50",onClick:function(e){return r(e,o,t)},children:Object(m.jsxs)("div",{children:["back"===a&&Object(m.jsx)("i",{className:nt.iconColor+" "+nt.iconNameBack+" mr-2"}),Object(m.jsx)("span",{className:(t?"opacity-40 ":"hover:underline ")+"text-2xl",children:"back"===a?nt.backText:nt.continueText}),"continue"===a&&Object(m.jsx)("i",{className:nt.iconColor+" "+nt.iconNameContinue+" ml-2"})]})})}function it(e){e.world;var t=e.items,o=e.defaultOpened,r=e.id,n=e.setWorld,a=e.setListOfWorldNames,i=s.a.useState(o),l=Object(d.a)(i,2),u=l[0],h=l[1],f=s.a.useState(!1),g=Object(d.a)(f,2),j=g[0],p=g[1],x=s.a.useState(!1),v=Object(d.a)(x,2),O=v[0],w=v[1],y=s.a.useState(null),N=Object(d.a)(y,2),C=N[0],G=N[1],k=s.a.useState(null),S=Object(d.a)(k,2),I=S[0],L=S[1],B=s.a.useState(null),M=Object(d.a)(B,2),E=M[0],D=M[1],W=s.a.useState(!1),P=Object(d.a)(W,2),R=P[0],z=P[1],J=s.a.useState(!1),V=Object(d.a)(J,2),U=V[0],Y=V[1],Q=s.a.useState(null),q=Object(d.a)(Q,2),H=q[0],K=q[1],X=s.a.useState(!1),Z=Object(d.a)(X,2),_=Z[0],$=Z[1],ee=s.a.useState(!1),te=Object(d.a)(ee,2),oe=te[0],re=te[1],se=s.a.useState([!0,!1,!1,!1]),ne=Object(d.a)(se,2),ae=ne[0],ie=ne[1];function le(e){G(e),z(!R)}function ce(){$(!_)}function de(e){re(e)}function ue(e){L(e)}var he=function(e,t,o){if(!o&&(1===u&&2===t&&de(!0),(1!==t||0!==C)&&(0!==u||3!==t)&&(3!==u||0!==t)&&!U)){Y(!0);for(var r=0;r<ae.length;r++)ae[r]=!1;ae[t]=!0,ie(ae),e.preventDefault(),O||j||(p(!0),setTimeout((function(){h(t)}),500),setTimeout((function(){p(!1),w(!0)}),600),setTimeout((function(){w(!1),Y(!1)}),1100))}};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ke,Object(c.a)(Object(c.a)({},Fe),{},{states:ae})),Object(m.jsxs)("div",{className:"flex justify-evenly relative top--30 pt-4",children:[Object(m.jsx)("div",{children:Object(m.jsx)(at,{open:u,toggleNew:he,itemsLength:t.length,type:"back",href:"#/crome"})}),Object(m.jsx)(F.Tooltip,{title:"Select an Environment to continue",position:"bottom",arrow:"true",children:Object(m.jsx)("div",{children:Object(m.jsx)(at,{open:u,toggleNew:he,itemsLength:t.length,type:"continue",noProject:0===C,href:"#/crome"})})})]}),Object(m.jsxs)("div",{className:"px-4 md:px-6 mx-auto w-full -mt-24",children:[Object(m.jsx)("div",{className:"mt-5 relative pb-32",children:Object(m.jsx)("div",{className:"relative w-full overflow-hidden",children:Object(m.jsx)("div",{children:t.map((function(e,t){return Object(m.jsx)("div",{className:b()("p-6 transform duration-300 transition-all ease-in-out mx-auto",{hidden:t!==u,block:t===u,"opacity-0 scale-95":t===u&&j,"opacity-100 scale-100":t===u&&O}),children:Object(m.jsx)("div",{className:"container mx-auto px-4",children:{world:Object(m.jsx)(Me,Object(c.a)({id:r,setListOfWorldNames:a,setListOfWorldVariables:K,projectAdded:R,project:C,setProject:G,setWorld:n},T)),goal:Object(m.jsx)(Ne,Object(c.a)(Object(c.a)({id:r},A),{},{project:C,setGoals:ue,setPatterns:D,triggerGetGoals:_,toggleGetTrigger:ce,listOfWorldVariables:H,setProject:function(e){return le(e)},triggerGoalsChecked:oe,swapTriggerGoalsChecked:de,contracts:!1})),analysis:Object(m.jsx)(_e,{id:r,active:ae[2],project:C,goals:I,toggleGoalsTrigger:ce,patterns:E},C),synthesis:Object(m.jsx)(st,{active:ae[3],project:C})}[e.component]})},t)}))})})}),Object(m.jsx)(Se,Object(c.a)({},Ie))]})]})}it.defaultProps={defaultOpened:0,items:[]};var lt={color:"lightBlue",cards:[{statTitle:"conjunction",statIconName:"fas fa-solid fa-plus",statIconColor:"bg-orange-500"},{statTitle:"composition",statIconName:"fas fa-solid fa-down-left-and-up-right-to-center",statIconColor:"bg-pink-500"},{statTitle:"refinement",statIconName:"fas fa-solid fa-arrow-down-short-wide",statIconColor:"bg-lightBlue-500"},{statTitle:"quotient",statIconName:"fas fa-solid fa-divide",statIconColor:"bg-red-500"},{statTitle:"merging",statIconName:"fas fa-solid fa-code-merge",statIconColor:"bg-teal-500"},{statTitle:"separation",statIconName:"fas fa-solid fa-arrows-left-right-to-line",statIconColor:"bg-indigo-700"}]},ct={info:{texts:{description:"description",cgg:"CGG"}},operations:[{title:"conjunction",description:"Combine viewpoints that don't have to be satisfied simultaneously"},{title:"composition",description:"Obtain system\u2019s spec from components\u2019 spec"},{title:"refinement",description:"Ordering among two contracts"},{title:"quotient",description:"Find the \u2018missing part\u2019"},{title:"merging",description:"Combine different viewpoints that must be satisfied simultaneously"},{title:"separation",description:"Fix the contract such that it can be refined"}]};var dt=function(e){var t=C(),o=Object(r.useCallback)((function(t){e.worlds(t)}),[e]);return Object(r.useEffect)((function(){if(null!=t)return e.trigger?(e.setTrigger(!1),t.emit("get-contracts-project"),t.on("receive-contracts-projects",o),function(){return t.off("receive-contracts-project")}):void 0}),[t,o,e]),Object(m.jsx)(m.Fragment,{})};var ut=function(e){var t=C(),o=Object(r.useCallback)((function(o){return e.setGoalsTrigger(o),function(){return t.off("received-process-goals-contracts")}}),[t,e]),s=Object(r.useCallback)((function(r){r&&(t.emit("process-goals-contracts",e.project),t.on("received-process-goals-contracts",o))}),[t,e,o]);return Object(r.useEffect)((function(){if(null!=t&&e.trigger){switch(e.setTrigger(!1),console.log(e),e.project){case"composition":t.emit("apply-composition",{project:e.project,goals:e.goals});break;case"refinement":t.emit("apply-refinement",{project:e.project,abstract:e.goals[0],refine:e.goals[1]});break;case"quotient":t.emit("apply-quotient",{project:e.project,dividend:e.goals[0],divisor:e.goals[1]});break;case"merging":t.emit("apply-merging",{project:e.project,goals:e.goals});break;case"separation":t.emit("apply-separation",{project:e.project,dividend:e.goals[0],divisor:e.goals[1]});break;default:t.emit("apply-conjunction",{project:e.project,goals:e.goals})}t.on("operation-complete",s)}}),[t,e,s]),Object(m.jsx)(m.Fragment,{})},ht=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(){return Object(L.a)(this,o),t.apply(this,arguments)}return Object(B.a)(o,[{key:"render",value:function(){for(var e=[],t=0;t<ct.operations.length;t++)e.push(Object(m.jsx)("tbody",{children:Object(m.jsxs)("tr",{children:[Object(m.jsxs)("th",{className:"uppercase whitespace-nowrap align-text-top ",children:[ct.operations[t].title," :"]}),Object(m.jsx)("td",{className:"px-1 py-2 align-text-top",children:ct.operations[t].description})]})},t));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"flex m-3 fs-5 text-blueGray-500 uppercase font-bold justify-center ",children:ct.info.texts.description}),Object(m.jsx)("table",{className:"flex-col text-base text-blueGray-500",children:e})]})}}]),o}(s.a.Component),bt={color:"lightBlue",operation:[{name:"refinement",firstDropDownMenuChoice:"abstract goal",secondDropDownMenuChoice:"refined goal"},{name:"quotient",firstDropDownMenuChoice:"goal dividend",secondDropDownMenuChoice:"goal divisor"},{name:"separation",firstDropDownMenuChoice:"goal dividend",secondDropDownMenuChoice:"goal divisor"}]};var ft=function(e){for(var t=Object(r.useState)([]),o=Object(d.a)(t,2),s=o[0],n=o[1],a=[],i="",l=function(t){i="border-b-1 text-lg p-3 rounded hover:bg-blueGray-200 text-blueGray-700 hover:text-blueGray-900 cursor-pointer",0===t&&(i+=" border-t-1"),s.includes(e.goals[t])&&(i+=" bg-blueGray-100 font-bold"),a.push(Object(m.jsx)("li",{onClick:function(){return u(t)},className:i,children:Object(m.jsx)("div",{className:"flex justify-between",children:Object(m.jsx)("div",{children:e.goals[t].name})})},t))},c=0;c<e.goals.length;c++)l(c);var u=function(t){var o=s;o.includes(e.goals[t])?o=o.filter((function(o){return o!==e.goals[t]})):o.push(e.goals[t]),n(o),e.setSelectedGoals(o),o.length<2?e.disableBuildButton(!0):e.disableBuildButton(!1)};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"flex m-3 text-2xl text-blueGray-500 uppercase font-bold justify-center ",children:"Choose at least 2 goals"}),Object(m.jsx)("div",{className:"overflow-auto max-h-400-px pt-3 mx-4 mb-4",children:Object(m.jsx)("ul",{children:a})})]})};var mt=function(e){return Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsxs)("div",{className:"flex justify-content-evenly mb-4",children:[Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsxs)("label",{htmlFor:"firstDropDownMenu",className:"block mb-2 text-lg font-medium text-gray-900 dark:text-gray-400",children:["Choose your ",bt.operation[e.index].firstDropDownMenuChoice]}),Object(m.jsxs)("select",{id:"firstDropDownMenu",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[Object(m.jsx)("option",{value:bt.operation[e.index].firstDropDownMenuChoice,hidden:!0,children:bt.operation[e.index].firstDropDownMenuChoice}),e.goals.map((function(t,o){return Object(m.jsx)("option",{value:t.name,onClick:function(){return e.changeParameter("firstDropDownMenu",t)},children:t.name},o)}))]})]}),Object(m.jsxs)("div",{className:"flex flex-col",children:[Object(m.jsxs)("label",{htmlFor:"secondDropDownMenu",className:"block mb-2 text-lg font-medium text-gray-900 dark:text-gray-400",children:["Choose your ",bt.operation[e.index].secondDropDownMenuChoice]}),Object(m.jsxs)("select",{id:"firstDropDownMenu",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[Object(m.jsx)("option",{value:bt.operation[e.index].secondDropDownMenuChoice,hidden:!0,children:bt.operation[e.index].secondDropDownMenuChoice}),e.goals.map((function(t,o){return Object(m.jsx)("option",{value:t.name,onClick:function(){return e.changeParameter("secondDropDownMenu",t)},children:t.name},o)}))]})]})]}),Object(m.jsx)("span",{className:b()(" text-sm mb-6 text-red-500 text-center ",e.sameGoal?" ":"invisible"),children:"you can't select two same goals"})]})},gt=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(){var e;Object(L.a)(this,o);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={typeOfOperation:"",selectedGoals:[],buildButtonDisabled:!0},e.setSelectedGoals=function(t){e.setState({selectedGoals:t})},e.disableBuildButton=function(t){e.setState({buildButtonDisabled:t})},e.changeParameter=function(t,o){var r=e.state.selectedGoals;"firstDropDownMenu"===t?(r[0]=o,e.setState({selectedGoals:r})):(r[1]=o,e.setState({selectedGoals:r})),e.state.selectedGoals[0]!==e.state.selectedGoals[1]&&2===e.state.selectedGoals.length?e.disableBuildButton(!1):e.disableBuildButton(!0)},e}return Object(B.a)(o,[{key:"render",value:function(){for(var e,t=this,o=-1,r=0;r<Object.keys(bt.operation).length;r++)bt.operation[r].name===this.props.operationName&&(o=r);return e=-1!==o?Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(mt,{index:o,goals:this.props.goals,disableBuildButton:this.disableBuildButton,changeParameter:this.changeParameter,sameGoal:this.state.selectedGoals[0]===this.state.selectedGoals[1]&&2===this.state.selectedGoals.length})}):Object(m.jsx)(ft,{goals:this.props.goals,setSelectedGoals:this.setSelectedGoals,disableBuildButton:this.disableBuildButton}),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"w-full mt-8 px-4 relative flex flex-col min-w-0 break-words bg-white rounded mb-6 opacity-1 transform duration-300 transition-all ease-in-out",children:[e,Object(m.jsx)("div",{className:"flex content-center justify-center ",children:Object(m.jsx)("button",{onClick:function(){return t.props.validate(t.state.selectedGoals)},disabled:this.state.buildButtonDisabled,className:this.state.buildButtonDisabled?"bg-facebook-regular text-white font-bold py-2 px-4 rounded opacity-50 cursor-default ":"bg-facebook-regular hover:shadow-lg text-white font-bold py-2 px-4 rounded",children:"Build your CGG"})})]})})}}]),o}(s.a.Component),jt=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(){var e;Object(L.a)(this,o);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={id:"contracts",worlds:[],headerStates:[!0,!1,!1,!1,!1,!1],activeHeaderIndex:0,project:"conjunction",listOfWorldVariables:[[],[],[],[]],triggerGetContract:!0,triggerCGG:!1,goals:[],activeGoals:[],modalChoiceGoal:!1,cgg:!1,cggTab:null,projectAdded:!1,triggerGoals:!1,triggerGoalsChecked:!1,patterns:[]},e.setTriggerGetContract=function(t){e.setState({triggerGetContract:t})},e.setTriggerCGG=function(t){e.setState({triggerCGG:t})},e.setGoalsTrigger=function(t){e.setState({cggTab:t,triggerCGG:!1,cgg:!0,triggerGoals:!e.state.triggerGoals})},e.swapTriggerGoalsChecked=function(t){e.setState({triggerGoalsChecked:t})},e.onSelectCustomHeader=function(t,o,r){if(!e.state.headerStates[t]&&o){var s=Array(e.state.headerStates.length).fill(!1);s[t]=!0,e.setState({activeHeaderIndex:t,project:r,headerStates:s,cgg:!1}),e.displayWorldGoal(t)}},e.settingGoals=function(t){e.setState({goals:t})},e.toggleGetTrigger=function(){e.setState({triggerGoals:!e.state.triggerGoals,cgg:!1})},e.setPatterns=function(){e.setState({patterns:e.patterns})},e.displayWorldGoal=function(t){e.setState({listOfWorldVariables:e.getListOfWorldVariables(e.state.worlds[t])})},e.getWorlds=function(t){for(var o=[],r=0;r<t.length;r++)for(var s=0;s<t[r].length;s++)"environment"===t[r][s].title&&o.push(JSON.parse(t[r][s].content));e.setState({worlds:o}),e.displayWorldGoal(e.state.activeHeaderIndex)},e.addCombinedGoal=function(t){for(var o=0,r=0;r<e.state.cggTab.nodes.length;r++){for(var s=0;s<t.length;s++)t[s].id===e.state.cggTab.nodes[r].id&&(o=1);0===o&&t.push({id:e.state.cggTab.nodes[r].id,label:"goal"+r}),o=0}},e.addEdges=function(t){for(var o=0;o<e.state.cggTab.edges.length;o++)t.push({from:e.state.cggTab.edges[o].from,to:e.state.cggTab.edges[o].to,arrows:{to:{type:De.symbols[e.state.cggTab.edges[o].link.toLowerCase()]}}})},e.addGoalAlreadyHere=function(t){for(var o=0;o<e.state.goals.length;o++)t.push({id:e.state.goals[o].id,label:e.state.goals[o].name}),t[t.length-1].group=e.state.goals[o].hasOwnProperty("group")?e.state.goals[o].group:"input"},e.setModalGoal=function(t){e.setState({modalChoiceGoal:t})},e.validate=function(t){e.setState({activeGoals:t,modalChoiceGoal:!1,triggerCGG:!0})},e}return Object(B.a)(o,[{key:"getListOfWorldVariables",value:function(e){var t=[[],[],[],[]];if(void 0!==e){for(var o=0;o<e.grid.locations.length;o++)t[0].push(e.grid.locations[o].id);for(var r=0;r<e.actions.length;r++)t[1].push(e.actions[r].name);for(var s=0;s<e.sensors.length;s++)t[2].push(e.sensors[s].name);for(var n=0;n<e.context.length;n++)t[3].push(e.context[n].name)}return t}},{key:"render",value:function(){var e=this,t=[],o=[];this.state.cgg&&(this.addGoalAlreadyHere(t),this.addCombinedGoal(t),this.addEdges(o));var r={nodes:t,edges:o};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(ut,{session:this.state.id,project:this.state.project,goals:this.state.activeGoals,trigger:this.state.triggerCGG,setTrigger:this.setTriggerCGG,setGoalsTrigger:this.setGoalsTrigger}),Object(m.jsx)(dt,{trigger:this.state.triggerGetContract,setTrigger:this.setTriggerGetContract,worlds:this.getWorlds}),Object(m.jsx)(ke,Object(c.a)(Object(c.a)({},lt),{},{color:"purple",states:this.state.headerStates,clickable:!0,onSelectCustomHeader:this.onSelectCustomHeader})),Object(m.jsxs)("div",{className:"pb-20",children:[Object(m.jsxs)("div",{className:"flex justify-center my-3 mx-60",children:[Object(m.jsxs)("div",{className:"flex-col px-3 pb-5 mx-3 relative min-w-0 break-words bg-white rounded shadow-md w-full",children:[Object(m.jsx)("div",{className:"flex m-3 fs-5 text-blueGray-500 uppercase font-bold justify-center ",children:ct.info.texts.cgg}),!this.state.cgg&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:"flex justify-center min-h-full",children:Object(m.jsx)("div",{className:"flex flex-col justify-center pb-5",children:Object(m.jsx)(p,{size:"lg",color:"facebook",outline:!1,onClick:function(){return e.setModalGoal(!0)},children:"Choose your goals"})})}),Object(m.jsx)(D.g,{isOpen:this.state.modalChoiceGoal,toggle:function(){return e.setModalGoal(!1)},size:"sm",className:"custom-modal-dialog c-m-w-70 md:c-m-w-60 lg:c-m-w-50 xl:c-m-w-40",children:Object(m.jsx)(gt,{settingActiveGoals:this.settingActiveGoals,goals:this.state.goals,validate:this.validate,operationName:this.state.project})})]}),this.state.cgg&&this.state.activeGoals&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"relative flex flex-auto mt-4 m-auto",children:Object(m.jsx)("div",{className:"mx-4 w-100",children:Object(m.jsx)(Ve,{active:!0,graph:r,size:"350px",goals:this.state.activeGoals,nodesArray:t,edgesArray:o,patterns:this.state.patterns})})})})]}),Object(m.jsx)("div",{className:"flex-col px-3 pb-5 mx-3 relative min-w-0 break-words bg-white rounded shadow-md w-full overflow-scroll",children:Object(m.jsx)(ht,{})})]}),Object(m.jsx)("div",{className:"mx-64 mb-12 p-4 bg-white rounded shadow-md",children:Object(m.jsx)(Ne,Object(c.a)(Object(c.a)({},A),{},{id:this.state.id,project:this.state.project,setGoals:this.settingGoals,setPatterns:this.setPatterns,triggerGetGoals:this.state.triggerGoals,toggleGetTrigger:this.toggleGetTrigger,listOfWorldVariables:this.state.listOfWorldVariables,triggerGoalsChecked:this.state.triggerGoalsChecked,swapTriggerGoalsChecked:this.swapTriggerGoalsChecked,contracts:!0}))})]}),Object(m.jsx)(Se,Object(c.a)({},Ie))]})}}]),o}(s.a.Component),pt={brand:{text:"CROME",image:o(353).default,link:{href:"#/index"}},activeColor:"lightBlue",items:[{divider:!0},{titleCrome:"CROME"},{icon:"fas fa-tv",text:"Run CROME",name:"CROME",link:{href:"#/crome"}},{titleContracts:"CONTRACTS"},{icon:"fas fa-tv",text:"Run CONTRACTS",name:"CONTRACTS",link:{href:"#/contracts"}}]},xt={defaultOpened:0,items:[{component:"world"},{component:"goal"},{component:"analysis"},{component:"synthesis"}]};function vt(e,t){var o="CROME-"+e,s=Object(r.useState)((function(){var r=localStorage.getItem(o);if("undefined"===r){var s=Object(v.a)();return localStorage.setItem(e,JSON.stringify(s)),s}return null!=r?JSON.parse(r):"function"===typeof t?t():t})),n=Object(d.a)(s,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){localStorage.setItem(o,JSON.stringify(a))}),[o,a]),[a,i]}var Ot=o(26),wt={colors:["#FF0000","#8FF484","#FF00FF","#FFFF00","#00FFFF","#FF8800","#0088FF","#66FFB2","#8800FF","#FF0088","#445588","#660066","#FF0044","#44FF00","#FF4400","#004499","#00FF44","#F8844F","#F8F484","#488F4F","#484FF8","#8F484F","#00FF00","#F4488F","#F48F84","#8F844F","#336688","#F0B666","#D96547","#2277DD","#886633"]};function yt(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var Nt=Math.floor;function Ct(e,t){this.id=e,this.color=t,this.neighbour=[],this.selected=!1}function Gt(e,t,o){this.row=e,this.col=t,this.backgroundColor=o||"#FFFFFF",this.location=null}function kt(e,t,o,r,s){r=r||{},this.canvas=e,this.ctx=e.getContext("2d"),this.width=Nt(t),this.height=Nt(o),this.setModalLocationId=s;var n=r.padding;if("undefined"===typeof n&&(n=0),this.padding="number"===typeof n?{top:n,right:n,bottom:n,left:n}:n,this.cellSize=50,this.cellSpacing=2,this.drawBorder=r.drawBorder,this.borderColor=r.borderColor||"#D3D3D3",this.backgroundColor=r.backgroundColor||"#FFFFFF",r.resizeCanvas){var a=this.padding.left+this.padding.right,i=this.padding.top+this.padding.bottom;a+=this.width*(this.cellSize+this.cellSpacing),i+=this.height*(this.cellSize+this.cellSpacing),this.drawBorder&&(a+=2*this.cellSpacing,i+=2*this.cellSpacing),this.canvas.width=a,this.canvas.height=i}this.nodes=[];for(var l=0;l<this.height;++l){this.nodes[l]=[];for(var c=0;c<this.width;++c)this.nodes[l][c]=new Gt(l,c,"#FFFFFF")}this.locations=[],this.colorTable=wt.colors,this.isColorTable=new Array(this.colorTable.length).fill(!1),this.countClick=0,this.boolLocWall=!0;var d=this;function u(e,t){return e-=d.padding.left,t-=d.padding.top,d.drawBorder&&(e-=d.cellSpacing,t-=d.cellSpacing),e=Nt((e-e/d.cellSize*d.cellSpacing)/d.cellSize),t=Nt((t-t/d.cellSize*d.cellSpacing)/d.cellSize),e>=0&&e<d.width&&t>=0&&t<d.height?d.nodes[t][e]:null}e.addEventListener("mousedown",(function(e){if(d.boolLocWall){if(!d.onclick)return;var t=u(e.offsetX,e.offsetY);t&&(yt(d.getStart())?d.countClick=1:d.countClick=0,d.onclick(t))}})),e.addEventListener("mouseup",(function(e){if(d.boolLocWall){if(!d.onclick)return;var t=u(e.offsetX,e.offsetY);if(t&&!yt(d.getStart())){var o=d.getStart();d.countClick>0&&(o.row!==t.row||o.col!==t.col)?(d.countClick=0,d.onclick(t)):d.countClick=2}}})),e.addEventListener("mousemove",(function(e){if(d.boolLocWall&&1===d.countClick){var t=u(e.offsetX,e.offsetY);t&&(d.restoreColorNode(),d.setEndNode(t.row,t.col),d.setZoneColor("#D3D3D3"))}})),e.addEventListener("click",(function(e){if(!d.boolLocWall){var t=u(e.offsetX,e.offsetY);t&&null!==t.location&&d.selectLocation(t)}})),this.draw()}Gt.prototype={toString:function(){return"<node x="+this.x+" y="+this.y+" location='"+this.location+"'>"}};var Ft={},St={};kt.prototype={loadGrid:function(e){for(var t=0;t<e.length;t++){this.locations.push(new Ct(e[t].id,e[t].color)),this.checkColor(e[t].color);for(var o=0;o<e[t].adjacency.length;o++)this.locations[t].neighbour.push(e[t].adjacency[o]);for(var r=0;r<e[t].coordinates.length;r++)this.nodes[e[t].coordinates[r].row][e[t].coordinates[r].col].backgroundColor=this.locations[t].color,this.nodes[e[t].coordinates[r].row][e[t].coordinates[r].col].location=this.locations[t].id}this.draw()},getNodes:function(){return this.nodes},setNodes:function(e,t,o,r,s,n,a){for(var i=t;i<o;i++)for(var l=s;l<n;l++)this.nodes[i][l].backgroundColor=e[r+i][a+l].backgroundColor,this.nodes[i][l].location=e[r+i][a+l].location},getStart:function(){return Ft},setStartNode:function(e,t){Ft.row=e,Ft.col=t},setEndNode:function(e,t){St.row=e,St.col=t},resetNode:function(){Ft={},St={}},setBackgroundColor:function(e,t,o){this.nodes[e][t].backgroundColor=o},setZoneColor:function(e){for(var t=this.minMax(Ft.row,St.row),o=this.minMax(Ft.col,St.col),r=t[0];r<=t[1];r++)for(var s=o[0];s<=o[1];s++)this.setBackgroundColor(r,s,e);this.draw()},restoreColorNode:function(){for(var e=0;e<this.height;++e)for(var t=0;t<this.width;++t)if("#D3D3D3"===this.nodes[e][t].backgroundColor||"#808080"===this.nodes[e][t].backgroundColor)if(null===this.nodes[e][t].location)this.setBackgroundColor(e,t,"#FFFFFF");else{var o=this.getIndexLocation(this.nodes[e][t].location);-1!==o&&this.setBackgroundColor(e,t,this.locations[o].color)}this.draw()},setLocation:function(e,t,o){var r=this.nodes[e][t].location;this.nodes[e][t].location=o,null!==r&&this.checkPresentLocation(r)},getNbLocations:function(){return this.locations.length},setZoneLocation:function(e){for(var t=this.minMax(Ft.row,St.row),o=this.minMax(Ft.col,St.col),r=t[0];r<=t[1];r++)for(var s=o[0];s<=o[1];s++)this.setLocation(r,s,e.id),this.setBackgroundColor(r,s,e.color);this.draw()},getLocations:function(){return this.locations},getLocationsSelected:function(){for(var e=[],t=0;t<this.getNbLocations();t++)this.locations[t].selected&&e.push(this.locations[t]);return e},setLocations:function(e){for(var t=0;t<e.length;t++)this.locations.push(e[t]),this.checkColor(e[t].color)},checkPresentLocation:function(e){for(var t=0,o=0;o<this.height;o++)for(var r=0;r<this.width;r++)this.nodes[o][r].location===e&&t++;if(0===t){var s=this.getIndexLocation(e);-1!==s&&this.deleteLocationInArray(s)}},addLocation:function(e){var t=this.askToColor(e);t&&(t[0]<0&&(this.locations.push(new Ct(e,t[1])),t[0]=this.getNbLocations()-1),this.setZoneLocation(this.locations[t[0]]),t[0]=this.getIndexLocation(e),this.addLocationNeighbour(this.locations[t[0]])),this.restoreColorNode(),this.resetNode()},deleteLocation:function(e){for(var t=this.locations[e].id,o=0;o<this.height;o++)for(var r=0;r<this.width;r++)this.nodes[o][r].location===t&&(this.setBackgroundColor(o,r,"#FFFFFF"),this.setLocation(o,r,null));this.draw()},deleteLocationInArray:function(e){if(void 0!==this.locations[e]){for(var t=0;t<this.colorTable.length;t++)this.colorTable[t]===this.locations[e].color&&(this.isColorTable[t]=!1);this.deleteLocationNeighbour(this.locations[e]);for(var o=e;o<this.locations.length-1;o++)this.locations[o]=this.locations[o+1];this.locations.pop()}},deleteLocations:function(){for(var e=0;e<this.height;e++)for(var t=0;t<this.width;t++)this.setBackgroundColor(e,t,"#FFFFFF"),this.setLocation(e,t,null);this.draw(),this.resetBackgroundColor(),this.resetNode(),this.locations=[]},getIndexLocation:function(e){for(var t=0;t<this.getNbLocations();t++)if(this.locations[t].id===e)return t;return-1},checkNeighbour:function(e,t){for(var o=0;o<this.height;o++)for(var r=0;r<this.width;r++)if(this.nodes[o][r].location===e.id){if(o-1>=0&&this.nodes[o-1][r].location===t.id)return!0;if(r-1>=0&&this.nodes[o][r-1].location===t.id)return!0;if(o+1<this.height&&this.nodes[o+1][r].location===t.id)return!0;if(r+1<this.width&&this.nodes[o][r+1].location===t.id)return!0}return!1},isNeighbour:function(e,t){for(var o=0;o<e.neighbour.length;o++)if(e.neighbour[o]===t)return!0;return!1},addLocationNeighbour:function(e){for(var t=0;t<this.height;t++)for(var o=0;o<this.width;o++)this.nodes[t][o].location===e.id&&(t-1>=0&&this.nodes[t-1][o].location!==e.id&&null!==this.nodes[t-1][o].location&&(this.isNeighbour(e,this.nodes[t-1][o].location)||(e.neighbour.push(this.nodes[t-1][o].location),this.locations[this.getIndexLocation(this.nodes[t-1][o].location)].neighbour.push(e.id))),o-1>=0&&this.nodes[t][o-1].location!==e.id&&null!==this.nodes[t][o-1].location&&(this.isNeighbour(e,this.nodes[t][o-1].location)||(e.neighbour.push(this.nodes[t][o-1].location),this.locations[this.getIndexLocation(this.nodes[t][o-1].location)].neighbour.push(e.id))),t+1<this.height&&this.nodes[t+1][o].location!==e.id&&null!==this.nodes[t+1][o].location&&(this.isNeighbour(e,this.nodes[t+1][o].location)||(e.neighbour.push(this.nodes[t+1][o].location),this.locations[this.getIndexLocation(this.nodes[t+1][o].location)].neighbour.push(e.id))),o+1<this.width&&this.nodes[t][o+1].location!==e.id&&null!==this.nodes[t][o+1].location&&(this.isNeighbour(e,this.nodes[t][o+1].location)||(e.neighbour.push(this.nodes[t][o+1].location),this.locations[this.getIndexLocation(this.nodes[t][o+1].location)].neighbour.push(e.id))))},deleteNeighbour:function(e,t){for(var o=!1,r=0;r<e.neighbour.length;r++)e.neighbour[r]===t.id&&(o=!0),o&&(e.neighbour[r]=e.neighbour[r+1]);e.neighbour.pop()},deleteLocationNeighbour:function(e){for(var t=0;t<e.neighbour.length;t++){for(var o=!1,r=this.locations[this.getIndexLocation(e.neighbour[t])],s=0;s<r.neighbour.length-1;s++)r.neighbour[s]===e.id&&(o=!0),o&&(r.neighbour[s]=r.neighbour[s+1]);r.neighbour.pop()}},resetBackgroundColor:function(){for(var e=0;e<this.isColorTable.length;e++)this.isColorTable[e]=!1},checkColor:function(e){for(var t=0;t<this.colorTable.length;t++)this.colorTable[t]===e&&(this.isColorTable[t]=!0)},chooseBackgroundColor:function(){for(var e=0;e<this.isColorTable.length;e++)if(!1===this.isColorTable[e])return this.isColorTable[e]=!0,this.colorTable[e];return!1},checkSameNeighbour:function(e){for(var t=this.minMax(Ft.row,St.row),o=this.minMax(Ft.col,St.col),r=t[0];r<=t[1];r++)for(var s=o[0];s<=o[1];s++){if(this.nodes[r][s].location===e)return!0;if(r-1>=0&&this.nodes[r-1][s].location===e)return!0;if(s-1>=0&&this.nodes[r][s-1].location===e)return!0;if(r+1<this.height&&this.nodes[r+1][s].location===e)return!0;if(s+1<this.width&&this.nodes[r][s+1].location===e)return!0}return!1},askToColor:function(e){if(null===e||""===e)return this.restoreColorNode(),this.resetNode(),!1;for(var t,o=-1,r=0;r<this.getNbLocations();r++)this.locations[r].id===e&&(o=this.checkSameNeighbour(e)?r:-2);if(-1===o)t=this.chooseBackgroundColor();else{if(!(o>=0))return!1;t=this.locations[o].color}return[o,t]},minMax:function(e,t){var o,r,s=[];return e<t?(o=e,r=t):(o=t,r=e),s.push(o),s.push(r),s},onclick:function(e){yt(this.getStart())?(this.setStartNode(e.row,e.col),this.setBackgroundColor(e.row,e.col,"#D3D3D3"),this.draw()):(this.setEndNode(e.row,e.col),this.setZoneColor("#808080"),this.setModalLocationId(!0))},triggerWall:function(){this.restoreColorNode(),this.resetNode(),this.boolLocWall=!this.boolLocWall,this.draw()},selectLocation:function(e){var t=this.getIndexLocation(e.location);this.locations[t].selected=!this.locations[t].selected;var o=this.getLocationsSelected();o.length>1&&(this.checkNeighbour(o[0],o[1])&&(this.isNeighbour(o[0],o[1].id)?(this.deleteNeighbour(o[0],o[1]),this.deleteNeighbour(o[1],o[0])):(o[0].neighbour.push(o[1].id),o[1].neighbour.push(o[0].id))),o[0].selected=!o[0].selected,o[1].selected=!o[1].selected,this.boolLocWall=!this.boolLocWall),this.draw()},clearMsgMode:function(){this.boolLocWall=1},draw:function(){var e=this.ctx,t=this.cellSize,o=this.cellSpacing,r=this.drawBorder?this.cellSpacing:-this.cellSpacing,s=this.drawBorder?this.cellSpacing:0;e.clearRect(0,0,this.canvas.width,this.canvas.height),e.save(),e.fillStyle=this.borderColor,e.fillRect(this.padding.left,this.padding.top,(t+o)*this.width+r,(t+o)*this.height+r);for(var n=this.padding.top+s,a=0;a<this.height;++a){for(var i=this.padding.left+s,l=0;l<this.width;++l)e.filter="brightness(100%)",e.fillStyle=this.nodes[a][l].backgroundColor||this.backgroundColor,"#ffffff"!==e.fillStyle&&(null!==this.nodes[a][l].location&&(this.locations[this.getIndexLocation(this.nodes[a][l].location)].selected&&(e.filter="brightness(50%)"),this.drawWall(e,i,n,t,o,a,l)),this.drawBorderLocation(e,i,n,t,o,a,l)),this.drawNode(e,i,n,t),i+=t+o;n+=t+o}for(var c=0;c<this.getNbLocations();c++){for(var d=[],u=[-1,-1,-1],h=0;h<this.height;++h)for(var b=0;b<this.width;++b)this.nodes[h][b].location===this.locations[c].id&&(d=this.getAreaFromACell(h,b))[2]>u[2]&&(u=d);e.font="30px Arial",e.textBaseline="middle",e.textAlign="center",e.fillStyle="#000000";var f=o+this.padding.left,m=o+this.padding.top;f+=u[1]*(o+t),m+=u[0]*(o+t),f+=u[3]*(o+t)/2,m+=u[4]*(o+t)/2,e.fillText(this.locations[c].id,f,m)}if(1!==this.boolLocWall){var g=o+this.padding.left,j=o+this.padding.top;g+=this.width*(o+t)/2,j+=this.height*(o+t)+10,e.font="20px Arial",e.textBaseline="middle",e.textAlign="center",e.fillStyle="#000000",this.boolLocWall?e.fillText("Location mode",g,j):e.fillText("Wall mode",g,j),e.font="12px Arial",this.boolLocWall?(e.fillText("Click on a first cell, then click on",g,j+17),e.fillText("the opposite corner of the location you want.",g,j+29),e.fillText("You can also drag and drop",g,j+42)):(e.fillText("Click on a first location, then click on the second location.",g,j+17),e.fillText("A wall will appear",g,j+32))}},drawNode:function(e,t,o,r){e.fillRect(t,o,r,r)},drawBorderLocation:function(e,t,o,r,s,n,a){var i=0;n-1>=0&&this.nodes[n-1][a].backgroundColor===e.fillStyle.toUpperCase()&&(e.fillRect(t,o-s,r,s),i++),a-1>=0&&this.nodes[n][a-1].backgroundColor===e.fillStyle.toUpperCase()&&(e.fillRect(t-s,o,s,r),i++),2===i&&this.nodes[n-1][a-1].backgroundColor===e.fillStyle.toUpperCase()&&e.fillRect(t-s,o-s,s,s),i=0},drawWall:function(e,t,o,r,s,n,a){var i;e.fillStyle="#000000";var l=0;n-1>=0&&null!==this.nodes[n-1][a].location&&(this.nodes[n][a].location!==this.nodes[n-1][a].location?(i=this.locations[this.getIndexLocation(this.nodes[n][a].location)],this.isNeighbour(i,this.nodes[n-1][a].location)||(e.fillRect(t,o-s-s/2,r,s+s/2),l++)):l++),a-1>=0&&null!==this.nodes[n][a-1].location&&(this.nodes[n][a].location!==this.nodes[n][a-1].location?(i=this.locations[this.getIndexLocation(this.nodes[n][a].location)],this.isNeighbour(i,this.nodes[n][a-1].location)||(e.fillRect(t-s-s/2,o,s+s/2,r),l++)):l++),2===l&&null!==this.nodes[n-1][a-1].location&&this.nodes[n][a].location!==this.nodes[n-1][a-1].location&&(i=this.locations[this.getIndexLocation(this.nodes[n][a].location)],this.isNeighbour(i,this.nodes[n-1][a-1].location)||e.fillRect(t-s-s/2,o-s-s/2,s+s/2,s+s/2)),l=0,e.fillStyle=this.nodes[n][a].backgroundColor},getAreaFromACell:function(e,t){for(var o=this.width,r=-1,s=-1,n=-1,a=e;a<this.height;a++)if(this.nodes[e][t].location===this.nodes[a][t].location)for(var i=t;i<o;i++)this.nodes[a][t].location===this.nodes[a][i].location?r<(a-e+1)*(i-t+1)&&(r=(a-e+1)*(i-t+1),s=a-e+1,n=i-t+1):(o=i,i=this.width);else a=this.height;return[e,t,r,n,s]}};var It=kt,At=o(172);function Tt(e){var t=Object(r.createRef)(),o=Object(r.createRef)(),s=C(),n=Object(At.a)({type:"image/jpeg",quality:1}),a=Object(d.a)(n,2),i=(a[0],a[1]);Object(r.useEffect)((function(){null===e.currentRef&&null!==t.current&&e.setRef(t)}),[t]),Object(r.useEffect)((function(){null!==e.project&&c()}),[e.project]);var l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.emit("save-image",{image:t.split(",")[1],project:e.project}),e.resetProject(),e.goToIndex()},c=function(){return i(o.current).then(l)};return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{children:Object(m.jsx)("div",{ref:o,children:Object(m.jsx)("canvas",{className:"shifted-canvas-margin",ref:t,id:"canvas"})})})})}var Lt=function(e){return Object(m.jsx)("div",{className:"mx-12 my-3 px-4 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg",children:Object(m.jsxs)("div",{className:"flex flex-col justify-center",children:[Object(m.jsxs)(D.k,{responsive:!0,children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{colSpan:e.colspan,className:"title-up text-center",children:e.title}),e.displayAddButton&&Object(m.jsx)("th",{className:"text-center",children:Object(m.jsx)("div",{children:Object(m.jsx)(p,{size:"sm",color:"lightBlue",onClick:e.addLine,children:Object(m.jsx)("i",{className:"fas fa-plus fa-lg"})})})})]})}),Object(m.jsx)("tbody",{children:e.content})]}),e.displayAddWallButton&&Object(m.jsx)("div",{className:"flex flex-col m-auto pb-2",children:Object(m.jsx)(p,{color:"lightBlue",onClick:e.addWall,children:"Add wall"})})]})})};var Bt=function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("i",{className:"text-2xl "+e.statIconName,style:{color:e.color}})}),Object(m.jsx)("td",{className:"text-center",children:e.name}),Object(m.jsx)("td",{children:Object(m.jsx)(D.a,{className:"btn-icon float-right",color:"danger",size:"sm",type:"button",onClick:e.onClick,children:Object(m.jsx)("i",{className:e.deleteIconName})})})]})};function Mt(e){var t=e.copyright,o=e.links;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("footer",{className:"block py-4",children:Object(m.jsxs)("div",{className:"container mx-auto px-4",children:[Object(m.jsx)("hr",{className:"mb-4 border-b-1 border-blueGray-200"}),Object(m.jsxs)("div",{className:"flex flex-wrap items-center md:justify-between justify-center",children:[Object(m.jsx)("div",{className:"w-full md:w-4/12 px-4",children:Object(m.jsxs)("div",{className:"text-center mb-2 md:text-left md:mb-0",children:[t&&t.to&&Object(m.jsx)(i.b,Object(c.a)(Object(c.a)({},t),{},{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left"})),t&&void 0===t.to&&Object(m.jsx)("a",Object(c.a)(Object(c.a)({},t),{},{className:"text-sm text-blueGray-500 font-semibold py-1 text-center md:text-left"}))]})}),Object(m.jsx)("div",{className:"w-full md:w-8/12 px-4",children:Object(m.jsx)("ul",{className:"flex flex-wrap list-none md:justify-end  justify-center",children:o.map((function(e,t){return Object(m.jsxs)("li",{children:[e.to&&Object(m.jsx)(i.b,Object(c.a)(Object(c.a)({},e),{},{className:"text-blueGray-700 hover:text-blueGray-900 text-sm font-semibold block py-1 px-3"})),void 0===e.to&&Object(m.jsx)("a",Object(c.a)(Object(c.a)({},e),{},{className:"text-blueGray-700 hover:text-blueGray-900 text-sm font-semibold block py-1 px-3"}))]},t)}))})})]})]})})})}Mt.defaultProps={copyright:{},links:[]};var Et={copyright:{href:"https://www.creative-tim.com/?ref=npr-footeradmin",target:"_blank",children:"Copyright \xa9 "+(new Date).getFullYear()+" Creative Tim"},links:[{href:"https://www.creative-tim.com?ref=npr-footeradmin",target:"_blank",children:"Creative Tim"},{href:"https://www.creative-tim.com/presentation?ref=npr-footeradmin",target:"_blank",children:"About Us"},{href:"https://www.creative-tim.com/blog/?ref=npr-footeradmin",target:"_blank",children:"Blog"},{href:"https://www.creative-tim.com/license?ref=npr-footeradmin",target:"_blank",children:"Licenses"}]},Dt=["label"];function Wt(e){var t=e.label,o=Object(f.a)(e,Dt);return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("label",{className:"inline-flex items-center cursor-pointer",children:[Object(m.jsx)("input",Object(c.a)(Object(c.a)({},o),{},{type:"checkbox",className:"form-checkbox appearance-none ml-1 w-5 h-5 ease-linear transition-all duration-150 border border-blueGray-300 rounded checked:bg-blueGray-700 checked:border-blueGray-700 focus:border-blueGray-300"})),t?Object(m.jsx)("span",{className:"ml-2 text-sm font-semibold text-blueGray-500",children:t}):null]})})}Wt.defaultProps={};var Pt=function(e){var t=e.element,o=JSON.parse(JSON.stringify(e.mutexList));return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(m.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(m.jsx)("i",{className:e.info.modal.close})}),Object(m.jsx)("h4",{className:"title title-up",children:e.info.title})]}),Object(m.jsxs)("div",{className:"modal-body justify-content-center",onKeyPress:function(r){"Enter"===r.key&&e.validName(t)&&e.save(t,o)},children:[Object(m.jsx)(K,{type:"text",placeholder:"Name *",autoComplete:"off",name:"name",value:t||"",onChange:function(o){if("name"===o.target.name)t=o.target.value;e.edit(t)},autoFocus:!0}),(e.list.length>1||e.number>0)&&Object(m.jsx)("h4",{className:"title title-up mb-3",children:e.info.modal.mutex}),Object(m.jsx)("div",{className:"flex flex-col mt-1",children:e.list.map((function(t,r){return r!==e.number&&Object(m.jsx)(Wt,{label:t,name:"mutex",checked:o.includes(e.list[r]),onChange:function(){return function(t){o.includes(e.list[t])?o.splice(o.indexOf(e.list[t]),1):o.push(e.list[t]),o.sort(),e.editMutex(o)}(r)}},r)}))})]}),Object(m.jsxs)(D.h,{children:[Object(m.jsx)(D.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText}),Object(m.jsx)(D.a,{color:e.info.modal.saveColor,disabled:!e.validName(t),onClick:function(){return e.save(t,o)},children:e.info.modal.saveText})]})]})};function Rt(e,t){return e.length===t.length&&e.every((function(e,o){return e===t[o]}))}var zt={colors:[["#F8844F","#F8F484","#488F4F","#484FF8","#8F484F","#00FF00","#F4488F","#F48F84","#8F844F","#004499","#00FF44","#336688","#F0B666","#D96547","#2277DD","#886633","#0000FF","#FF0000","#8FF484","#FF00FF","#FFFF00","#00FFFF","#FF8800","#0088FF","#66FFB2","#8800FF","#FF0088","#445588","#660066","#FF0044","#44FF00","#FF4400"],["#0088FF","#66FFB2","#8800FF","#8F484F","#00FF00","#F4488F","#F48F84","#8F844F","#336688","#F0B666","#D96547","#FF0088","#445588","#660066","#FF0044","#44FF00","#FF4400","#004499","#00FF44","#F8844F","#F8F484","#488F4F","#484FF8","#2277DD","#886633","#0000FF","#FF0000","#8FF484","#FF00FF","#FFFF00","#00FFFF","#FF8800"],["#8FF484","#FF00FF","#FFFF00","#00FFFF","#FF8800","#0088FF","#66FFB2","#8800FF","#445588","#660066","#FF0044","#44FF00","#FF4400","#FF0088","#F8844F","#F8F484","#488F4F","#484FF8","#8F484F","#00FF00","#F4488F","#F48F84","#8F844F","#004499","#00FF44","#336688","#F0B666","#D96547","#2277DD","#886633","#0000FF","#FF0000"]]};var Jt=function(e){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:Object(m.jsx)("div",{className:"grid grid-template-2",children:e.colors.map((function(t,o){return Object(m.jsx)(F.Tooltip,{html:Object(m.jsxs)("div",{className:"flex flex-col text-left",children:["Mutex group ",t]}),position:"left",arrow:"true",children:Object(m.jsx)("span",{children:Object(m.jsx)("i",{id:"tooltipMutex"+e.list+"-"+e.number+"-"+o,className:"text-2xl "+e.statIconName,style:{color:zt.colors[e.list][t]}})},o)},o)}))})}),Object(m.jsx)("td",{className:"text-break",children:e.name}),Object(m.jsx)("td",{className:"whitespace-nowrap w-1 pr-0",children:Object(m.jsx)(D.a,{className:"btn-icon mr-1 float-right",color:"info",size:"sm",type:"button",onClick:e.onEdit,children:Object(m.jsx)("i",{className:e.editIconName})})}),Object(m.jsx)("td",{children:Object(m.jsx)(D.a,{className:"btn-icon float-right",color:"danger",size:"sm",type:"button",onClick:e.onDelete,children:Object(m.jsx)("i",{className:e.deleteIconName})})})]})};var Vt=function(e){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(m.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(m.jsx)("i",{className:e.info.modal.close})}),Object(m.jsx)("h4",{className:"title title-up",children:e.info.title})]}),Object(m.jsx)("div",{className:"modal-body justify-content-center",onKeyPress:function(t){"Enter"===t.key&&e.validName(e.element,!0)&&e.save()},children:Object(m.jsx)(K,{type:"text",placeholder:"Name *",autoComplete:"off",name:"name",value:e.element,onChange:function(t){return e.edit(t.target.value)},autoFocus:!0})}),Object(m.jsxs)(D.h,{children:[Object(m.jsx)(D.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText}),Object(m.jsx)(D.a,{color:e.info.modal.saveColor,disabled:!e.validName(e.element,!0),onClick:function(){return e.save()},children:e.info.modal.saveText})]})]})};var Ut=function(e){var t=s.a.useState(JSON.parse(JSON.stringify(e.element))),o=Object(d.a)(t,1)[0];function r(t){switch(t.target.name){case"name":o.name=t.target.value;break;case"description":o.description=t.target.value}e.edit(o)}function n(e,t){if("simple gridworld"===t.toLowerCase())return!0;if(null!=e)for(var o=0;o<e.length;o++)if(e[o].toLowerCase()===t.toLowerCase())return!0;return!1}return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"modal-header justify-content-center",children:[Object(m.jsx)("button",{"aria-hidden":!0,className:"close",onClick:e.close,type:"button",children:Object(m.jsx)("i",{className:e.info.modal.close})}),Object(m.jsx)("h4",{className:"title title-up",children:e.info.title})]}),Object(m.jsxs)("div",{className:"modal-body justify-content-center",onKeyPress:function(t){"Enter"!==t.key||""===o||n(e.listOfNames,o.name)||e.save(o)},children:[Object(m.jsx)(K,{type:"text",placeholder:"Name *",autoComplete:"off",name:"name",value:o.name,onChange:r}),Object(m.jsx)("span",{className:"text-red-500 "+(n(e.listOfNames,o.name)?"ml-2":""),children:n(e.listOfNames,o.name)?"This project name already exists":""}),Object(m.jsx)(K,{type:"textarea",placeholder:"Description",autoComplete:"off",name:"description",value:o.description,onChange:r})]}),Object(m.jsxs)(D.h,{children:[Object(m.jsx)(D.a,{color:e.info.modal.cancelColor,onClick:e.close,children:e.info.modal.cancelText}),Object(m.jsx)(D.a,{color:e.info.modal.saveColor,disabled:""===o.name||n(e.listOfNames,o.name),onClick:function(){return e.save(o)},children:e.info.modal.saveText})]})]})},Yt=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(e){var r;return Object(L.a)(this,o),(r=t.call(this,e)).state={started:!1,modalClassic:!1,lists:[[],[],[],[]],numChildren:[0,0,0,0],tmpLists:[[],[],[],[]],currentList:0,currentIndex:0,mutexGroups:[[],[],[]],mutexList:[],modalLocationId:!1,currentIdInput:"",myCanvas:null,modalSaving:!1,savingInfos:{name:"",description:""},environmentToBeSaved:null,errorMsg:"",warningPop:!1},r.setRef=function(e){r.setState({myCanvas:e.current})},r.goToIndex=function(){r.inputElement.click()},r.setModalLocationId=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?r.world.setZoneColor("#808080"):(r.setState({currentIdInput:""}),t||(r.world.restoreColorNode(),r.world.resetNode(),r.world.draw())),r.setState({modalLocationId:e})},r.editCurrentIdInput=function(e){r.setState({currentIdInput:e})},r.saveLocation=function(){r.world.addLocation(r.state.currentIdInput),r.setModalLocationId(!1,!0)},r.deleteLocation=function(e){r.world.deleteLocation(e),r.setState({currentIdInput:""})},r.onAddWall=function(){r.world.triggerWall()},r.setModalClassic=function(e){e||r.setState({tmpLists:r.state.lists}),r.setState({modalClassic:e})},r.onAddLine=function(e){var t=JSON.parse(JSON.stringify(r.state.lists));t[e].push(""),r.setState({tmpLists:t},(function(){return r.editLine(e,r.state.numChildren[e])}))},r.editLine=function(e,t){r.setState({currentList:e,currentIndex:t},(function(){return r.setState({mutexList:r.getMutexElements(r.state.tmpLists[e][t])},(function(){return r.setModalClassic(!0)}))}))},r.editCurrentElement=function(e){r.setState((function(t){return{tmpLists:t.tmpLists.map((function(t,o){return o===r.state.currentList?t.map((function(t,o){return o===r.state.currentIndex?e:t})):t}))}}))},r.saveCurrentElement=function(e,t){if(r.state.currentIndex>=r.state.numChildren[r.state.currentList]){var o=r.state.lists,s=r.state.numChildren;o[r.state.currentList].push(e),s[r.state.currentList]++,r.setState({lists:o,numChildren:s})}r.setState((function(t){return{lists:t.lists.map((function(t,o){return o===r.state.currentList?t.map((function(t,o){return o===r.state.currentIndex?(r.deleteEveryMutexOccurrenceOf(t),e):t})):t}))}}),(function(){r.setState({tmpLists:r.state.lists}),r.updateMutexArray(e,t)})),r.setModalClassic(!1)},r.deleteElement=function(e,t){var o=r.state.lists,s=r.state.numChildren;r.deleteEveryMutexOccurrenceOf(r.state.lists[e][t],e),r.componentsList[e].content.splice(t,1),o[e].splice(t,1),s[e]--,r.setState({lists:o,tmpLists:o,numChildren:s,currentList:e},(function(){0!==e&&r.cleanMutexGroups()}))},r.validName=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(""===e)return!1;for(var o=r.state.lists,s=t?1:0,n=t?0:r.state.currentList;s<o.length;s++)for(var a=0;a<o[s].length;a++)if(o[s][a]===e&&(s!==n||a!==r.state.currentIndex))return!1;return!0},r.addAllElements=function(e,t){var o=r.state.lists,s=r.state.mutexGroups;o[t]=[],s[t-1]=[];for(var n=0;n<e.length;n++)if(o[t].push(e[n].name),void 0!==e[n].mutex_group&&Array.isArray(e[n].mutex_group))for(var a=0;a<e[n].mutex_group.length;a++)void 0===s[t-1][e[n].mutex_group[a]]&&(s[t-1][e[n].mutex_group[a]]=[]),s[t-1][e[n].mutex_group[a]].push(e[n].name);var i=r.state.numChildren;i[t]=e.length,r.setState({lists:o,numChildren:i,mutexGroups:s})},r.getMutexElements=function(e){var t=[],o=r.state.mutexGroups[r.state.currentList-1];if(r.state.currentList>0)for(var s=0;s<o.length;s++)if(o[s].includes(e))for(var n=0;n<o[s].length;n++)t.includes(o[s][n])||o[s][n]===e||t.push(o[s][n]);return t},r.setMutexList=function(e){r.setState({mutexList:e})},r.cleanMutexGroups=function(){for(var e=r.state.mutexGroups,t=e[r.state.currentList-1],o=[],s={},n=0;n<t.length;n++){var a=JSON.stringify(t[n]);s[a]||"[]"===a||(o.push(t[n]),s[a]=!0)}o=function(e){var t,o,r,s=[];for(var n in e){for(var a in t=!0,e)n!==a&&e.hasOwnProperty(a)&&e.hasOwnProperty(n)&&(o=e[a],r=e[n],o.join("|").includes(r.join("|"))&&(t=!1));t&&e.hasOwnProperty(n)&&s.push(e[n])}return s}(o),e[r.state.currentList-1]=o,r.setState({mutexGroups:e})},r.updateMutexArray=function(e,t){r.deleteEveryMutexOccurrenceOf(e);for(var o=!0,s=r.state.mutexGroups[r.state.currentList-1],n=0;n<s.length;n++)if(s[n].sort(),Rt(s[n],t)){s[n].push(e),o=!1;break}if(o)if(0===t.length)s.push([e]);else for(var a=0;a<t.length;a++)s.push([e,t[a]]);r.cleanMutexGroups()},r.deleteEveryMutexOccurrenceOf=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=t||r.state.currentList,s=r.state.mutexGroups[o-1],n=0;n<s.length;n++){var a=s[n].indexOf(e);-1!==a&&s[n].splice(a,1)}},r.getEveryIndexOf=function(e,t){for(var o=[],s=r.state.mutexGroups[t-1],n=0;n<s.length;n++)s[n].includes(e)&&s[n].length>1&&o.push(n);return o},r.clearEnvironment=function(){r.world.deleteLocations(),r.setState({lists:[[],[],[],[]],tmpLists:[[],[],[],[]],mutexGroups:[[],[],[]],numChildren:[0,0,0,0]})},r.setModalSaving=function(e){e||(null===r.props.world?r.setState({savingInfos:{name:"",description:""}}):r.setState({savingInfos:r.props.world.info})),r.setState({modalSaving:e})},r.editSavingInfos=function(e){r.setState({savingInfos:e})},r.saveWorld=function(){r.world.clearMsgMode(),r.world.draw(),r.setModalSaving(!1),r.props.saveEnvironment(r.state.savingInfos,r.state.environmentToBeSaved)},r.updateErrorMsg=function(e){""!==e?(r.setState({errorMsg:e,warningPop:!0}),setTimeout((function(){r.setState({warningPop:!1})}),4e3)):r.setState({warningPop:!1})},r.test=s.a.createRef(),r.saveInToJSON=r.saveInToJSON.bind(Object(Ot.a)(r)),r.world=null,r.size=8,r.componentsList=[],r.projectId=null,r}return Object(B.a)(o,[{key:"componentDidUpdate",value:function(e,t,o){null===this.state.myCanvas||this.state.started||(this.starting(),this.setState({started:!0}))}},{key:"starting",value:function(){null!==this.props.world?(this.setState({savingInfos:this.props.world.info}),this.loadGridworld()):this.generateGridworld()}},{key:"loadGridworld",value:function(){var e=this.props.world.environment;this.world=new It(this.state.myCanvas,e.size.width,e.size.height,{padding:{top:10,left:10,right:10,bottom:60},resizeCanvas:!0,drawBorder:!0},this.setModalLocationId),this.projectId=e.project_id;var t=e.grid.locations;this.world.loadGrid(t);var o=e.actions,r=e.sensors,s=e.context;this.addAllElements(o,1),this.addAllElements(r,2),this.addAllElements(s,3),this.size=e.size.width}},{key:"generateGridworld",value:function(){this.world=new It(this.state.myCanvas,this.size,this.size,{padding:{top:10,left:10,right:10,bottom:60},resizeCanvas:!0,drawBorder:!0},this.setModalLocationId)}},{key:"modifyGridSize",value:function(e){this.size+=e,this.world.restoreColorNode(),this.world.resetNode();for(var t=this.world.getLocations(),o=this.world.getNodes(),r=0,s=o.length,n=o[0].length,a=0,i=0;i<o.length;i++)for(var l=0;l<o[0].length;l++){var c=o[i][l].backgroundColor;"#FFFFFF"!==c&&(s=this.end(s,i,c,s>=i),n=this.end(n,l,c,n>=l),r=this.end(r,i,c,r<=i),a=this.end(a,l,c,a<=l))}var d=r-s+1,u=a-n+1,h=this.size-d,b=this.size-u;if(h<0||b<0)this.updateErrorMsg(Le.errorMsg.gridTooSmall),this.size-=e;else{var f=Math.trunc(h/2),m=Math.trunc(b/2),g=f+d,j=m+u,p=s-f,x=n-m;this.world.onclick=null,this.world=new It(this.state.myCanvas,this.size,this.size,{padding:{top:10,left:10,right:10,bottom:60},resizeCanvas:!0,drawBorder:!0},this.setModalLocationId),this.world.setLocations(t),this.world.setNodes(o,f,g,p,m,j,x),this.world.draw()}}},{key:"end",value:function(e,t,o,r){return!r||e===t&&"black"===o||(e=t),e}},{key:"saveInToJSON",value:function(){var e=this,t={filetype:"environment",project_id:this.projectId};t.size={width:this.size,height:this.size},t.grid={locations:[]};for(var o=this.world.getLocations(),r=0;r<o.length;r++){t.grid.locations.push({coordinates:[],color:o[r].color,id:o[r].id,adjacency:[]});for(var s=0;s<o[r].neighbour.length;s++)t.grid.locations[r].adjacency.push(o[r].neighbour[s])}for(var n=this.world.getNodes(),a=0;a<n.length;a++)for(var i=0;i<n[a].length;i++)if("#FFFFFF"!==n[a][i].backgroundColor&&null!==n[a][i].backgroundColor)for(var l=0;l<o.length;l++)n[a][i].location===o[l].id&&t.grid.locations[l].coordinates.push({row:a,col:i});for(var c=["actions","sensors","context"],d=1;d<this.state.lists.length;d++){t[c[d-1]]=[];for(var u=0;u<this.state.lists[d].length;u++){t[c[d-1]][u]={name:this.state.lists[d][u]};var h=this.getEveryIndexOf(this.state.lists[d][u],d);h.length>0&&(t[c[d-1]][u].mutex_group=h)}}this.setState({environmentToBeSaved:t},(function(){return e.setModalSaving(!0)}))}},{key:"render",value:function(){var e=this;if(this.componentsList=Le.componentsList,null!==this.world){this.componentsList[0].content=[];for(var t=function(t){var o=e.world.getLocations();e.componentsList[0].content[t]=Object(m.jsx)(Bt,{name:o[t].id,onClick:function(){return e.deleteLocation(t)},color:o[t].color,statIconName:"fas fa-square",deleteIconName:"now-ui-icons ui-1_simple-remove"},t)},o=0;o<this.world.getNbLocations();o+=1)t(o);this.componentsList[0].displayAddWallButton=this.world.getNbLocations()>1}for(var r=function(t){e.componentsList[t].content=[];for(var o=function(o){e.componentsList[t].content[o]=Object(m.jsx)(Jt,{number:(t-1)*e.state.numChildren[t]+o,name:e.state.lists[t][o],list:t-1,onEdit:function(){return e.editLine(t,o)},onDelete:function(){return e.deleteElement(t,o)},colors:e.getEveryIndexOf(e.state.lists[t][o],t),statIconName:"far fa-circle",editIconName:"fas fa-pen",deleteIconName:"now-ui-icons ui-1_simple-remove"},(t-1)*e.state.numChildren[t]+o)},r=0;r<e.state.numChildren[t];r+=1)o(r)},s=1;s<this.state.lists.length;s++)r(s);return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(i.b,{to:"/crome",ref:function(t){return e.inputElement=t}}),Object(m.jsx)(ke,Object(c.a)(Object(c.a)({},Fe),{},{states:[!0,!1,!1,!1]})),Object(m.jsxs)("div",{className:"px-4 md:px-6 mx-auto w-full -mt-6",children:[Object(m.jsx)("div",{className:"relative",children:Object(m.jsx)("div",{className:"relative w-full overflow-hidden",children:Object(m.jsx)("div",{children:Object(m.jsx)("div",{id:"body",className:"flex justify-center items-center",children:Object(m.jsxs)("div",{className:"flex container px-4 justify-center",children:[Object(m.jsx)("div",{className:"flex justify-center pr-4 mt-5",children:Object(m.jsx)(i.b,{to:"/crome",className:"hover-no-underline",children:Object(m.jsxs)(p,{color:Le.buttons.back.color,outline:!0,children:[Object(m.jsx)("i",{className:Le.buttons.back.icon+" mr-2"}),Le.buttons.back.text]})})}),Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsxs)("div",{className:"flex flex-col items-center",children:[Object(m.jsx)("div",{className:"w-full flex relative h-10",children:Object(m.jsxs)("div",{className:"absolute right-7/100",children:[Object(m.jsxs)(p,{color:"emerald",onClick:this.saveInToJSON,children:[Object(m.jsx)("i",{className:"mr-2 fas fa-check"}),null===this.projectId?Le.buttons.save:Le.buttons.update]}),Object(m.jsxs)(p,{color:"amber",onClick:this.clearEnvironment,children:[Object(m.jsx)("i",{className:"mr-2 fas fa-trash"}),Le.buttons.clear]})]})}),Object(m.jsx)("div",{children:Object(m.jsx)(Tt,{currentRef:this.state.myCanvas,session:this.props.session,setRef:this.setRef,project:this.props.returnedProjectId,resetProject:this.props.resetProject,goToIndex:this.goToIndex})}),Object(m.jsxs)(D.m,{placement:window.innerWidth>991?"left":"top",target:"canvas",className:"popover-info",isOpen:this.state.warningPop,children:[Object(m.jsx)(D.j,{children:"Warning!"}),Object(m.jsx)(D.i,{children:this.state.errorMsg})]}),Object(m.jsxs)("div",{className:"m-4 px-16 pt-2 pb-2 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg",children:[Object(m.jsx)("span",{className:"font-semibold text-sm mb-1 text-center uppercase text-blueGray-700",children:Le.gridSize}),Object(m.jsxs)("div",{className:"text-center",children:[Object(m.jsx)(p,{size:"sm",color:"red",onClick:function(){return e.modifyGridSize(-1)},children:Object(m.jsx)("i",{className:"fas fa-minus"})}),Object(m.jsx)(p,{size:"sm",color:"lightBlue",onClick:function(){return e.modifyGridSize(1)},children:Object(m.jsx)("i",{className:"fas fa-plus"})})]})]})]})}),Object(m.jsxs)("div",{className:"w-full lg:w-4/12 xl:w-3/12 flex-col mt-4",children:[Object(m.jsx)(F.Tooltip,{html:Object(m.jsx)("div",{className:"flex flex-col text-left",children:Le.help.messages.map((function(e,t){return Object(m.jsxs)("div",{className:"mb-2",children:[Object(m.jsx)("h4",{className:"font-bold",children:e.title}),Object(m.jsx)("div",{children:e.content})]},t)}))}),position:"right",arrow:"true",children:Object(m.jsx)("div",{id:"tooltipHelpBuild",className:"mx-12 my-3 px-4 relative flex flex-col min-w-0 break-words bg-white rounded shadow-lg",children:Object(m.jsx)("div",{className:"flex flex-col justify-center",children:Object(m.jsxs)("div",{className:"flex justify-center items-center title-up text-center my-2",children:[Le.help.title,Object(m.jsx)("i",{className:"ml-1 text-lightBlue-700 text-lg fas fa-info-circle"})]})})})}),this.componentsList.map((function(t,o){return Object(m.jsx)(Lt,{displayAddWallButton:!0===t.displayAddWallButton,addWall:function(){return e.onAddWall()},displayAddButton:!0===t.displayAddButton,addLine:function(){return e.onAddLine(o)},content:t.content,colspan:3,title:t.title},o)}))]})]})})})})}),Object(m.jsx)(Mt,Object(c.a)({},Et))]}),Object(m.jsx)(D.g,{isOpen:this.state.modalLocationId,autoFocus:!1,toggle:function(){return e.setModalLocationId(!1)},className:"custom-modal-dialog sm:c-m-w-70",children:Object(m.jsx)(Vt,{element:this.state.currentIdInput,edit:this.editCurrentIdInput,save:this.saveLocation,close:function(){return e.setModalLocationId(!1)},validName:this.validName,info:Le.modal.inputId})}),Object(m.jsx)(D.g,{isOpen:this.state.modalClassic,autoFocus:!1,toggle:function(){return e.setModalClassic(!1)},className:"custom-modal-dialog sm:c-m-w-70",children:Object(m.jsx)(Pt,{element:this.state.tmpLists[this.state.currentList][this.state.currentIndex],number:this.state.currentIndex,list:this.state.lists[this.state.currentList],mutexList:this.state.mutexList,editMutex:this.setMutexList,edit:this.editCurrentElement,save:this.saveCurrentElement,close:function(){return e.setModalClassic(!1)},validName:this.validName,info:Le.modal.world})}),Object(m.jsx)(D.g,{isOpen:this.state.modalSaving,toggle:function(){return e.setModalSaving(!1)},className:"custom-modal-dialog sm:c-m-w-70",children:Object(m.jsx)(Ut,{element:this.state.savingInfos,listOfNames:null===this.projectId?this.props.worldNames:this.listOfNames,edit:this.editSavingInfos,save:this.saveWorld,close:function(){return e.setModalSaving(!1)},info:Le.modal.saving})})]})}}]),o}(s.a.Component),Qt=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(e){var r;return Object(L.a)(this,o),(r=t.call(this,e)).state={sidebarShow:"y-translate-100",logoState:"fas fa-chevron-up"},r.customText=e.customText,r.text=e.text,r.consoleRef=s.a.createRef(),r}return Object(B.a)(o,[{key:"componentDidUpdate",value:function(e,t,o){this.consoleRef.current.scrollTop=this.consoleRef.current.scrollHeight}},{key:"render",value:function(){var e=this;return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("nav",{className:"block py-4 px-6 bottom-0 w-full bg-blueGray-800 shadow-xl right-0 fixed flex-row flex-nowrap xxl:z-10 z-9999 transition-all duration-300 ease-in-out transform "+this.state.sidebarShow,children:[Object(m.jsx)("button",{className:"flex items-center justify-center cursor-pointer text-blueGray-700 w-10 h-6 border-l-0 border-r border-t border-b border-solid border-blueGray-100 text-xl leading-none focus:outline-none bg-white rounded-r border border-solid border-transparent absolute left-9/10 top--10 z-9998",onClick:function(){"y-translate-100"===e.state.sidebarShow?e.setState({sidebarShow:"y-translate-0",logoState:"fas fa-chevron-down"}):e.setState({sidebarShow:"y-translate-100",logoState:"fas fa-chevron-up"})},children:Object(m.jsx)("i",{className:this.state.logoState})}),Object(m.jsx)("div",{className:"console",children:Object(m.jsx)("textarea",{className:"bg-blueGray-800 no-resize text-white w-full border-0",ref:this.consoleRef,rows:5,readOnly:!0,value:this.props.customText||this.props.text})})]})})}}]),o}(s.a.Component);Qt.defaultProps={};var qt={text:""},Ht=o(109);o(354);var Kt=function(e){var t=C(),o=Object(r.useState)(""),s=Object(d.a)(o,2),n=s[0],a=s[1],i=Object(r.useCallback)((function(e){a(e)}),[a]),l=Object(r.useCallback)((function(e){Ht.b[e.crometypes](e.content)}),[]);return Object(r.useEffect)((function(){if(null!=t)return t.on("send-message",i),function(){t.off("send-message")}}),[t,i,e.session]),Object(r.useEffect)((function(){if(null!=t)return t.on("send-notification",l),function(){t.off("send-message")}}),[t,l,e.session]),Object(r.useEffect)((function(){e.modifyMessage(n)}),[n]),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(Ht.a,{})})},Xt=function(e){Object(M.a)(o,e);var t=Object(E.a)(o);function o(){return Object(L.a)(this,o),t.apply(this,arguments)}return Object(B.a)(o,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"bg-gradient-to-r from-indigo-700 to-lightBlue-600 min-h-screen",children:Object(m.jsx)("div",{className:"flex justify-center min-h-screen",children:Object(m.jsxs)("div",{className:"flex flex-col justify-center w-50",children:[Object(m.jsx)("div",{className:"transition ease-in-out duration-700 hover:custom-transform display-1 title-up text-white text-shadow-md mb-8 text-center font-bold",children:"Crome"}),Object(m.jsx)("div",{className:"text-base text-white mb-12 text-shadow-md text-justify italic",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),Object(m.jsx)("div",{className:"flex justify-center",children:Object(m.jsx)(i.b,{to:"/crome",className:"nav-link",children:Object(m.jsxs)(p,{color:"white",outline:!0,size:"customLg",children:[Object(m.jsx)("span",{className:"text-lg",children:"Start Crome"}),Object(m.jsx)("i",{className:"ml-2 text-lg fa-solid fa-arrow-right"})]})})})]})})})}}]),o}(s.a.Component);function Zt(e){var t=Object(l.g)(),o=vt("id"),r=Object(d.a)(o,2),n=r[0],a=r[1],i=vt("cookie"),u=Object(d.a)(i,1)[0],h=sessionStorage.tabID?sessionStorage.tabID:sessionStorage.tabID=Math.random(),b=s.a.useState(""),f=Object(d.a)(b,2),g=f[0],j=f[1],p=s.a.useState(null),x=Object(d.a)(p,2),v=x[0],O=x[1],w=s.a.useState(null),y=Object(d.a)(w,2),N=y[0],C=y[1],F=s.a.useState(null),S=Object(d.a)(F,2),A=S[0],T=S[1],L=s.a.useState(null),B=Object(d.a)(L,2),M=B[0],E=B[1],D=s.a.useState(!1),W=Object(d.a)(D,2),P=W[0],R=W[1];function z(e){O(e)}function J(e,t){C({info:e,environment:t}),R(!0)}function V(e){T(e)}return s.a.useEffect((function(){window.scrollTo(0,0)}),[t]),Object(m.jsxs)(G,{id:n,cookie:u,tabId:h,children:[Object(m.jsx)(k,{setId:a}),Object(m.jsx)(I,Object(c.a)(Object(c.a)({},pt),{},{currentRoute:"#"+t.pathname,id:n,setId:a,cookie:u,page:e.page})),Object(m.jsx)(Qt,Object(c.a)(Object(c.a)({},qt),{},{customText:g})),Object(m.jsx)(Kt,{modifyMessage:function(e){return t=e,void j(""===g?t:g+"\n"+t);var t},session:n}),Object(m.jsx)(Be,{session:n,world:N,uploadImage:!1,trigger:P,returnProjectId:E,setTrigger:R}),Object(m.jsx)("div",{className:"relative xxl:ml-64 bg-blueGray-100 min-h-screen",children:function(){switch(e.page){case"world":return Object(m.jsx)(Yt,{world:v,session:n,worldNames:A,returnedProjectId:M,resetProject:function(){return E(null)},saveEnvironment:J});case"contracts":return Object(m.jsx)(jt,{});case"crome":return Object(m.jsx)(it,Object(c.a)(Object(c.a)({world:v},xt),{},{setWorld:z,setListOfWorldNames:V,id:n}));default:return Object(m.jsx)(Xt,{})}}()})]})}a.a.render(Object(m.jsx)(i.a,{children:Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{exact:!0,path:"/:id",render:function(e){return Object(m.jsx)(Zt,{page:e.match.params.id})}}),Object(m.jsx)(l.a,{from:"*",to:"/index"})]})}),document.getElementById("root"))},56:function(e,t,o){}},[[355,1,2]]]);
//# sourceMappingURL=main.47c7fab2.chunk.js.map